<?xml version="1.0"?>
<rss version="2.0">
<channel>
<title>Karl Arao's TiddlyWiki</title>
<link>http://karlarao.tiddlyspot.com</link>
<description></description>
<language>en</language>
<copyright>Copyright 2018 KarlArao</copyright>
<pubDate>Wed, 31 Jan 2018 21:54:58 GMT</pubDate>
<lastBuildDate>Wed, 31 Jan 2018 21:54:58 GMT</lastBuildDate>
<docs>http://blogs.law.harvard.edu/tech/rss</docs>
<generator>TiddlyWiki 2.5.0</generator>
<item>
<title>script - get row count of tables</title>
<description>&lt;br&gt;&lt;br&gt;&lt;h1&gt; get tables count of all tables in a database &lt;/h1&gt;sh hive_table_count.sh &amp;lt;databasename&amp;gt;&lt;br&gt;&lt;pre&gt;[raj_ops@sandbox ~]$ cat hive_table_count.sh 
#!/bin/bash
rm -f tableNames.txt
rm -f HiveTableDDL.txt
hive -e &quot;use $1; show tables;&quot; &amp;gt; tableNames.txt  
wait
cat tableNames.txt |while read LINE
   do
   echo -e $LINE &amp;gt;&amp;gt; HiveTableDDL.txt
   hive -e &quot;use $1;select count(*) from $LINE&quot; &amp;gt;&amp;gt;HiveTableDDL.txt
   echo  -e &quot;\n&quot; &amp;gt;&amp;gt; HiveTableDDL.txt
   done

sed '/^$/d' HiveTableDDL.txt  &amp;gt; combinecount.txt
awk '!(NR%2){print$0p}{p=&quot; &quot;$0}' combinecount.txt &amp;gt; finalcount.txt

echo &quot;Table Count Done...&quot;
cat finalcount.txt

&lt;/pre&gt;&lt;br&gt;&lt;br&gt;&lt;h1&gt; get table count based on tables on file tableNames.txt&lt;/h1&gt;sh hive_table_count.sh &amp;lt;databasename&amp;gt;&lt;br&gt;&lt;pre&gt;[raj_ops@sandbox ~]$ cat tableNames.txt 
product
store

[raj_ops@sandbox ~]$ cat hive_table_count.sh 
#!/bin/bash
rm -f HiveTableDDL.txt 
wait
cat tableNames.txt |while read LINE
   do
   echo -e $LINE &amp;gt;&amp;gt; HiveTableDDL.txt
   hive -e &quot;use $1;select count(*) from $LINE&quot; &amp;gt;&amp;gt;HiveTableDDL.txt
   echo  -e &quot;\n&quot; &amp;gt;&amp;gt; HiveTableDDL.txt
   done

sed '/^$/d' HiveTableDDL.txt  &amp;gt; combinecount.txt
awk '!(NR%2){print$0p}{p=&quot; &quot;$0}' combinecount.txt &amp;gt; finalcount.txt

echo &quot;Table Count Done...&quot;
cat finalcount.txt

&lt;/pre&gt;&lt;br&gt;&lt;h1&gt; example run &lt;/h1&gt;&lt;pre&gt;[raj_ops@sandbox ~]$ sh hive_table_count.sh foodmart

Logging initialized using configuration in file:/etc/hive/2.5.0.0-1245/0/hive-log4j.properties
OK
Time taken: 2.923 seconds
Query ID = raj_ops_20180123123341_474704d8-3d04-421c-8cfa-6c7f92cfe2cb
Total jobs = 1
Launching Job 1 out of 1


Status: Running (Executing on YARN cluster with App id application_1516661636204_0040)

Map 1: -/-	Reducer 2: 0/1	
Map 1: 0/1	Reducer 2: 0/1	
Map 1: 0(+1)/1	Reducer 2: 0/1	
Map 1: 1/1	Reducer 2: 0(+1)/1	
Map 1: 1/1	Reducer 2: 1/1	
OK
Time taken: 11.666 seconds, Fetched: 1 row(s)

Logging initialized using configuration in file:/etc/hive/2.5.0.0-1245/0/hive-log4j.properties
OK
Time taken: 2.736 seconds
Query ID = raj_ops_20180123123411_0b27390f-a606-42f9-ac4d-682607af30af
Total jobs = 1
Launching Job 1 out of 1


Status: Running (Executing on YARN cluster with App id application_1516661636204_0041)

Map 1: -/-	Reducer 2: 0/1	
Map 1: 0/1	Reducer 2: 0/1	
Map 1: 0/1	Reducer 2: 0/1	
Map 1: 0(+1)/1	Reducer 2: 0/1	
Map 1: 0(+1)/1	Reducer 2: 0/1	
Map 1: 0/1	Reducer 2: 0/1	
Map 1: 1/1	Reducer 2: 0(+1)/1	
Map 1: 1/1	Reducer 2: 1/1	
OK
Time taken: 13.599 seconds, Fetched: 1 row(s)
Table Count Done...
1560 product
25 store

&lt;/pre&gt;&lt;br&gt;&lt;br&gt;&lt;h1&gt; reference &lt;/h1&gt;&lt;br&gt;&lt;br&gt;&lt;a target=&quot;_blank&quot; title=&quot;External link to https://stackoverflow.com/questions/21900886/get-row-count-from-all-tables-in-hive&quot; href=&quot;https://stackoverflow.com/questions/21900886/get-row-count-from-all-tables-in-hive&quot; class=&quot;externalLink&quot;&gt;https://stackoverflow.com/questions/21900886/get-row-count-from-all-tables-in-hive&lt;/a&gt;&lt;br&gt;&lt;br&gt;&lt;blockquote&gt;You will need to do a&lt;br&gt;&lt;br&gt;&lt;pre&gt;select count(*) from table
&lt;/pre&gt;&lt;br&gt;for all tables.&lt;br&gt;&lt;br&gt;To automate this, you can make a small bash script and some bash commands. First run&lt;br&gt;&lt;br&gt;&lt;pre&gt;$hive -e 'show tables' | tee tables.txt
&lt;/pre&gt;&lt;br&gt;This stores all tables in the database in a text file tables.txt&lt;br&gt;&lt;br&gt;Create a bash file (count_tables.sh) with the following contents.&lt;br&gt;&lt;br&gt;&lt;pre&gt;while read line
do
 echo &quot;$line &quot;
 eval &quot;hive -e 'select count(*) from $line'&quot;
done
&lt;/pre&gt;&lt;br&gt;Now run the following commands.&lt;br&gt;&lt;br&gt;&lt;pre&gt;$chmod +x count_tables.sh
$./count_tables.sh &amp;lt; tables.txt &amp;gt; counts.txt
&lt;/pre&gt;&lt;br&gt;This creates a text file(counts.txt) with the counts of all the tables in the database&lt;br&gt;&lt;/blockquote&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;</description>
<category>.hive commands</category>
<link>http://karlarao.tiddlyspot.com#%5B%5Bscript%20-%20get%20row%20count%20of%20tables%5D%5D</link>
<pubDate>Wed, 31 Jan 2018 21:53:26 GMT</pubDate>

</item>
<item>
<title>hive create database</title>
<description>&lt;pre&gt;create database hr;

CREATE TABLE IF NOT EXISTS hr.employees ( eid int, name String,
salary String, destination String)
COMMENT 'Employee details'
ROW FORMAT DELIMITED
FIELDS TERMINATED BY '\t'
LINES TERMINATED BY '\n'
STORED AS TEXTFILE;
&lt;/pre&gt;&lt;br&gt;&lt;pre&gt;[root@sandbox ~]# hadoop fs -ls /apps/hive/warehouse/
Found 5 items
drwxrwxrwx   - hive    hdfs          0 2016-10-25 08:10 /apps/hive/warehouse/foodmart.db
drwxrwxrwx   - raj_ops hdfs          0 2018-01-23 10:07 /apps/hive/warehouse/hr.db
drwxrwxrwx   - hive    hdfs          0 2016-10-25 08:11 /apps/hive/warehouse/sample_07
drwxrwxrwx   - hive    hdfs          0 2016-10-25 08:11 /apps/hive/warehouse/sample_08
drwxrwxrwx   - hive    hdfs          0 2016-10-25 08:02 /apps/hive/warehouse/xademo.db

[root@sandbox ~]# hadoop fs -ls /apps/hive/warehouse/hr.db
Found 1 items
drwxrwxrwx   - raj_ops hdfs          0 2018-01-23 10:08 /apps/hive/warehouse/hr.db/employees

&lt;/pre&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;</description>
<category>.hive commands</category>
<link>http://karlarao.tiddlyspot.com#%5B%5Bhive%20create%20database%5D%5D</link>
<pubDate>Wed, 31 Jan 2018 19:35:00 GMT</pubDate>

</item>
<item>
<title>.hive scripting</title>
<description>&lt;h1&gt; run query&lt;/h1&gt;&lt;pre&gt;[raj_ops@sandbox ~]$ hive -e 'select * from foodmart.customer limit 2'
&lt;/pre&gt;&lt;br&gt;&lt;h1&gt; run script&lt;/h1&gt;&lt;pre&gt;[raj_ops@sandbox ~]$ hive -f test.sql 
[raj_ops@sandbox ~]$ cat test.sql 
select * from foodmart.customer limit 2;
&lt;/pre&gt;</description>
<category>.hive commands</category>
<link>http://karlarao.tiddlyspot.com#%5B%5B.hive%20scripting%5D%5D</link>
<pubDate>Wed, 31 Jan 2018 19:23:00 GMT</pubDate>

</item>
<item>
<title>.hive cheatsheet</title>
<description>&lt;a target=&quot;_blank&quot; title=&quot;External link to http://hortonworks.com/wp-content/uploads/2016/05/Hortonworks.CheatSheet.SQLtoHive.pdf&quot; href=&quot;http://hortonworks.com/wp-content/uploads/2016/05/Hortonworks.CheatSheet.SQLtoHive.pdf&quot; class=&quot;externalLink&quot;&gt;http://hortonworks.com/wp-content/uploads/2016/05/Hortonworks.CheatSheet.SQLtoHive.pdf&lt;/a&gt;</description>
<category>.hive commands</category>
<link>http://karlarao.tiddlyspot.com#%5B%5B.hive%20cheatsheet%5D%5D</link>
<pubDate>Wed, 31 Jan 2018 19:16:00 GMT</pubDate>

</item>
<item>
<title>hdp sandbox installation 2.5</title>
<description>&lt;h1&gt; to access&lt;/h1&gt;&lt;br&gt;&lt;pre&gt;-- from within the VM 
docker ps -a 
ssh -p 2222 root@localhost
root/xxx1txx$1

-- login as raj_ops
hive

-- then from ambari
http://localhost:8888
http://127.0.0.1:8080/#/main/dashboard/metrics
admin/hadoop

&lt;/pre&gt;&lt;br&gt;&lt;h1&gt; hive directory &lt;/h1&gt;to get the directory&lt;br&gt;&lt;pre&gt;find / | grep -i hive-site.xml
 less /etc/hive2/2.5.0.0-1245/0/hive-site.xml
 less /etc/hive/2.5.0.0-1245/0/hive-site.xml
&lt;/pre&gt;another way &lt;br&gt;&lt;pre&gt;describe formatted dbname.tablename
describe formatted dbname.tablename partition (name=value)
&lt;/pre&gt;&lt;br&gt;&lt;pre&gt;[root@sandbox ~]# hadoop fs -ls /apps/hive/warehouse/
Found 4 items
drwxrwxrwx   - hive hdfs          0 2016-10-25 08:10 /apps/hive/warehouse/foodmart.db
drwxrwxrwx   - hive hdfs          0 2016-10-25 08:11 /apps/hive/warehouse/sample_07
drwxrwxrwx   - hive hdfs          0 2016-10-25 08:11 /apps/hive/warehouse/sample_08
drwxrwxrwx   - hive hdfs          0 2016-10-25 08:02 /apps/hive/warehouse/xademo.db
&lt;/pre&gt;</description>
<category>.hadoop sandbox</category>
<link>http://karlarao.tiddlyspot.com#%5B%5Bhdp%20sandbox%20installation%202.5%5D%5D</link>
<pubDate>Wed, 31 Jan 2018 19:15:00 GMT</pubDate>

</item>
<item>
<title>Joins</title>
<description>&lt;a target=&quot;_blank&quot; title=&quot;External link to http://jonathanlewis.wordpress.com/2010/08/02/joins/&quot; href=&quot;http://jonathanlewis.wordpress.com/2010/08/02/joins/&quot; class=&quot;externalLink&quot;&gt;http://jonathanlewis.wordpress.com/2010/08/02/joins/&lt;/a&gt;&lt;br&gt;&lt;a target=&quot;_blank&quot; title=&quot;External link to http://jonathanlewis.wordpress.com/2010/08/09/joins-nlj/&quot; href=&quot;http://jonathanlewis.wordpress.com/2010/08/09/joins-nlj/&quot; class=&quot;externalLink&quot;&gt;http://jonathanlewis.wordpress.com/2010/08/09/joins-nlj/&lt;/a&gt;&lt;br&gt;&lt;a target=&quot;_blank&quot; title=&quot;External link to http://jonathanlewis.wordpress.com/2010/08/10/joins-hj/&quot; href=&quot;http://jonathanlewis.wordpress.com/2010/08/10/joins-hj/&quot; class=&quot;externalLink&quot;&gt;http://jonathanlewis.wordpress.com/2010/08/10/joins-hj/&lt;/a&gt;&lt;br&gt;&lt;a target=&quot;_blank&quot; title=&quot;External link to http://jonathanlewis.wordpress.com/2010/08/15/joins-mj/&quot; href=&quot;http://jonathanlewis.wordpress.com/2010/08/15/joins-mj/&quot; class=&quot;externalLink&quot;&gt;http://jonathanlewis.wordpress.com/2010/08/15/joins-mj/&lt;/a&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;span&gt;—&lt;/span&gt; Optimizing two table join - video! TROUG&lt;br&gt;&lt;a target=&quot;_blank&quot; title=&quot;External link to http://jonathanlewis.wordpress.com/2011/06/23/video/&quot; href=&quot;http://jonathanlewis.wordpress.com/2011/06/23/video/&quot; class=&quot;externalLink&quot;&gt;http://jonathanlewis.wordpress.com/2011/06/23/video/&lt;/a&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;SQL Joins Graphically&lt;br&gt;&lt;a target=&quot;_blank&quot; title=&quot;External link to http://db-optimizer.blogspot.com/2010/09/sql-joins-graphically.html&quot; href=&quot;http://db-optimizer.blogspot.com/2010/09/sql-joins-graphically.html&quot; class=&quot;externalLink&quot;&gt;http://db-optimizer.blogspot.com/2010/09/sql-joins-graphically.html&lt;/a&gt; based on &lt;a target=&quot;_blank&quot; title=&quot;External link to http://www.codeproject.com/KB/database/Visual_SQL_Joins.aspx?msg=2919602&quot; href=&quot;http://www.codeproject.com/KB/database/Visual_SQL_Joins.aspx?msg=2919602&quot; class=&quot;externalLink&quot;&gt;http://www.codeproject.com/KB/database/Visual_SQL_Joins.aspx?msg=2919602&lt;/a&gt;&lt;br&gt;&lt;a target=&quot;_blank&quot; title=&quot;External link to http://db-optimizer.blogspot.com/2009/06/sql-joins.html&quot; href=&quot;http://db-optimizer.blogspot.com/2009/06/sql-joins.html&quot; class=&quot;externalLink&quot;&gt;http://db-optimizer.blogspot.com/2009/06/sql-joins.html&lt;/a&gt; based on &lt;a target=&quot;_blank&quot; title=&quot;External link to http://blog.mclaughlinsoftware.com/oracle-sql-programming/basic-sql-join-semantics/&quot; href=&quot;http://blog.mclaughlinsoftware.com/oracle-sql-programming/basic-sql-join-semantics/&quot; class=&quot;externalLink&quot;&gt;http://blog.mclaughlinsoftware.com/oracle-sql-programming/basic-sql-join-semantics/&lt;/a&gt;&lt;br&gt;&lt;a target=&quot;_blank&quot; title=&quot;External link to http://www.gplivna.eu/papers/sql_join_types.htm&quot; href=&quot;http://www.gplivna.eu/papers/sql_join_types.htm&quot; class=&quot;externalLink&quot;&gt;http://www.gplivna.eu/papers/sql_join_types.htm&lt;/a&gt;&lt;br&gt;&lt;a target=&quot;_blank&quot; title=&quot;External link to http://www.oaktable.net/content/sql-joins-visualized-surprising-way&quot; href=&quot;http://www.oaktable.net/content/sql-joins-visualized-surprising-way&quot; class=&quot;externalLink&quot;&gt;http://www.oaktable.net/content/sql-joins-visualized-surprising-way&lt;/a&gt;&lt;br&gt;&lt;br&gt;&lt;a target=&quot;_blank&quot; title=&quot;External link to https://www.techonthenet.com/oracle/joins.php&quot; href=&quot;https://www.techonthenet.com/oracle/joins.php&quot; class=&quot;externalLink&quot;&gt;https://www.techonthenet.com/oracle/joins.php&lt;/a&gt;   &amp;lt;&lt;span&gt;—&lt;/span&gt; GOOD STUFF&lt;br&gt;&lt;a target=&quot;_blank&quot; title=&quot;External link to http://searchoracle.techtarget.com/answer/Alternative-to-LEFT-OUTER-JOIN&quot; href=&quot;http://searchoracle.techtarget.com/answer/Alternative-to-LEFT-OUTER-JOIN&quot; class=&quot;externalLink&quot;&gt;http://searchoracle.techtarget.com/answer/Alternative-to-LEFT-OUTER-JOIN&lt;/a&gt;&lt;br&gt;&lt;a target=&quot;_blank&quot; title=&quot;External link to http://docwiki.embarcadero.com/DBOptimizer/en/Subquery_Diagramming&quot; href=&quot;http://docwiki.embarcadero.com/DBOptimizer/en/Subquery_Diagramming&quot; class=&quot;externalLink&quot;&gt;http://docwiki.embarcadero.com/DBOptimizer/en/Subquery_Diagramming&lt;/a&gt;&lt;br&gt;&lt;a target=&quot;_blank&quot; title=&quot;External link to http://blog.mclaughlinsoftware.com/oracle-sql-programming/basic-sql-join-semantics/&quot; href=&quot;http://blog.mclaughlinsoftware.com/oracle-sql-programming/basic-sql-join-semantics/&quot; class=&quot;externalLink&quot;&gt;http://blog.mclaughlinsoftware.com/oracle-sql-programming/basic-sql-join-semantics/&lt;/a&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;</description>
<category>SQL Tuning</category>
<category>VisualSQLTuning, VST, SQL tuning methodology</category>
<link>http://karlarao.tiddlyspot.com#Joins</link>
<pubDate>Wed, 31 Jan 2018 03:41:00 GMT</pubDate>

</item>
<item>
<title>VisualSQLTuning, VST, SQL tuning methodology</title>
<description>&lt;strong&gt;Start with the following youtube videos&lt;/strong&gt;&lt;br&gt;&lt;a target=&quot;_blank&quot; title=&quot;External link to https://www.youtube.com/watch?v=urK9sQErxHI&amp;amp;list=PLklSCDzsQHdmNhQUKYydLHO5d7E_2NDwK&quot; href=&quot;https://www.youtube.com/watch?v=urK9sQErxHI&amp;amp;list=PLklSCDzsQHdmNhQUKYydLHO5d7E_2NDwK&quot; class=&quot;externalLink&quot;&gt;https://www.youtube.com/watch?v=urK9sQErxHI&amp;amp;list=PLklSCDzsQHdmNhQUKYydLHO5d7E_2NDwK&lt;/a&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;strong&gt;the VST concept&lt;/strong&gt;&lt;br&gt;&lt;a target=&quot;_blank&quot; title=&quot;External link to https://sites.google.com/site/embtdbo/sql-tuning-1&quot; href=&quot;https://sites.google.com/site/embtdbo/sql-tuning-1&quot; class=&quot;externalLink&quot;&gt;https://sites.google.com/site/embtdbo/sql-tuning-1&lt;/a&gt;&lt;br&gt;&lt;a target=&quot;_blank&quot; title=&quot;External link to https://sites.google.com/site/embtdbo/Home/sql-hint-documentation&quot; href=&quot;https://sites.google.com/site/embtdbo/Home/sql-hint-documentation&quot; class=&quot;externalLink&quot;&gt;https://sites.google.com/site/embtdbo/Home/sql-hint-documentation&lt;/a&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;strong&gt;SQL tuning methodology&lt;/strong&gt;&lt;br&gt;&lt;a target=&quot;_blank&quot; title=&quot;External link to http://docwiki.embarcadero.com/DBOptimizer/en/SQL_Tuning&quot; href=&quot;http://docwiki.embarcadero.com/DBOptimizer/en/SQL_Tuning&quot; class=&quot;externalLink&quot;&gt;http://docwiki.embarcadero.com/DBOptimizer/en/SQL_Tuning&lt;/a&gt;&lt;br&gt;&lt;pre&gt;1. List tables in query
2. List the joins in the query
3. Layout a diagram tables as nodes
4. Draw connectors for each join in where clause
1 to 1 connection
use blue line
1 to many
use black line
crows feet towards many
many to many
crows feet on both ends
5. Calculate filter ratios for any tables with filters
filter ratio = number of rows returned with fitler / number of rows
display in yellow below table node
6. Calculate two table join sizes for all two table joins in diagram (ie for every connection line)
extract the join information, including filters, and run count on that join
display in red on join line
Alternatively, or as a complement, calculate join filter ratios in both directions
display at each end of join connection line
7. Find the table sizes for each table
display in green above table node
&lt;/pre&gt;&lt;br&gt;&lt;pre&gt;1 Methodology
1.1 Step 1 : Tables
1.2 Step 2 : Joins
1.3 Step 3: Laying Out Join Diagram
1.4 Step 4: Join Connectors
1.5 Step 5: Predicate Filter Ratio
1.6 Step 6: Two Table Join Sizes and Join Filters
1.7 Step 7: Table Sizes
2 Analyzing Results
2.1 Query 1
2.2 Query 2
2.3 Query 3
2.4 Query 4
3 Subquery Diagramming
3.1 Simple join and non-correlated subqueries
3.2 Single row subquery
3.3 Correlated subquery
3.3.1 Example
3.4 Outer Joins
3.5 In/Exists
3.6 Semi Joins
&lt;/pre&gt;&lt;br&gt;&lt;br&gt;&lt;strong&gt;Patents&lt;/strong&gt;&lt;br&gt;Dan Tow Memory structure and method for tuning a database statement using a join-tree data structure representation, including selectivity factors, of a master table and detail table &lt;a target=&quot;_blank&quot; title=&quot;External link to http://www.freepatentsonline.com/5761654.html&quot; href=&quot;http://www.freepatentsonline.com/5761654.html&quot; class=&quot;externalLink&quot;&gt;http://www.freepatentsonline.com/5761654.html&lt;/a&gt;&lt;br&gt;Mozes, Ari Method and system for sample size determination for database optimizers &lt;a target=&quot;_blank&quot; title=&quot;External link to http://www.freepatentsonline.com/6732085.html&quot; href=&quot;http://www.freepatentsonline.com/6732085.html&quot; class=&quot;externalLink&quot;&gt;http://www.freepatentsonline.com/6732085.html&lt;/a&gt;&lt;br&gt;&lt;a target=&quot;_blank&quot; title=&quot;External link to http://www.freelists.org/post/oracle-l/Dan-Tows-SQL-formula&quot; href=&quot;http://www.freelists.org/post/oracle-l/Dan-Tows-SQL-formula&quot; class=&quot;externalLink&quot;&gt;http://www.freelists.org/post/oracle-l/Dan-Tows-SQL-formula&lt;/a&gt;&lt;br&gt;&lt;a target=&quot;_blank&quot; title=&quot;External link to http://www.hotsos.com/sym09/sym_speakers_tow.html&quot; href=&quot;http://www.hotsos.com/sym09/sym_speakers_tow.html&quot; class=&quot;externalLink&quot;&gt;http://www.hotsos.com/sym09/sym_speakers_tow.html&lt;/a&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;strong&gt;Recommended readables&lt;/strong&gt;&lt;br&gt;SQL Tuning by Dan Tow&lt;br&gt;Refactoring SQL Applications by Stephan Faroult , chapter 5&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;strong&gt;Related blog posts&lt;/strong&gt;&lt;br&gt;&lt;a target=&quot;_blank&quot; title=&quot;External link to http://db-optimizer.blogspot.com/2010/09/sql-tuning-best-practice-visualizing.html&quot; href=&quot;http://db-optimizer.blogspot.com/2010/09/sql-tuning-best-practice-visualizing.html&quot; class=&quot;externalLink&quot;&gt;http://db-optimizer.blogspot.com/2010/09/sql-tuning-best-practice-visualizing.html&lt;/a&gt;&lt;br&gt;&quot;Designing Efficient SQL: A Visual Approach&quot; by Jonathan Lewis&lt;br&gt;&lt;a target=&quot;_blank&quot; title=&quot;External link to http://www.simple-talk.com/sql/performance/designing-efficient-sql-a-visual-approach/&quot; href=&quot;http://www.simple-talk.com/sql/performance/designing-efficient-sql-a-visual-approach/&quot; class=&quot;externalLink&quot;&gt;http://www.simple-talk.com/sql/performance/designing-efficient-sql-a-visual-approach/&lt;/a&gt;&lt;br&gt;&lt;a target=&quot;_blank&quot; title=&quot;External link to http://www.oaktable.net/content/kscope-2013-win-db-optimizer-license-sql-tuning-presentation&quot; href=&quot;http://www.oaktable.net/content/kscope-2013-win-db-optimizer-license-sql-tuning-presentation&quot; class=&quot;externalLink&quot;&gt;http://www.oaktable.net/content/kscope-2013-win-db-optimizer-license-sql-tuning-presentation&lt;/a&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;strong&gt;Other Visualizations&lt;/strong&gt;&lt;br&gt;SQL Joins Graphically&lt;br&gt;&lt;a target=&quot;_blank&quot; title=&quot;External link to http://db-optimizer.blogspot.com/2010/09/sql-joins-graphically.html&quot; href=&quot;http://db-optimizer.blogspot.com/2010/09/sql-joins-graphically.html&quot; class=&quot;externalLink&quot;&gt;http://db-optimizer.blogspot.com/2010/09/sql-joins-graphically.html&lt;/a&gt; based on &lt;a target=&quot;_blank&quot; title=&quot;External link to http://www.codeproject.com/KB/database/Visual_SQL_Joins.aspx?msg=2919602&quot; href=&quot;http://www.codeproject.com/KB/database/Visual_SQL_Joins.aspx?msg=2919602&quot; class=&quot;externalLink&quot;&gt;http://www.codeproject.com/KB/database/Visual_SQL_Joins.aspx?msg=2919602&lt;/a&gt;&lt;br&gt;&lt;a target=&quot;_blank&quot; title=&quot;External link to http://db-optimizer.blogspot.com/2009/06/sql-joins.html&quot; href=&quot;http://db-optimizer.blogspot.com/2009/06/sql-joins.html&quot; class=&quot;externalLink&quot;&gt;http://db-optimizer.blogspot.com/2009/06/sql-joins.html&lt;/a&gt; based on &lt;a target=&quot;_blank&quot; title=&quot;External link to http://blog.mclaughlinsoftware.com/oracle-sql-programming/basic-sql-join-semantics/&quot; href=&quot;http://blog.mclaughlinsoftware.com/oracle-sql-programming/basic-sql-join-semantics/&quot; class=&quot;externalLink&quot;&gt;http://blog.mclaughlinsoftware.com/oracle-sql-programming/basic-sql-join-semantics/&lt;/a&gt;&lt;br&gt;&lt;a target=&quot;_blank&quot; title=&quot;External link to http://www.gplivna.eu/papers/sql_join_types.htm&quot; href=&quot;http://www.gplivna.eu/papers/sql_join_types.htm&quot; class=&quot;externalLink&quot;&gt;http://www.gplivna.eu/papers/sql_join_types.htm&lt;/a&gt;&lt;br&gt;&lt;br&gt;&lt;a target=&quot;_blank&quot; title=&quot;External link to http://docwiki.embarcadero.com/DBOptimizer/en/Subquery_Diagramming&quot; href=&quot;http://docwiki.embarcadero.com/DBOptimizer/en/Subquery_Diagramming&quot; class=&quot;externalLink&quot;&gt;http://docwiki.embarcadero.com/DBOptimizer/en/Subquery_Diagramming&lt;/a&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;</description>
<category>SQL Tuning</category>
<link>http://karlarao.tiddlyspot.com#%5B%5BVisualSQLTuning%2C%20VST%2C%20SQL%20tuning%20methodology%5D%5D</link>
<pubDate>Wed, 31 Jan 2018 03:40:00 GMT</pubDate>

</item>
<item>
<title>hive EXPLAIN plan</title>
<description>&lt;a target=&quot;_blank&quot; title=&quot;External link to https://cwiki.apache.org/confluence/display/Hive/LanguageManual+Explain&quot; href=&quot;https://cwiki.apache.org/confluence/display/Hive/LanguageManual+Explain&quot; class=&quot;externalLink&quot;&gt;https://cwiki.apache.org/confluence/display/Hive/LanguageManual+Explain&lt;/a&gt;&lt;br&gt;&lt;br&gt;&lt;pre&gt;EXPLAIN [EXTENDED|DEPENDENCY|AUTHORIZATION] query
&lt;/pre&gt;</description>
<category>.hive commands</category>
<link>http://karlarao.tiddlyspot.com#%5B%5Bhive%20EXPLAIN%20plan%5D%5D</link>
<pubDate>Wed, 31 Jan 2018 03:24:00 GMT</pubDate>

</item>
<item>
<title>hive KILL session</title>
<description>&lt;a target=&quot;_blank&quot; title=&quot;External link to https://community.hortonworks.com/questions/24595/how-to-shut-downkill-all-queries-in-hive.html&quot; href=&quot;https://community.hortonworks.com/questions/24595/how-to-shut-downkill-all-queries-in-hive.html&quot; class=&quot;externalLink&quot;&gt;https://community.hortonworks.com/questions/24595/how-to-shut-downkill-all-queries-in-hive.html&lt;/a&gt;&lt;br&gt;&lt;br&gt;&lt;pre&gt;[root@sandbox ~]# yarn application -kill application_1482410373661_0002
&lt;/pre&gt;</description>
<category>.hive commands</category>
<link>http://karlarao.tiddlyspot.com#%5B%5Bhive%20KILL%20session%5D%5D</link>
<pubDate>Wed, 31 Jan 2018 03:16:00 GMT</pubDate>

</item>
<item>
<title>script - hive create table</title>
<description>&lt;a target=&quot;_blank&quot; title=&quot;External link to https://stackoverflow.com/questions/18134131/how-to-get-generate-the-create-statement-for-an-existing-hive-table&quot; href=&quot;https://stackoverflow.com/questions/18134131/how-to-get-generate-the-create-statement-for-an-existing-hive-table&quot; class=&quot;externalLink&quot;&gt;https://stackoverflow.com/questions/18134131/how-to-get-generate-the-create-statement-for-an-existing-hive-table&lt;/a&gt;&lt;br&gt;&lt;a target=&quot;_blank&quot; title=&quot;External link to https://www.quora.com/How-can-I-list-all-Hive-tables-and-store-its-DDL-schema-CREATE-TABLE-statement-in-a-text-file&quot; href=&quot;https://www.quora.com/How-can-I-list-all-Hive-tables-and-store-its-DDL-schema-CREATE-TABLE-statement-in-a-text-file&quot; class=&quot;externalLink&quot;&gt;https://www.quora.com/How-can-I-list-all-Hive-tables-and-store-its-DDL-schema-CREATE-TABLE-statement-in-a-text-file&lt;/a&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;h1&gt; step 1) create a .sh file with the below content ,say hive_table_ddl.sh&lt;/h1&gt;&lt;pre&gt;#!/bin/bash
rm -f tableNames.txt
rm -f HiveTableDDL.txt
hive -e &quot;use $1; show tables;&quot; &amp;gt; tableNames.txt  
wait
cat tableNames.txt |while read LINE
   do
   hive -e &quot;use $1;show create table $LINE&quot; &amp;gt;&amp;gt;HiveTableDDL.txt
   echo  -e &quot;\n&quot; &amp;gt;&amp;gt; HiveTableDDL.txt
   done
rm -f tableNames.txt
echo &quot;Table DDL generated&quot;
&lt;/pre&gt;&lt;br&gt;&lt;br&gt;&lt;h1&gt; step 2) Run the above shell script by passing 'db name' as paramanter&lt;/h1&gt;&lt;pre&gt;&amp;gt;bash hive_table_dd.sh &amp;lt;&amp;lt;databasename&amp;gt;&amp;gt;
&lt;/pre&gt;&lt;br&gt;&lt;blockquote&gt;output :&lt;br&gt;&lt;br&gt;All the create table statements of your DB will be written into the &lt;a tiddlylink=&quot;HiveTableDDL&quot; refresh=&quot;link&quot; target=&quot;_blank&quot; title=&quot;External link to http://karlarao.tiddlyspot.com#HiveTableDDL&quot; href=&quot;http://karlarao.tiddlyspot.com#HiveTableDDL&quot; class=&quot;externalLink null&quot;&gt;HiveTableDDL&lt;/a&gt;.txt&lt;br&gt;&lt;/blockquote&gt;</description>
<category>.hive commands</category>
<link>http://karlarao.tiddlyspot.com#%5B%5Bscript%20-%20hive%20create%20table%5D%5D</link>
<pubDate>Wed, 31 Jan 2018 03:15:00 GMT</pubDate>

</item>
<item>
<title>hive SYSDATE</title>
<description>&lt;a target=&quot;_blank&quot; title=&quot;External link to https://stackoverflow.com/questions/17905873/how-to-select-current-date-in-hive-sql/38734565#38734565&quot; href=&quot;https://stackoverflow.com/questions/17905873/how-to-select-current-date-in-hive-sql/38734565#38734565&quot; class=&quot;externalLink&quot;&gt;https://stackoverflow.com/questions/17905873/how-to-select-current-date-in-hive-sql/38734565#38734565&lt;/a&gt;&lt;br&gt;&lt;br&gt;&lt;pre&gt;To fetch only current date excluding time stamp:

in lower versions, looks like hive CURRENT_DATE is not available, hence you can use (it worked for me on Hive 0.14)

select TO_DATE(FROM_UNIXTIME(UNIX_TIMESTAMP()));
In higher versions say hive 2.0, you can use :

select CURRENT_DATE;
&lt;/pre&gt;</description>
<category>.hive commands</category>
<link>http://karlarao.tiddlyspot.com#%5B%5Bhive%20SYSDATE%5D%5D</link>
<pubDate>Wed, 31 Jan 2018 03:13:00 GMT</pubDate>

</item>
<item>
<title>script - hive sequence</title>
<description>&lt;a target=&quot;_blank&quot; title=&quot;External link to https://stackoverflow.com/questions/38949699/hive-auto-increment-after-certain-number/39011768#39011768&quot; href=&quot;https://stackoverflow.com/questions/38949699/hive-auto-increment-after-certain-number/39011768#39011768&quot; class=&quot;externalLink&quot;&gt;https://stackoverflow.com/questions/38949699/hive-auto-increment-after-certain-number/39011768#39011768&lt;/a&gt;</description>
<category>.hive commands</category>
<link>http://karlarao.tiddlyspot.com#%5B%5Bscript%20-%20hive%20sequence%5D%5D</link>
<pubDate>Wed, 31 Jan 2018 03:11:00 GMT</pubDate>

</item>
<item>
<title>RAC-aware applications checklist</title>
<description>Oracle RAC Database aware Applications - A Developer’s Checklist  &lt;a target=&quot;_blank&quot; title=&quot;External link to http://www.oracle.com/technetwork/database/availability/racdbawareapplications-1933522.pdf&quot; href=&quot;http://www.oracle.com/technetwork/database/availability/racdbawareapplications-1933522.pdf&quot; class=&quot;externalLink&quot;&gt;http://www.oracle.com/technetwork/database/availability/racdbawareapplications-1933522.pdf&lt;/a&gt;</description>
<category>RACAssuranceBestPractices</category>
<link>http://karlarao.tiddlyspot.com#%5B%5BRAC-aware%20applications%20checklist%5D%5D</link>
<pubDate>Wed, 31 Jan 2018 02:49:00 GMT</pubDate>

</item>
<item>
<title>Siebel hash partition, gc buffer busy acquire</title>
<description>gc buffer busy acquire  &lt;a target=&quot;_blank&quot; title=&quot;External link to https://juliandontcheff.wordpress.com/2013/04/21/dba-tips-for-tuning-siebel-on-rac-and-exadata/&quot; href=&quot;https://juliandontcheff.wordpress.com/2013/04/21/dba-tips-for-tuning-siebel-on-rac-and-exadata/&quot; class=&quot;externalLink&quot;&gt;https://juliandontcheff.wordpress.com/2013/04/21/dba-tips-for-tuning-siebel-on-rac-and-exadata/&lt;/a&gt;&lt;br&gt;Oracle RAC Database aware Applications - A Developer’s Checklist  &lt;a target=&quot;_blank&quot; title=&quot;External link to http://www.oracle.com/technetwork/database/availability/racdbawareapplications-1933522.pdf&quot; href=&quot;http://www.oracle.com/technetwork/database/availability/racdbawareapplications-1933522.pdf&quot; class=&quot;externalLink&quot;&gt;http://www.oracle.com/technetwork/database/availability/racdbawareapplications-1933522.pdf&lt;/a&gt;&lt;br&gt;&lt;br&gt;Bug 14618938 : EXADATA: GCS DRM FREEZE IN ENTER SERVER MODE&lt;br&gt;</description>
<category>OracleOnSiebel</category>
<link>http://karlarao.tiddlyspot.com#%5B%5BSiebel%20hash%20partition%2C%20gc%20buffer%20busy%20acquire%5D%5D</link>
<pubDate>Wed, 31 Jan 2018 02:49:00 GMT</pubDate>

</item>
<item>
<title>Siebel on Exadata, RAC</title>
<description>Oracle Database - the best choice for Siebel Applications    &lt;a target=&quot;_blank&quot; title=&quot;External link to http://www.oracle.com/us/products/database/oracle-database-siebel-bwp-068927.pdf&quot; href=&quot;http://www.oracle.com/us/products/database/oracle-database-siebel-bwp-068927.pdf&quot; class=&quot;externalLink&quot;&gt;http://www.oracle.com/us/products/database/oracle-database-siebel-bwp-068927.pdf&lt;/a&gt;&lt;br&gt;Guidelines for Using Real Application Clusters for an Oracle Database  &lt;a target=&quot;_blank&quot; title=&quot;External link to https://docs.oracle.com/cd/E14004_01/books/SiebInstWIN/SiebInstCOM_RDBMS13.html&quot; href=&quot;https://docs.oracle.com/cd/E14004_01/books/SiebInstWIN/SiebInstCOM_RDBMS13.html&quot; class=&quot;externalLink&quot;&gt;https://docs.oracle.com/cd/E14004_01/books/SiebInstWIN/SiebInstCOM_RDBMS13.html&lt;/a&gt;&lt;br&gt;Siebel on Exadata   &lt;a target=&quot;_blank&quot; title=&quot;External link to http://www.oracle.com/technetwork/database/features/availability/maa-wp-siebel-exadata-177506.pdf&quot; href=&quot;http://www.oracle.com/technetwork/database/features/availability/maa-wp-siebel-exadata-177506.pdf&quot; class=&quot;externalLink&quot;&gt;http://www.oracle.com/technetwork/database/features/availability/maa-wp-siebel-exadata-177506.pdf&lt;/a&gt;&lt;br&gt;&lt;br&gt;</description>
<category>OracleOnSiebel</category>
<link>http://karlarao.tiddlyspot.com#%5B%5BSiebel%20on%20Exadata%2C%20RAC%5D%5D</link>
<pubDate>Wed, 31 Jan 2018 02:37:00 GMT</pubDate>

</item>
<item>
<title>OracleOnSiebel</title>
<description></description>
<category>Oracle</category>
<link>http://karlarao.tiddlyspot.com#OracleOnSiebel</link>
<pubDate>Wed, 31 Jan 2018 02:34:00 GMT</pubDate>

</item>
<item>
<title>grouping oracle RAC events</title>
<description>&lt;a target=&quot;_blank&quot; title=&quot;External link to https://orainternals.files.wordpress.com/2017/01/rac_performance-wait-events.pdf&quot; href=&quot;https://orainternals.files.wordpress.com/2017/01/rac_performance-wait-events.pdf&quot; class=&quot;externalLink&quot;&gt;https://orainternals.files.wordpress.com/2017/01/rac_performance-wait-events.pdf&lt;/a&gt; &amp;lt;- GOOD STUFF&lt;br&gt;&lt;a target=&quot;_blank&quot; title=&quot;External link to http://oracle-help.com/oracle-rac/grouping-oracle-rac-wait-events/&quot; href=&quot;http://oracle-help.com/oracle-rac/grouping-oracle-rac-wait-events/&quot; class=&quot;externalLink&quot;&gt;http://oracle-help.com/oracle-rac/grouping-oracle-rac-wait-events/&lt;/a&gt;&lt;br&gt;&lt;br&gt;&lt;img src=&quot;https://i.imgur.com/wRiyvuQ.png&quot; title=&quot;SHIFT-CLICK=show full size, CTRL-CLICK=restore initial size&quot; style=&quot;width: 50%; height: 50%; cursor: move;&quot;&gt;&lt;br&gt;</description>
<category>gc waits RAC</category>
<link>http://karlarao.tiddlyspot.com#%5B%5Bgrouping%20oracle%20RAC%20events%5D%5D</link>
<pubDate>Wed, 31 Jan 2018 02:29:00 GMT</pubDate>

</item>
<item>
<title>enq index contention , index block split</title>
<description>&lt;a target=&quot;_blank&quot; title=&quot;External link to https://www.google.com/search?q=index+contention+1415053316&amp;amp;oq=index+contention+1415053316&amp;amp;aqs=chrome..69i57.2715j1j7&amp;amp;sourceid=chrome&amp;amp;ie=UTF-8&quot; href=&quot;https://www.google.com/search?q=index+contention+1415053316&amp;amp;oq=index+contention+1415053316&amp;amp;aqs=chrome..69i57.2715j1j7&amp;amp;sourceid=chrome&amp;amp;ie=UTF-8&quot; class=&quot;externalLink&quot;&gt;https://www.google.com/search?q=index+contention+1415053316&amp;amp;oq=index+contention+1415053316&amp;amp;aqs=chrome..69i57.2715j1j7&amp;amp;sourceid=chrome&amp;amp;ie=UTF-8&lt;/a&gt;&lt;br&gt;&lt;br&gt;&lt;a target=&quot;_blank&quot; title=&quot;External link to https://jonathanlewis.wordpress.com/2008/09/29/index-analysis-2/&quot; href=&quot;https://jonathanlewis.wordpress.com/2008/09/29/index-analysis-2/&quot; class=&quot;externalLink&quot;&gt;https://jonathanlewis.wordpress.com/2008/09/29/index-analysis-2/&lt;/a&gt;  &amp;lt;-index block split&lt;br&gt;&lt;a target=&quot;_blank&quot; title=&quot;External link to https://www.freelists.org/post/oracle-l/TX-index-contention&quot; href=&quot;https://www.freelists.org/post/oracle-l/TX-index-contention&quot; class=&quot;externalLink&quot;&gt;https://www.freelists.org/post/oracle-l/TX-index-contention&lt;/a&gt;</description>
<category>Troubleshooting & Internals</category>
<link>http://karlarao.tiddlyspot.com#%5B%5Benq%20index%20contention%20%2C%20index%20block%20split%5D%5D</link>
<pubDate>Wed, 31 Jan 2018 02:27:00 GMT</pubDate>

</item>
<item>
<title>gc current block congested</title>
<description>&lt;a target=&quot;_blank&quot; title=&quot;External link to https://www.google.com/search?q=gc+current+block+congested&amp;amp;oq=gc+current+block+congested&amp;amp;aqs=chrome..69i57j0l4.220j0j7&amp;amp;sourceid=chrome&amp;amp;ie=UTF-8&quot; href=&quot;https://www.google.com/search?q=gc+current+block+congested&amp;amp;oq=gc+current+block+congested&amp;amp;aqs=chrome..69i57j0l4.220j0j7&amp;amp;sourceid=chrome&amp;amp;ie=UTF-8&quot; class=&quot;externalLink&quot;&gt;https://www.google.com/search?q=gc+current+block+congested&amp;amp;oq=gc+current+block+congested&amp;amp;aqs=chrome..69i57j0l4.220j0j7&amp;amp;sourceid=chrome&amp;amp;ie=UTF-8&lt;/a&gt;</description>
<category>gc waits RAC</category>
<link>http://karlarao.tiddlyspot.com#%5B%5Bgc%20current%20block%20congested%5D%5D</link>
<pubDate>Wed, 31 Jan 2018 02:23:00 GMT</pubDate>

</item>
<item>
<title>partitioning vs bucketing</title>
<description>&lt;a target=&quot;_blank&quot; title=&quot;External link to https://github.com/vaquarkhan/vk-wiki-notes/wiki/What-is-the-difference-between-partitioning-and-bucketing-a-table-in-Hive-%3F&quot; href=&quot;https://github.com/vaquarkhan/vk-wiki-notes/wiki/What-is-the-difference-between-partitioning-and-bucketing-a-table-in-Hive-%3F&quot; class=&quot;externalLink&quot;&gt;https://github.com/vaquarkhan/vk-wiki-notes/wiki/What-is-the-difference-between-partitioning-and-bucketing-a-table-in-Hive-%3F&lt;/a&gt;&lt;br&gt;&lt;a target=&quot;_blank&quot; title=&quot;External link to https://stackoverflow.com/questions/19128940/what-is-the-difference-between-partitioning-and-bucketing-a-table-in-hive&quot; href=&quot;https://stackoverflow.com/questions/19128940/what-is-the-difference-between-partitioning-and-bucketing-a-table-in-hive&quot; class=&quot;externalLink&quot;&gt;https://stackoverflow.com/questions/19128940/what-is-the-difference-between-partitioning-and-bucketing-a-table-in-hive&lt;/a&gt;&lt;br&gt;&lt;a target=&quot;_blank&quot; title=&quot;External link to https://www.linkedin.com/pulse/hive-partitioning-bucketing-examples-gaurav-singh/&quot; href=&quot;https://www.linkedin.com/pulse/hive-partitioning-bucketing-examples-gaurav-singh/&quot; class=&quot;externalLink&quot;&gt;https://www.linkedin.com/pulse/hive-partitioning-bucketing-examples-gaurav-singh/&lt;/a&gt;&lt;br&gt;&lt;br&gt;&lt;a target=&quot;_blank&quot; title=&quot;External link to https://stackoverflow.com/questions/13815179/how-to-update-drop-a-hive-partition&quot; href=&quot;https://stackoverflow.com/questions/13815179/how-to-update-drop-a-hive-partition&quot; class=&quot;externalLink&quot;&gt;https://stackoverflow.com/questions/13815179/how-to-update-drop-a-hive-partition&lt;/a&gt;</description>
<category>hive</category>
<link>http://karlarao.tiddlyspot.com#%5B%5Bpartitioning%20vs%20bucketing%5D%5D</link>
<pubDate>Thu, 25 Jan 2018 02:24:00 GMT</pubDate>

</item>
</channel>
</rss>