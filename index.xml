<?xml version="1.0"?>
<rss version="2.0">
<channel>
<title>Karl Arao's TiddlyWiki</title>
<link>http://karlarao.tiddlyspot.com</link>
<description></description>
<language>en</language>
<copyright>Copyright 2017 KarlArao</copyright>
<pubDate>Wed, 09 Aug 2017 17:11:22 GMT</pubDate>
<lastBuildDate>Wed, 09 Aug 2017 17:11:22 GMT</lastBuildDate>
<docs>http://blogs.law.harvard.edu/tech/rss</docs>
<generator>TiddlyWiki 2.5.0</generator>
<item>
<title>kill session procedure</title>
<description>&lt;div class=&quot;dcTOC&quot;&gt;&lt;a class=&quot;toggleButton&quot; title=&quot;show/collapse table of contents&quot; href=&quot;javascript:;&quot;&gt;/* Table of Contents */&lt;/a&gt;&lt;div&gt;&lt;ul&gt;&lt;li&gt;&lt;span&gt;&lt;a href=&quot;javascript:;&quot; onclick=&quot;window.scrollToHeading('', ' prereq grant ', event)&quot;&gt; prereq grant &lt;/a&gt;&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;&lt;a href=&quot;javascript:;&quot; onclick=&quot;window.scrollToHeading('', ' the script ', event)&quot;&gt; the script &lt;/a&gt;&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;&lt;a href=&quot;javascript:;&quot; onclick=&quot;window.scrollToHeading('', ' grant this to the performance user', event)&quot;&gt; grant this to the performance user&lt;/a&gt;&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;&lt;a href=&quot;javascript:;&quot; onclick=&quot;window.scrollToHeading('', ' kill session usage ', event)&quot;&gt; kill session usage &lt;/a&gt;&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;&lt;a href=&quot;javascript:;&quot; onclick=&quot;window.scrollToHeading('', ' generate kill all commands', event)&quot;&gt; generate kill all commands&lt;/a&gt;&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;&lt;a href=&quot;javascript:;&quot; onclick=&quot;window.scrollToHeading('', ' monitor', event)&quot;&gt; monitor&lt;/a&gt;&lt;/span&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;/div&gt;&lt;br&gt;&lt;br&gt;Please create the “killsession” procedure using the SYSDBA user. And then as SYSDBA grant “alter system” and “select on sys.v_$session” to SYSTEM user. And then finally grant “execute on system.killsession” to alloc_app_perf&lt;br&gt;Please create on all ALLOC environments. Then later on we can drop the procedure.&lt;br&gt;&lt;br&gt;&lt;h1&gt; prereq grant &lt;div style=&quot;font-size: 0.5em; color: blue;&quot;&gt;&lt;a class=&quot;dcTOCTop&quot; title=&quot;Go to top of tiddler&quot; href=&quot;javascript:;&quot;&gt; [top]&lt;/a&gt;&lt;/div&gt;&lt;/h1&gt;&lt;pre&gt;grant alter system to system;
grant select on sys.gv_$session to system;
&lt;/pre&gt;&lt;br&gt;&lt;h1&gt; the script &lt;div style=&quot;font-size: 0.5em; color: blue;&quot;&gt;&lt;a class=&quot;dcTOCTop&quot; title=&quot;Go to top of tiddler&quot; href=&quot;javascript:;&quot;&gt; [top]&lt;/a&gt;&lt;/div&gt;&lt;/h1&gt;&lt;blockquote&gt;&lt;pre&gt;create or replace procedure system.killsession 
( p_sid IN number default NULL, 
p_serial IN number default NULL, 
p_instance IN number default NULL,
p_username IN varchar2 default NULL,
p_machine IN varchar2 default NULL,
p_osuser IN varchar2 default NULL
) as
    BEGIN
      FOR c IN (
          SELECT  username, machine, osuser, sid, serial#, inst_id
          FROM sys.gv_$session
          WHERE sid = nvl(p_sid,sid)
          AND serial# = nvl(p_serial,serial#)
          AND inst_id = nvl(p_instance,inst_id)
          AND upper(username) = upper(nvl(p_username,username))
          AND upper(machine) = upper(nvl(p_machine,machine))
          AND upper(osuser) = upper(nvl(p_osuser,osuser))
          AND USERNAME IS NOT NULL
          AND TYPE &amp;lt;&amp;gt; 'BACKGROUND'
          AND STATUS &amp;lt;&amp;gt; 'KILLED'
          AND SID NOT IN (select upper(sys_context ('userenv','SID')) from dual)
      )
      LOOP
          EXECUTE IMMEDIATE 'alter system kill session ''' || c.sid || ', ' || c.serial# || ', @' || c.inst_id || ''' immediate';
          dbms_output.put_line('Kill session : ''' || c.username || ', ' || c.machine || ', ' || c.osuser || ', ' || c.sid || ', ' || c.serial# || ', @' || c.inst_id || ''' ');
      END LOOP;
    END;
    /
&lt;/pre&gt;&lt;/blockquote&gt;&lt;br&gt;&lt;h1&gt; grant this to the performance user&lt;div style=&quot;font-size: 0.5em; color: blue;&quot;&gt;&lt;a class=&quot;dcTOCTop&quot; title=&quot;Go to top of tiddler&quot; href=&quot;javascript:;&quot;&gt; [top]&lt;/a&gt;&lt;/div&gt;&lt;/h1&gt;&lt;pre&gt;grant execute on system.killsession to &amp;lt;user&amp;gt;;
&lt;/pre&gt;&lt;br&gt;&lt;br&gt;&lt;h1&gt; kill session usage &lt;div style=&quot;font-size: 0.5em; color: blue;&quot;&gt;&lt;a class=&quot;dcTOCTop&quot; title=&quot;Go to top of tiddler&quot; href=&quot;javascript:;&quot;&gt; [top]&lt;/a&gt;&lt;/div&gt;&lt;/h1&gt;&lt;pre&gt;set serveroutput on 
-- kill all 
exec system.killsession();   
-- kill sid 
exec system.killsession(p_sid=&amp;gt;'36')   
-- kill sid, serial, inst
exec system.killsession(p_sid=&amp;gt;'44', p_serial=&amp;gt;'54916', p_instance=&amp;gt;'1')   
-- kill inst
exec system.killsession(p_instance=&amp;gt;'1')  
-- kill alloc app user 
exec system.killsession(p_username=&amp;gt;'ALLOC_APP_USER')   
-- kill machine
exec system.killsession(p_machine=&amp;gt;'karldevfedora')  
-- kill osuser 
exec system.killsession(p_osuser=&amp;gt;'karl')  
&lt;/pre&gt;&lt;br&gt;&lt;h1&gt; generate kill all commands&lt;div style=&quot;font-size: 0.5em; color: blue;&quot;&gt;&lt;a class=&quot;dcTOCTop&quot; title=&quot;Go to top of tiddler&quot; href=&quot;javascript:;&quot;&gt; [top]&lt;/a&gt;&lt;/div&gt;&lt;/h1&gt;&lt;pre&gt;set pages 0
select /* kill all */ 'exec system.killsession(p_sid=&amp;gt;'''||sid||''', p_serial=&amp;gt;'''||serial#||''', p_instance=&amp;gt;'''||inst_id||''');'
from gv$session 
where username = 'ALLOC_APP_USER'
and machine = 'example.com';
&lt;/pre&gt;&lt;br&gt;&lt;br&gt;&lt;h1&gt; monitor&lt;div style=&quot;font-size: 0.5em; color: blue;&quot;&gt;&lt;a class=&quot;dcTOCTop&quot; title=&quot;Go to top of tiddler&quot; href=&quot;javascript:;&quot;&gt; [top]&lt;/a&gt;&lt;/div&gt;&lt;/h1&gt;&lt;pre&gt;set lines 300
select username, machine, osuser, sid, serial#, inst_id
 from gv$session
where username is not null
  and type &amp;lt;&amp;gt; 'BACKGROUND'
  order by 1
/
&lt;/pre&gt;&lt;br&gt;&lt;br&gt;also create &lt;a tiddlylink=&quot;CreatePerformanceTuningUser&quot; refresh=&quot;link&quot; target=&quot;_blank&quot; title=&quot;External link to http://karlarao.tiddlyspot.com#CreatePerformanceTuningUser&quot; href=&quot;http://karlarao.tiddlyspot.com#CreatePerformanceTuningUser&quot; class=&quot;externalLink null&quot;&gt;CreatePerformanceTuningUser&lt;/a&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;strong&gt;reference&lt;/strong&gt; &lt;br&gt;&lt;a target=&quot;_blank&quot; title=&quot;External link to https://jhdba.wordpress.com/2009/08/18/procedure-to-kill-a-session/&quot; href=&quot;https://jhdba.wordpress.com/2009/08/18/procedure-to-kill-a-session/&quot; class=&quot;externalLink&quot;&gt;https://jhdba.wordpress.com/2009/08/18/procedure-to-kill-a-session/&lt;/a&gt;&lt;br&gt;&lt;a target=&quot;_blank&quot; title=&quot;External link to https://jhdba.wordpress.com/2016/03/23/killing-sessions-across-multiple-instances/&quot; href=&quot;https://jhdba.wordpress.com/2016/03/23/killing-sessions-across-multiple-instances/&quot; class=&quot;externalLink&quot;&gt;https://jhdba.wordpress.com/2016/03/23/killing-sessions-across-multiple-instances/&lt;/a&gt;&lt;br&gt;&lt;a target=&quot;_blank&quot; title=&quot;External link to https://oracle-base.com/articles/misc/killing-oracle-sessions&quot; href=&quot;https://oracle-base.com/articles/misc/killing-oracle-sessions&quot; class=&quot;externalLink&quot;&gt;https://oracle-base.com/articles/misc/killing-oracle-sessions&lt;/a&gt;&lt;br&gt;&lt;a target=&quot;_blank&quot; title=&quot;External link to http://blog.tanelpoder.com/2008/06/19/killing-an-oracle-process-from-inside-oracle/&quot; href=&quot;http://blog.tanelpoder.com/2008/06/19/killing-an-oracle-process-from-inside-oracle/&quot; class=&quot;externalLink&quot;&gt;http://blog.tanelpoder.com/2008/06/19/killing-an-oracle-process-from-inside-oracle/&lt;/a&gt;&lt;br&gt;&lt;a target=&quot;_blank&quot; title=&quot;External link to https://chandlerdba.com/2014/05/29/developers-killing-sessions/&quot; href=&quot;https://chandlerdba.com/2014/05/29/developers-killing-sessions/&quot; class=&quot;externalLink&quot;&gt;https://chandlerdba.com/2014/05/29/developers-killing-sessions/&lt;/a&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;</description>
<category>DatabaseHealthCheck</category>
<link>http://karlarao.tiddlyspot.com#%5B%5Bkill%20session%20procedure%5D%5D</link>
<pubDate>Tue, 08 Aug 2017 23:56:00 GMT</pubDate>

</item>
<item>
<title>COALESCE to WITH AS</title>
<description>&lt;h1&gt; before - 6K seconds &lt;/h1&gt;&lt;pre&gt;SELECT COUNT (DISTINCT AIR.STORE_ID) STR_COUNT_STYLE
FROM
    ALGO_INPUT_FOR_REVIEW AIR,
    ALLOC_BATCH_LI_DETAILS LI_DETAILS
WHERE
    COALESCE (AIR.ALLOCATED_UNIT_QTY,
              AIR.SUGGESTED_ALLOCATED_QTY) &amp;gt; 0 AND
    AIR.BATCH_ID = LI_DETAILS.BATCH_ID AND
    AIR.BATCH_LINE_NO = LI_DETAILS.BATCH_LINE_NO AND
    AIR.ITEM_ID = LI_DETAILS.ITEM_ID AND
    AIR.IMMINENT_RELEASE = 'Y' AND
    AIR.BATCH_ID = 1426 AND
    ALLOCATION_SEQ_NO = (SELECT MAX (AIR2.ALLOCATION_SEQ_NO)
                         FROM ALGO_INPUT_FOR_REVIEW AIR2
                         WHERE AIR2.BATCH_ID = AIR.BATCH_ID)
&lt;/pre&gt;&lt;br&gt;&lt;h1&gt; after - below 1 sec &lt;/h1&gt;&lt;pre&gt;WITH max_seq AS
    (SELECT /*+ MATERIALIZE */
            batch_id,
            MAX(allocation_seq_no) max_allocation_seq_no
       FROM algo_input_for_review
      WHERE batch_id = :b_batch_id
   GROUP BY batch_id),
algo_slice AS
    (SELECT /*+ MATERIALIZE */
           aifr.*
      FROM algo_input_for_review aifr
     WHERE (aifr.batch_id, aifr.allocation_seq_no) IN (SELECT batch_id, max_allocation_seq_no FROM max_seq)
       AND aifr.imminent_release = 'Y'
     )
SELECT COUNT (DISTINCT air.store_id) str_count_style
  FROM algo_slice air,
       alloc_batch_li_details li_details
WHERE COALESCE (air.allocated_unit_qty, air.suggested_allocated_qty) &amp;gt; 0
   AND air.batch_id = li_details.batch_id
   AND air.batch_line_no = li_details.batch_line_no
   AND air.item_id = li_details.item_id;
&lt;/pre&gt;</description>
<category>my rewrite examples</category>
<link>http://karlarao.tiddlyspot.com#%5B%5BCOALESCE%20to%20WITH%20AS%5D%5D</link>
<pubDate>Tue, 08 Aug 2017 21:36:00 GMT</pubDate>

</item>
<item>
<title>my rewrite examples</title>
<description></description>
<category>..SQL rewrite examples</category>
<link>http://karlarao.tiddlyspot.com#%5B%5Bmy%20rewrite%20examples%5D%5D</link>
<pubDate>Tue, 08 Aug 2017 21:34:00 GMT</pubDate>

</item>
<item>
<title>50+SQLPerformanceOptimizationScenarios</title>
<description>&lt;a target=&quot;_blank&quot; title=&quot;External link to http://karlarao.wordpress.com/2009/12/31/50-sql-performance-optimization-scenarios/&quot; href=&quot;http://karlarao.wordpress.com/2009/12/31/50-sql-performance-optimization-scenarios/&quot; class=&quot;externalLink&quot;&gt;http://karlarao.wordpress.com/2009/12/31/50-sql-performance-optimization-scenarios/&lt;/a&gt;&lt;br&gt;&lt;br&gt;&lt;pre&gt;ORACLE SQL Performance Optimization Series (1)

1. The types of ORACLE optimizer
2. The way to visit Table
3. Shared SQL statement

ORACLE SQL Performance Optimization Series (2)

4. Select the table name of the most efficient order (only in the effective rule-based optimizer)
5. WHERE clause in the order of the connections
6. SELECT clause to avoid using ‘*’
7. Access to the database to reduce the number of

ORACLE SQL Performance Optimization Series (3)

8. Using the DECODE function to reduce the processing time
9. Integration of simple, non-associated database access
10. Remove duplicate records
11. Alternative DELETE with TRUNCATE
12. As much as possible the use of COMMIT

ORACLE SQL Performance Optimization Series (4)

13. Calculate the number of records
14. Where clause with the HAVING clause to replace
15. To reduce the query table
16. Through an internal function to improve SQL efficiency

ORACLE SQL Performance Optimization Series (5)

17. Use the table alias (Alias)
18. Replace IN with EXISTS
19. Replace NOT IN with NOT EXISTS

ORACLE SQL performance optimization Series (6)

20. Connect with the table to replace EXISTS
21. Replace DISTINCT with EXISTS
22. Recognition ‘inefficient implementation of the’ in SQL statements
23. Use TKPROF tool to query SQL Performance Status

ORACLE SQL Performance Optimization Series (7)

24. Analysis of SQL statements with EXPLAIN PLAN

ORACLE SQL Performance Optimization Series (8)

25. With the index to improve efficiency
26. Operation index

ORACLE SQL Performance Optimization Series (9)

27. The choice of the basis of the table
28. Number of equal index
29. Comparing and scope of the comparison equation
30. The index level is not clear

ORACLE SQL Performance Optimization Series (10)

31. Force index failure
32. Avoid the use of columns in the index calculation.
33. Auto Select Index
34. Avoid the use of NOT in the index column
35. With “= substitute”

ORACLE SQL Performance Optimization Series (11)

36. UNION replaced with the OR (for the index column)
37. To replace the OR with the IN
38. Avoid the use of columns in the index IS NULL and IS NOT NULL

ORACLE SQL Performance Optimization Series (12)

39. Always use the first column index
40. ORACLE internal operations
41. With the UNION-ALL replaced UNION (if possible)
42. Usage Tips (Hints)

ORACLE SQL Performance Optimization Series (13)

43. WHERE replaced with ORDER BY
44. Avoid changing the index of the column type
45. Need to be careful of the WHERE clause

ORACLE SQL Performance Optimization Series (14)

46. Connect multiple scan
47. CBO to use a more selective index of
48. Avoid the use of resource-intensive operations
49. GROUP BY Optimization
50. Use Date
51. Use explicit cursor (CURSORs)
52. Optimization EXPORT and IMPORT
53. Separate tables and indexes

ORACLE SQL Performance Optimization Series (15)

EXISTS / NOT EXISTS must be better than IN / NOT IN the efficiency of high?

ORACLE SQL Performance Optimization Series (16)

I used the view of how query results are wrong?

ORACLE SQL Performance Optimization Series (17)

Page Which writing efficient SQL?

ORACLE SQL Performance Optimization Series (18)

COUNT (rowid) / COUNT (pk) the efficiency of high?

ORACLE SQL Performance Optimization Series (19)

ORACLE data type implicit conversions

ORACLE SQL Performance Optimization Series (20)

The use of INDEX should pay attention to the three questions

ORACLE Tips (HINT) use (Part 1) (21)

ORACLE Tips (HINT) use (Part 2) (22)

Analysis of function-based index (Part 1) (23)

Analysis of function-based index (Part 2) (24)

How to achieve efficient paging query (25)

ORACLE achieved in the SELECT TOP N method (26)
&lt;/pre&gt;</description>
<category>..SQL rewrite examples</category>
<link>http://karlarao.tiddlyspot.com#50%2BSQLPerformanceOptimizationScenarios</link>
<pubDate>Tue, 08 Aug 2017 21:24:00 GMT</pubDate>

</item>
<item>
<title>..SQL rewrite examples</title>
<description></description>
<category>SQL Rewrite/Refactoring</category>
<link>http://karlarao.tiddlyspot.com#%5B%5B..SQL%20rewrite%20examples%5D%5D</link>
<pubDate>Tue, 08 Aug 2017 21:20:00 GMT</pubDate>

</item>
<item>
<title>12 SQL rewrite scenarios</title>
<description>&lt;a target=&quot;_blank&quot; title=&quot;External link to http://www.dpriver.com/blog/list-of-demos-illustrate-how-to-use-general-sql-parser/oracle-sql-query-rewrite/&quot; href=&quot;http://www.dpriver.com/blog/list-of-demos-illustrate-how-to-use-general-sql-parser/oracle-sql-query-rewrite/&quot; class=&quot;externalLink&quot;&gt;http://www.dpriver.com/blog/list-of-demos-illustrate-how-to-use-general-sql-parser/oracle-sql-query-rewrite/&lt;/a&gt;&lt;br&gt;&lt;br&gt;&lt;pre&gt;1. (NOT) IN sub-query to (NOT) EXISTS sub-query

2. (NOT) EXISTS sub-query to (NOT) IN sub-query

3. Separate outer joined inline view using UNION ALL or add hint for the inline view

4. IN clause to UNION ALL statement

5. OR clause to UNION ALL statement

6. NVL function to UNION ALL statement

7. Re-write suppressed joined columns in the WHERE clause

8. VIEW expansion

9. NOT EXISTS to NOT IN hash anti-join

10. Make columns suppressed using RTRIM function or ‘+0’

11. Add hint to the statement

12. Co-related sub-query to inline View
&lt;/pre&gt;</description>
<category>..SQL rewrite examples</category>
<link>http://karlarao.tiddlyspot.com#%5B%5B12%20SQL%20rewrite%20scenarios%5D%5D</link>
<pubDate>Tue, 08 Aug 2017 21:20:00 GMT</pubDate>

</item>
<item>
<title>..Stats Gathering Procedure</title>
<description>&lt;pre&gt;parameters: 
    p_owner       
    p_tabname     
    p_partname    
    p_granularity 
    p_est_percent 
    p_method_opt
    p_degree
&lt;/pre&gt;&lt;br&gt;&lt;pre&gt;
CREATE OR REPLACE PROCEDURE alloc_app_perf.table_stats 
( 
    p_owner IN varchar2,
    p_tabname IN varchar2, 
    p_partname IN varchar2 default NULL,  
    p_granularity IN varchar2 default 'GLOBAL AND PARTITION',
    p_est_percent IN varchar2 default 'DBMS_STATS.AUTO_SAMPLE_SIZE',
    p_method_opt IN varchar2 default 'FOR ALL COLUMNS SIZE AUTO',
    p_degree IN varchar2 default 8
) 
IS
    action varchar2(128);
    v_mode varchar2(30);
    cmd varchar2(2000);
BEGIN
    action := 'Analyzing the table ' || p_tabname; 
    IF p_partname IS NOT NULL THEN
        action := action||', partition '||p_partname;
        v_mode := p_granularity;

        cmd := '
        BEGIN 
            DBMS_STATS.GATHER_TABLE_STATS('||
            'ownname=&amp;gt;'''||p_owner||''',tabname=&amp;gt;'''||p_tabname||
            ''',partname=&amp;gt;'''||p_partname||''',granularity=&amp;gt;'''||v_mode||
            ''',estimate_percent=&amp;gt;'||p_est_percent||',method_opt=&amp;gt;'''||p_method_opt||''',cascade=&amp;gt;TRUE,degree=&amp;gt;'||p_degree||');
        END;';

        execute immediate cmd;
    ELSE 
        v_mode := 'DEFAULT';

        cmd := '
        BEGIN 
            DBMS_STATS.GATHER_TABLE_STATS('||
            'ownname=&amp;gt;'''||p_owner||''',tabname=&amp;gt;'''||p_tabname||
            ''',estimate_percent=&amp;gt;'||p_est_percent||',method_opt=&amp;gt;'''||p_method_opt||''',cascade=&amp;gt;TRUE,degree=&amp;gt;'||p_degree||');
        END;';

        execute immediate cmd;
    END IF; 
END;
/

&lt;/pre&gt;&lt;br&gt;&lt;br&gt;&lt;pre&gt;
grant analyze any to alloc_app_perf;
exec alloc_app_perf.table_stats(p_owner=&amp;gt;'BAS',p_tabname=&amp;gt;'CLASS_SALES')
exec alloc_app_perf.table_stats(p_owner=&amp;gt;'BAS',p_tabname=&amp;gt;'CLASS_SALES',p_est_percent=&amp;gt;'dbms_stats.auto_sample_size')
exec alloc_app_perf.table_stats(p_owner=&amp;gt;'BAS',p_tabname=&amp;gt;'CLASS_SALES',p_est_percent=&amp;gt;'1')

exec alloc_app_perf.table_stats(p_owner=&amp;gt;'BAS',p_tabname=&amp;gt;'DBA_OBJECTS')
exec alloc_app_perf.table_stats(p_owner=&amp;gt;'BAS',p_tabname=&amp;gt;'DBA_OBJECTS',p_est_percent=&amp;gt;'1')
exec alloc_app_perf.table_stats(p_owner=&amp;gt;'BAS',p_tabname=&amp;gt;'DBA_OBJECTS',p_est_percent=&amp;gt;'100')
exec alloc_app_perf.table_stats(p_owner=&amp;gt;'BAS',p_tabname=&amp;gt;'DBA_OBJECTS',p_est_percent=&amp;gt;'dbms_stats.auto_sample_size')

exec alloc_app_perf.table_stats(p_owner=&amp;gt;'BAS',p_tabname=&amp;gt;'DEMO_SKEW')
exec alloc_app_perf.table_stats(p_owner=&amp;gt;'BAS',p_tabname=&amp;gt;'DEMO_SKEW',p_method_opt=&amp;gt;'for all columns size skewonly')


&lt;/pre&gt;&lt;br&gt;&lt;br&gt;&lt;h1&gt; generate stats commands &lt;/h1&gt;&lt;pre&gt;
set lines 500
set pages 0
select 'exec alloc_app_perf.table_stats(p_owner=&amp;gt;'''||owner||''',p_tabname=&amp;gt;'''||table_name||''',p_degree=&amp;gt;''16'');'
from dba_tables where table_name in 
('ALGO_INPUT_FOR_REVIEW'        
,'ALLOCATED_NOTSHIPPED_INVS'     
,'ALLOC_BATCH_LINE_ITEMS'        
,'ALLOC_BATCH_VOLUMEGRADE_CHANGE'
,'ALLOC_SKU0_MASTER'             
,'ALLOC_SKU_MASTER'              
,'ALLOC_STORES'                  
,'EOM_NEED_UNITS'                
,'EOM_UNIT_TARGETS'              
,'INVENTORY_CLASSES'             
,'SIM_CLASSES'                   
,'STAGING_STORES'                
,'STORE_ON_ORDERS'               
,'STORE_WAREHOUSE_DETAILS'       
,'VOLUME_GRADE_CONSTRAINTS')
/


&lt;/pre&gt;&lt;br&gt;</description>
<category>stats gathering</category>
<link>http://karlarao.tiddlyspot.com#%5B%5B..Stats%20Gathering%20Procedure%5D%5D</link>
<pubDate>Mon, 07 Aug 2017 21:34:00 GMT</pubDate>

</item>
<item>
<title>ASH</title>
<description>&lt;a target=&quot;_blank&quot; title=&quot;External link to https://sites.google.com/site/embtdbo/wait-event-documentation/ash---active-session-history&quot; href=&quot;https://sites.google.com/site/embtdbo/wait-event-documentation/ash---active-session-history&quot; class=&quot;externalLink&quot;&gt;https://sites.google.com/site/embtdbo/wait-event-documentation/ash---active-session-history&lt;/a&gt;&lt;br&gt;ASH patent &lt;a target=&quot;_blank&quot; title=&quot;External link to http://www.google.com/patents?id=cQWbAAAAEBAJ&amp;amp;pg=PA2&amp;amp;source=gbs_selected_pages&amp;amp;cad=3#v=onepage&amp;amp;q&amp;amp;f=false&quot; href=&quot;http://www.google.com/patents?id=cQWbAAAAEBAJ&amp;amp;pg=PA2&amp;amp;source=gbs_selected_pages&amp;amp;cad=3#v=onepage&amp;amp;q&amp;amp;f=false&quot; class=&quot;externalLink&quot;&gt;http://www.google.com/patents?id=cQWbAAAAEBAJ&amp;amp;pg=PA2&amp;amp;source=gbs_selected_pages&amp;amp;cad=3#v=onepage&amp;amp;q&amp;amp;f=false&lt;/a&gt;&lt;br&gt;Practical ASH &lt;a target=&quot;_blank&quot; title=&quot;External link to http://www.scribd.com/rvenrdra/d/44100090-Practical-Advice-on-the-Use-of-Oracle-Database-s-Active-Session-History&quot; href=&quot;http://www.scribd.com/rvenrdra/d/44100090-Practical-Advice-on-the-Use-of-Oracle-Database-s-Active-Session-History&quot; class=&quot;externalLink&quot;&gt;http://www.scribd.com/rvenrdra/d/44100090-Practical-Advice-on-the-Use-of-Oracle-Database-s-Active-Session-History&lt;/a&gt;&lt;br&gt;magic metirc? &lt;a target=&quot;_blank&quot; title=&quot;External link to http://wenku.baidu.com/view/7d07b81b964bcf84b9d57b48.html?from=related&quot; href=&quot;http://wenku.baidu.com/view/7d07b81b964bcf84b9d57b48.html?from=related&quot; class=&quot;externalLink&quot;&gt;http://wenku.baidu.com/view/7d07b81b964bcf84b9d57b48.html?from=related&lt;/a&gt;&lt;br&gt;Sifting through the &lt;a tiddlylink=&quot;ASHes&quot; refresh=&quot;link&quot; target=&quot;_blank&quot; title=&quot;External link to http://karlarao.tiddlyspot.com#ASHes&quot; href=&quot;http://karlarao.tiddlyspot.com#ASHes&quot; class=&quot;externalLink null&quot;&gt;ASHes&lt;/a&gt; &lt;a target=&quot;_blank&quot; title=&quot;External link to http://www.oracle.com/technetwork/database/focus-areas/manageability/ppt-active-session-history-129612.pdf&quot; href=&quot;http://www.oracle.com/technetwork/database/focus-areas/manageability/ppt-active-session-history-129612.pdf&quot; class=&quot;externalLink&quot;&gt;http://www.oracle.com/technetwork/database/focus-areas/manageability/ppt-active-session-history-129612.pdf&lt;/a&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;</description>
<category>PerformanceTools-Database</category>
<link>http://karlarao.tiddlyspot.com#ASH</link>
<pubDate>Thu, 03 Aug 2017 19:52:00 GMT</pubDate>

</item>
<item>
<title>Plan Line ID</title>
<description>&lt;div class=&quot;dcTOC&quot;&gt;&lt;a class=&quot;toggleButton&quot; title=&quot;show/collapse table of contents&quot; href=&quot;javascript:;&quot;&gt;/* Table of Contents */&lt;/a&gt;&lt;div&gt;&lt;ul&gt;&lt;li&gt;&lt;span&gt;&lt;a href=&quot;javascript:;&quot; onclick=&quot;window.scrollToHeading('', ' 12.1.0.2', event)&quot;&gt; 12.1.0.2&lt;/a&gt;&lt;/span&gt;&lt;ul&gt;&lt;li&gt;&lt;span&gt;&lt;a href=&quot;javascript:;&quot; onclick=&quot;window.scrollToHeading('', ' yes Plan Line ID on SQL Monitor Plan Tab was introduced', event)&quot;&gt; yes Plan Line ID on SQL Monitor Plan Tab was introduced&lt;/a&gt;&lt;/span&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;&lt;a href=&quot;javascript:;&quot; onclick=&quot;window.scrollToHeading('', ' 12.1.0.1', event)&quot;&gt; 12.1.0.1&lt;/a&gt;&lt;/span&gt;&lt;ul&gt;&lt;li&gt;&lt;span&gt;&lt;a href=&quot;javascript:;&quot; onclick=&quot;window.scrollToHeading('', ' no Plan Line ID on SQL Monitor Plan Tab ', event)&quot;&gt; no Plan Line ID on SQL Monitor Plan Tab &lt;/a&gt;&lt;/span&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;&lt;a href=&quot;javascript:;&quot; onclick=&quot;window.scrollToHeading('', ' @@ How to get Plan Tab - Plan Line ID from 11.2 (I think even 11.1 - SQL_PLAN_LINE_ID was introduced) to 12.1.0.1  ??? @@ &lt;- Use SQL Developer 4.2 ', event)&quot;&gt; @@ How to get Plan Tab - Plan Line ID from 11.2 (I think even 11.1 - SQL_PLAN_LINE_ID was introduced) to 12.1.0.1  ??? @@ &amp;lt;- Use SQL Developer 4.2 &lt;/a&gt;&lt;/span&gt;&lt;ul&gt;&lt;li&gt;&lt;span&gt;&lt;a href=&quot;javascript:;&quot; onclick=&quot;window.scrollToHeading('', ' 12.1.0.1 SQL Developer -&gt; Tools -&gt; Real Time SQL Monitor', event)&quot;&gt; 12.1.0.1 SQL Developer -&amp;gt; Tools -&amp;gt; Real Time SQL Monitor&lt;/a&gt;&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;&lt;a href=&quot;javascript:;&quot; onclick=&quot;window.scrollToHeading('', ' 11.2.0.4 SQL Developer -&gt; Tools -&gt; Real Time SQL Monitor', event)&quot;&gt; 11.2.0.4 SQL Developer -&amp;gt; Tools -&amp;gt; Real Time SQL Monitor&lt;/a&gt;&lt;/span&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;&lt;a href=&quot;javascript:;&quot; onclick=&quot;window.scrollToHeading('', ' DB Optimizer - my go-to SQL profiling/tuning tool ', event)&quot;&gt; DB Optimizer - my go-to SQL profiling/tuning tool &lt;/a&gt;&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;&lt;a href=&quot;javascript:;&quot; onclick=&quot;window.scrollToHeading('', ' the testcase SQL I used ', event)&quot;&gt; the testcase SQL I used &lt;/a&gt;&lt;/span&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;/div&gt; &lt;br&gt;&lt;br&gt;&lt;blockquote&gt;&lt;span class=&quot;marked&quot;&gt;&lt;br&gt;Starting version 12.1.0.2 the &quot;Plan Line ID&quot; was introduced in SQL Monitor - Plan Tab. And for versions below 12.1.0.2, to get &quot;Plan Line ID&quot; on Plan Tab use SQL Developer 4.2&lt;br&gt;&lt;/span&gt;&lt;br&gt;&lt;/blockquote&gt;&lt;br&gt;&lt;blockquote&gt;&lt;span class=&quot;marked&quot;&gt; What's important about the Plan Line ID ? &lt;/span&gt;&lt;br&gt;&lt;br&gt;On SQL Monitor reports the first two sections are Plan Statistics and Plan tabs. And the way you would correlate these two information is through Plan Line ID. &lt;br&gt;&lt;ul&gt;&lt;li&gt; Plan Statistics - is where you check for details where the time is being spent on the execution plan&lt;/li&gt;&lt;li&gt; Plan Tab - contains the critical information for drilling down further (see wiki &lt;a tiddlylink=&quot;“Object Name”, “Access Predicates”, “Filter Predicates”, “Projection”&quot; refresh=&quot;link&quot; target=&quot;_blank&quot; title=&quot;External link to http://karlarao.tiddlyspot.com#“Object Name”, “Access Predicates”, “Filter Predicates”, “Projection”&quot; href=&quot;http://karlarao.tiddlyspot.com#%E2%80%9CObject%20Name%E2%80%9D,%20%E2%80%9CAccess%20Predicates%E2%80%9D,%20%E2%80%9CFilter%20Predicates%E2%80%9D,%20%E2%80%9CProjection%E2%80%9D&quot; class=&quot;externalLink null&quot;&gt;“Object Name”, “Access Predicates”, “Filter Predicates”, “Projection”&lt;/a&gt;) on the specific part of the SQL text  &lt;/li&gt;&lt;/ul&gt;&lt;span class=&quot;marked&quot;&gt;Imagine &lt;strong&gt;&lt;u&gt;without&lt;/u&gt;&lt;/strong&gt; Plan Line ID on Plan Tab section of SQL Monitor and you are reading a 1000 lines of SQL execution plan and the bottleneck is on line 342. What would you do? Well, you start from line 1 then hit the down arrow key then count 342 times until you reach that specific Plan Line.&lt;/span&gt; As a consultant dealing with remote databases if this is the only info you have it's not a good troubleshooting experience, and you are better off getting this info using &lt;a tiddlylink=&quot;DBMS_XPLAN&quot; refresh=&quot;link&quot; target=&quot;_blank&quot; title=&quot;External link to http://karlarao.tiddlyspot.com#DBMS_XPLAN&quot; href=&quot;http://karlarao.tiddlyspot.com#DBMS_XPLAN&quot; class=&quot;externalLink null&quot;&gt;DBMS_XPLAN&lt;/a&gt;.&lt;a tiddlylink=&quot;DISPLAY_CURSOR&quot; refresh=&quot;link&quot; target=&quot;_blank&quot; title=&quot;External link to http://karlarao.tiddlyspot.com#DISPLAY_CURSOR&quot; href=&quot;http://karlarao.tiddlyspot.com#DISPLAY_CURSOR&quot; class=&quot;externalLink null&quot;&gt;DISPLAY_CURSOR&lt;/a&gt; (Column Projection and Predicate filter/access Information sections)&lt;br&gt;&lt;br&gt;On SQL Developer 4.2 there's an enhanced &quot;Real Time SQL Monitoring viewer&quot; where the Plan Tab section Plan Line ID is aligned with “Obj”,“Access”,“Filter”,“Projection”,“&lt;a tiddlylink=&quot;QBlock&quot; refresh=&quot;link&quot; target=&quot;_blank&quot; title=&quot;External link to http://karlarao.tiddlyspot.com#QBlock&quot; href=&quot;http://karlarao.tiddlyspot.com#QBlock&quot; class=&quot;externalLink null&quot;&gt;QBlock&lt;/a&gt;” - all of that info exposed in every row, no more clicking on every line (yes you click on every line of SQL Monitor html report to expose filter/access predicates). This improvement is very powerful and makes troubleshooting very easy. &lt;br&gt;&lt;br&gt;In SQL Monitor or SQL Developer - &quot;Real Time SQL Monitoring viewer&quot; you have to flip back and forth on both the Plan Statistics and Plan Tabs. I personally like having the &quot;time spent&quot; and &quot;other plan info&quot; shown all in one line. That's why I use &lt;span class=&quot;marked&quot;&gt;DB Optimizer - my go-to SQL profiling/tuning tool (see the bottom section of this post)&lt;/span&gt; whenever I'd like to dig in deeper on the business logic behind the SQL. It makes it easy to go through hundreds of lines of exec plan with all info in one line, VST and &lt;a tiddlylink=&quot;SQL_TEXT&quot; refresh=&quot;link&quot; target=&quot;_blank&quot; title=&quot;External link to http://karlarao.tiddlyspot.com#SQL_TEXT&quot; href=&quot;http://karlarao.tiddlyspot.com#SQL_TEXT&quot; class=&quot;externalLink null&quot;&gt;SQL_TEXT&lt;/a&gt; (with dynamic highlighting) on the top, and system level and session level profiling on another tab. And all of this can be saved offline! :)  &lt;br&gt;&lt;br&gt;&lt;/blockquote&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;h1&gt; 12.1.0.2&lt;div style=&quot;font-size: 0.5em; color: blue;&quot;&gt;&lt;a class=&quot;dcTOCTop&quot; title=&quot;Go to top of tiddler&quot; href=&quot;javascript:;&quot;&gt; [top]&lt;/a&gt;&lt;/div&gt;&lt;/h1&gt;&lt;h2&gt; yes Plan Line ID on SQL Monitor Plan Tab was introduced&lt;div style=&quot;font-size: 0.5em; color: blue;&quot;&gt;&lt;a class=&quot;dcTOCTop&quot; title=&quot;Go to top of tiddler&quot; href=&quot;javascript:;&quot;&gt; [top]&lt;/a&gt;&lt;/div&gt;&lt;/h2&gt;&lt;blockquote&gt;Plan Statistics    &lt;br&gt;&lt;img src=&quot;http://i.imgur.com/azLlOxk.png&quot; title=&quot;SHIFT-CLICK=show full size, CTRL-CLICK=restore initial size&quot; style=&quot;width: 95%; height: 95%; cursor: move;&quot;&gt;&lt;br&gt;Plan Tab&lt;br&gt;&lt;img src=&quot;http://i.imgur.com/MGU1JYt.png&quot; title=&quot;SHIFT-CLICK=show full size, CTRL-CLICK=restore initial size&quot; style=&quot;width: 95%; height: 95%; cursor: move;&quot;&gt;&lt;br&gt;&lt;/blockquote&gt;&lt;br&gt;&lt;h1&gt; 12.1.0.1&lt;div style=&quot;font-size: 0.5em; color: blue;&quot;&gt;&lt;a class=&quot;dcTOCTop&quot; title=&quot;Go to top of tiddler&quot; href=&quot;javascript:;&quot;&gt; [top]&lt;/a&gt;&lt;/div&gt;&lt;/h1&gt;&lt;h2&gt; no Plan Line ID on SQL Monitor Plan Tab &lt;div style=&quot;font-size: 0.5em; color: blue;&quot;&gt;&lt;a class=&quot;dcTOCTop&quot; title=&quot;Go to top of tiddler&quot; href=&quot;javascript:;&quot;&gt; [top]&lt;/a&gt;&lt;/div&gt;&lt;/h2&gt;&lt;blockquote&gt;Plan Statistics&lt;br&gt;&lt;img src=&quot;http://i.imgur.com/fojDlku.png&quot; title=&quot;SHIFT-CLICK=show full size, CTRL-CLICK=restore initial size&quot; style=&quot;width: 95%; height: 95%; cursor: move;&quot;&gt;&lt;br&gt;Plan Tab&lt;br&gt;&lt;img src=&quot;http://i.imgur.com/Z0E9WyY.png&quot; title=&quot;SHIFT-CLICK=show full size, CTRL-CLICK=restore initial size&quot; style=&quot;width: 95%; height: 95%; cursor: move;&quot;&gt;&lt;br&gt;&lt;/blockquote&gt;&lt;br&gt;&lt;h1&gt; &lt;span class=&quot;marked&quot;&gt; How to get Plan Tab - Plan Line ID from 11.2 (I think even 11.1 - &lt;a tiddlylink=&quot;SQL_PLAN_LINE_ID&quot; refresh=&quot;link&quot; target=&quot;_blank&quot; title=&quot;External link to http://karlarao.tiddlyspot.com#SQL_PLAN_LINE_ID&quot; href=&quot;http://karlarao.tiddlyspot.com#SQL_PLAN_LINE_ID&quot; class=&quot;externalLink null&quot;&gt;SQL_PLAN_LINE_ID&lt;/a&gt; was introduced) to 12.1.0.1  ??? &lt;/span&gt; &amp;lt;- Use SQL Developer 4.2 &lt;div style=&quot;font-size: 0.5em; color: blue;&quot;&gt;&lt;a class=&quot;dcTOCTop&quot; title=&quot;Go to top of tiddler&quot; href=&quot;javascript:;&quot;&gt; [top]&lt;/a&gt;&lt;/div&gt;&lt;/h1&gt;On version 4.2 of SQL Developer they enhanced the &quot;Real Time SQL Monitoring viewer&quot; &lt;a target=&quot;_blank&quot; title=&quot;External link to http://www.oracle.com/technetwork/developer-tools/sql-developer/sqldev-newfeatures-v42-3211987.html&quot; href=&quot;http://www.oracle.com/technetwork/developer-tools/sql-developer/sqldev-newfeatures-v42-3211987.html&quot; class=&quot;externalLink&quot;&gt;http://www.oracle.com/technetwork/developer-tools/sql-developer/sqldev-newfeatures-v42-3211987.html&lt;/a&gt; &lt;br&gt;&lt;h2&gt; 12.1.0.1 SQL Developer -&amp;gt; Tools -&amp;gt; Real Time SQL Monitor&lt;div style=&quot;font-size: 0.5em; color: blue;&quot;&gt;&lt;a class=&quot;dcTOCTop&quot; title=&quot;Go to top of tiddler&quot; href=&quot;javascript:;&quot;&gt; [top]&lt;/a&gt;&lt;/div&gt;&lt;/h2&gt;&lt;blockquote&gt;Plan Statistics&lt;br&gt;&lt;img src=&quot;http://i.imgur.com/cQ5ctHG.png&quot; title=&quot;SHIFT-CLICK=show full size, CTRL-CLICK=restore initial size&quot; style=&quot;width: 95%; height: 95%; cursor: move;&quot;&gt;&lt;br&gt;Plan Tab&lt;br&gt;&lt;img src=&quot;http://i.imgur.com/zWrVlDL.png&quot; title=&quot;SHIFT-CLICK=show full size, CTRL-CLICK=restore initial size&quot; style=&quot;width: 95%; height: 95%; cursor: move;&quot;&gt;&lt;br&gt;&lt;/blockquote&gt;&lt;br&gt;&lt;h2&gt; 11.2.0.4 SQL Developer -&amp;gt; Tools -&amp;gt; Real Time SQL Monitor&lt;div style=&quot;font-size: 0.5em; color: blue;&quot;&gt;&lt;a class=&quot;dcTOCTop&quot; title=&quot;Go to top of tiddler&quot; href=&quot;javascript:;&quot;&gt; [top]&lt;/a&gt;&lt;/div&gt;&lt;/h2&gt;&lt;blockquote&gt;Plan Statistics&lt;br&gt;&lt;img src=&quot;http://i.imgur.com/AnPiIE3.png&quot; title=&quot;SHIFT-CLICK=show full size, CTRL-CLICK=restore initial size&quot; style=&quot;width: 95%; height: 95%; cursor: move;&quot;&gt;&lt;br&gt;Plan Tab&lt;br&gt;&lt;img src=&quot;http://i.imgur.com/HcMYsfA.png&quot; title=&quot;SHIFT-CLICK=show full size, CTRL-CLICK=restore initial size&quot; style=&quot;width: 95%; height: 95%; cursor: move;&quot;&gt;&lt;br&gt;&lt;/blockquote&gt;&lt;br&gt;&lt;h1&gt; DB Optimizer - my go-to SQL profiling/tuning tool &lt;div style=&quot;font-size: 0.5em; color: blue;&quot;&gt;&lt;a class=&quot;dcTOCTop&quot; title=&quot;Go to top of tiddler&quot; href=&quot;javascript:;&quot;&gt; [top]&lt;/a&gt;&lt;/div&gt;&lt;/h1&gt;&lt;blockquote&gt;&lt;span class=&quot;marked&quot;&gt;DB Optimizer - Tuning Tab&lt;/span&gt;&lt;br&gt;&lt;br&gt;&lt;ul&gt;&lt;li&gt; Here I can quickly correlate where the time is being spent vs what the logic behind the SQL (VST - Visual SQL Tuning Diagram) vs SQL TEXT. When I click on SKEW (B) object the corresponding sections in SQL TEXT with any association to SKEW (B) gets highlighted. The VST Diagram area also shows the row count and filter ratios/rows between joined tables, and also the join method used and execution path (dark green - START, red - FINISH). Plus the object details (index,tables,stats,histogram) around the &lt;a tiddlylink=&quot;SQL_ID&quot; refresh=&quot;link&quot; target=&quot;_blank&quot; title=&quot;External link to http://karlarao.tiddlyspot.com#SQL_ID&quot; href=&quot;http://karlarao.tiddlyspot.com#SQL_ID&quot; class=&quot;externalLink null&quot;&gt;SQL_ID&lt;/a&gt;. &lt;/li&gt;&lt;li&gt; Here we are doing many to many join of the SKEW table (alias A to D). And as we join step by step from A to D you can see on the &quot;Actual Statistics&quot; section &quot;CR Buffer Gets&quot; column that the number linearly increases per table join. From 1.67M (A-&amp;gt;B) to 3.3M (B-&amp;gt;C) to 4.9M (C-&amp;gt;D). That's why this is CPU/LIO intensive SQL. &lt;/li&gt;&lt;li&gt; It produces this row source stats by injecting gather_plan_statistics hint when you run the SQL. So yes the SQL has to finish to get &quot;Actual Statistics&quot; data and here I modified the SQL from 10000000 to 1000. On cases where I can't easily do this &quot;trick&quot; to produce the &quot;Actual Statistics&quot; and if the SQL would run for hours, I would just grab the VST diagram, Execution Plan from DB optimizer and correlate this info with SQL Monitor. But then the pain here is DB Optimizer doesn't show Plan Line ID, arghh. But it allows wildcard search on the execution plan so I can just key in the specific operation and from there I can highlight and get to my Plan Line ID and do correlation. This issue is not a deal breaker for me, but I hope they fix this on the next release :) &lt;/li&gt;&lt;/ul&gt;&lt;br&gt;&lt;img src=&quot;http://i.imgur.com/5bY7S3R.png&quot; title=&quot;SHIFT-CLICK=show full size, CTRL-CLICK=restore initial size&quot; style=&quot;width: 95%; height: 95%; cursor: move;&quot;&gt;&lt;br&gt;&lt;br&gt;While doing SQL tuning on one tab, you can also do system level and session level profiling on another tab. This interface looks like OEM. And it's very powerful and fast and &lt;a tiddlylink=&quot;RAC-aware&quot; refresh=&quot;link&quot; target=&quot;_blank&quot; title=&quot;External link to http://karlarao.tiddlyspot.com#RAC-aware&quot; href=&quot;http://karlarao.tiddlyspot.com#RAC-aware&quot; class=&quot;externalLink null&quot;&gt;RAC-aware&lt;/a&gt;. Drilling down from System to Session level is very easy. And I can read PL/SQL packages/procedures right away where the &lt;a tiddlylink=&quot;SQL_ID&quot; refresh=&quot;link&quot; target=&quot;_blank&quot; title=&quot;External link to http://karlarao.tiddlyspot.com#SQL_ID&quot; href=&quot;http://karlarao.tiddlyspot.com#SQL_ID&quot; class=&quot;externalLink null&quot;&gt;SQL_ID&lt;/a&gt; bottleneck is coming from. &lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;span class=&quot;marked&quot;&gt;DB Optimizer - Profiling Tab&lt;/span&gt;&lt;br&gt;&lt;img src=&quot;http://i.imgur.com/ptkNUEL.png&quot; title=&quot;SHIFT-CLICK=show full size, CTRL-CLICK=restore initial size&quot; style=&quot;width: 95%; height: 95%; cursor: move;&quot;&gt;&lt;br&gt;&lt;br&gt;And the beauty about this is I can save my profiling and SQL tuning sessions offline together with my screenshots, SQL Monitor, and &lt;a tiddlylink=&quot;SQLD360&quot; refresh=&quot;link&quot; target=&quot;_blank&quot; title=&quot;External link to http://karlarao.tiddlyspot.com#SQLD360&quot; href=&quot;http://karlarao.tiddlyspot.com#SQLD360&quot; class=&quot;externalLink null&quot;&gt;SQLD360&lt;/a&gt; files. &lt;br&gt;&lt;img src=&quot;http://i.imgur.com/TQYkUF4.png&quot; title=&quot;SHIFT-CLICK=show full size, CTRL-CLICK=restore initial size&quot; style=&quot;width: 50%; height: 50%; cursor: move;&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;/blockquote&gt;&lt;br&gt;&lt;br&gt;&lt;h1&gt; the testcase SQL I used &lt;div style=&quot;font-size: 0.5em; color: blue;&quot;&gt;&lt;a class=&quot;dcTOCTop&quot; title=&quot;Go to top of tiddler&quot; href=&quot;javascript:;&quot;&gt; [top]&lt;/a&gt;&lt;/div&gt;&lt;/h1&gt;&lt;pre&gt;create table hr.skew as select * from dba_objects; 

select /*+ monitor ordered
        use_nl(b) use_nl(c) use_nl(d)
        full(a) full(b) full(c) full(d) */
    count(*)
from
    hr.skew a,
    hr.skew b,
    hr.skew c,
    hr.skew d
where
    a.object_id = b.object_id
and b.object_id = c.object_id
and c.object_id = d.object_id
and rownum &amp;lt;= 10000000;
&lt;/pre&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;</description>
<category>RealTimeSQLMonitoring-sql_monitor</category>
<category>ExecutionPlans</category>
<link>http://karlarao.tiddlyspot.com#%5B%5BPlan%20Line%20ID%5D%5D</link>
<pubDate>Thu, 03 Aug 2017 19:32:00 GMT</pubDate>

</item>
<item>
<title>“Object Name”, “Access Predicates”, “Filter Predicates”, “Projection”</title>
<description>&lt;div class=&quot;dcTOC&quot;&gt;&lt;a class=&quot;toggleButton&quot; title=&quot;show/collapse table of contents&quot; href=&quot;javascript:;&quot;&gt;/* Table of Contents */&lt;/a&gt;&lt;div&gt;&lt;ul&gt;&lt;li&gt;&lt;span&gt;&lt;a href=&quot;javascript:;&quot; onclick=&quot;window.scrollToHeading('', ' Reading Execution Plans ', event)&quot;&gt; Reading Execution Plans &lt;/a&gt;&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;&lt;a href=&quot;javascript:;&quot; onclick=&quot;window.scrollToHeading('', ' “Access Predicates” ', event)&quot;&gt; “Access Predicates” &lt;/a&gt;&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;&lt;a href=&quot;javascript:;&quot; onclick=&quot;window.scrollToHeading('', ' “Filter Predicates”', event)&quot;&gt; “Filter Predicates”&lt;/a&gt;&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;&lt;a href=&quot;javascript:;&quot; onclick=&quot;window.scrollToHeading('', ' column projection ', event)&quot;&gt; column projection &lt;/a&gt;&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;&lt;a href=&quot;javascript:;&quot; onclick=&quot;window.scrollToHeading('', ' QB name ', event)&quot;&gt; QB name &lt;/a&gt;&lt;/span&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;/div&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;h1&gt; Reading Execution Plans &lt;div style=&quot;font-size: 0.5em; color: blue;&quot;&gt;&lt;a class=&quot;dcTOCTop&quot; title=&quot;Go to top of tiddler&quot; href=&quot;javascript:;&quot;&gt; [top]&lt;/a&gt;&lt;/div&gt;&lt;/h1&gt;&lt;a target=&quot;_blank&quot; title=&quot;External link to https://docs.oracle.com/database/121/TGSQL/tgsql_interp.htm#TGSQL94618&quot; href=&quot;https://docs.oracle.com/database/121/TGSQL/tgsql_interp.htm#TGSQL94618&quot; class=&quot;externalLink&quot;&gt;https://docs.oracle.com/database/121/TGSQL/tgsql_interp.htm#TGSQL94618&lt;/a&gt;&lt;br&gt;&lt;a target=&quot;_blank&quot; title=&quot;External link to https://blogs.oracle.com/sql/query-tuning-101:-comparing-execution-plans-and-access-vs-filter-predicates&quot; href=&quot;https://blogs.oracle.com/sql/query-tuning-101:-comparing-execution-plans-and-access-vs-filter-predicates&quot; class=&quot;externalLink&quot;&gt;https://blogs.oracle.com/sql/query-tuning-101:-comparing-execution-plans-and-access-vs-filter-predicates&lt;/a&gt;&lt;br&gt;&lt;a target=&quot;_blank&quot; title=&quot;External link to http://blog.tanelpoder.com/files/Oracle_SQL_Plan_Execution.pdf&quot; href=&quot;http://blog.tanelpoder.com/files/Oracle_SQL_Plan_Execution.pdf&quot; class=&quot;externalLink&quot;&gt;http://blog.tanelpoder.com/files/Oracle_SQL_Plan_Execution.pdf&lt;/a&gt;&lt;br&gt;&lt;br&gt;&lt;h1&gt; “Access Predicates” &lt;div style=&quot;font-size: 0.5em; color: blue;&quot;&gt;&lt;a class=&quot;dcTOCTop&quot; title=&quot;Go to top of tiddler&quot; href=&quot;javascript:;&quot;&gt; [top]&lt;/a&gt;&lt;/div&gt;&lt;/h1&gt;&lt;ul&gt;&lt;li&gt; Predicates used to locate rows in an access structure. For example, start or stop predicates for an index range scan, hash join &lt;/li&gt;&lt;/ul&gt;&lt;br&gt;&lt;h1&gt; “Filter Predicates”&lt;div style=&quot;font-size: 0.5em; color: blue;&quot;&gt;&lt;a class=&quot;dcTOCTop&quot; title=&quot;Go to top of tiddler&quot; href=&quot;javascript:;&quot;&gt; [top]&lt;/a&gt;&lt;/div&gt;&lt;/h1&gt;&lt;ul&gt;&lt;li&gt; Predicates used to filter rows before producing them.&lt;/li&gt;&lt;li&gt; Any condition that would throw away/filter rows &lt;/li&gt;&lt;/ul&gt;&lt;br&gt;&lt;h1&gt; column projection &lt;div style=&quot;font-size: 0.5em; color: blue;&quot;&gt;&lt;a class=&quot;dcTOCTop&quot; title=&quot;Go to top of tiddler&quot; href=&quot;javascript:;&quot;&gt; [top]&lt;/a&gt;&lt;/div&gt;&lt;/h1&gt;&lt;blockquote&gt;“column projection” is what you extract from the rowsource you are reading.&lt;br&gt;In set theory you project (subset of columns) and filter (subset of rows) &lt;br&gt;so for example “select object_id from table” then you are projecting just “object_id” column&lt;br&gt;&lt;/blockquote&gt;&lt;br&gt;&lt;h1&gt; QB name &lt;div style=&quot;font-size: 0.5em; color: blue;&quot;&gt;&lt;a class=&quot;dcTOCTop&quot; title=&quot;Go to top of tiddler&quot; href=&quot;javascript:;&quot;&gt; [top]&lt;/a&gt;&lt;/div&gt;&lt;/h1&gt;&lt;ul&gt;&lt;li&gt; name of the query block, either system-generated or defined by the user with the &lt;a tiddlylink=&quot;QB_NAME&quot; refresh=&quot;link&quot; target=&quot;_blank&quot; title=&quot;External link to http://karlarao.tiddlyspot.com#QB_NAME&quot; href=&quot;http://karlarao.tiddlyspot.com#QB_NAME&quot; class=&quot;externalLink null&quot;&gt;QB_NAME&lt;/a&gt; hint&lt;/li&gt;&lt;/ul&gt;</description>
<category>ExecutionPlans</category>
<link>http://karlarao.tiddlyspot.com#%5B%5B%E2%80%9CObject%20Name%E2%80%9D%2C%20%E2%80%9CAccess%20Predicates%E2%80%9D%2C%20%E2%80%9CFilter%20Predicates%E2%80%9D%2C%20%E2%80%9CProjection%E2%80%9D%5D%5D</link>
<pubDate>Thu, 03 Aug 2017 18:54:00 GMT</pubDate>

</item>
<item>
<title>RealTimeSQLMonitoring-sql_monitor</title>
<description>&lt;div class=&quot;dcTOC&quot;&gt;&lt;a class=&quot;toggleButton&quot; title=&quot;show/collapse table of contents&quot; href=&quot;javascript:;&quot;&gt;/* Table of Contents */&lt;/a&gt;&lt;div&gt;&lt;ul&gt;&lt;li&gt;&lt;span&gt;&lt;a href=&quot;javascript:;&quot; onclick=&quot;window.scrollToHeading('', ' ''Monitoring SQL statements with Real-Time SQL Monitoring [ID 1380492.1]''', event)&quot;&gt; ''Monitoring SQL statements with Real-Time SQL Monitoring [ID 1380492.1]''&lt;/a&gt;&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;&lt;a href=&quot;javascript:;&quot; onclick=&quot;window.scrollToHeading('', ' ''hint''', event)&quot;&gt; ''hint''&lt;/a&gt;&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;&lt;a href=&quot;javascript:;&quot; onclick=&quot;window.scrollToHeading('', ' ''spool from SQL Developer''', event)&quot;&gt; ''spool from SQL Developer''&lt;/a&gt;&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;&lt;a href=&quot;javascript:;&quot; onclick=&quot;window.scrollToHeading('', ' using SQLD360 - all SQL monitor report types in one shot ', event)&quot;&gt; using SQLD360 - all SQL monitor report types in one shot &lt;/a&gt;&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;&lt;a href=&quot;javascript:;&quot; onclick=&quot;window.scrollToHeading('', ' references ', event)&quot;&gt; references &lt;/a&gt;&lt;/span&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;/div&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;h1&gt; &lt;strong&gt;Monitoring SQL statements with &lt;a tiddlylink=&quot;Real-Time&quot; refresh=&quot;link&quot; target=&quot;_blank&quot; title=&quot;External link to http://karlarao.tiddlyspot.com#Real-Time&quot; href=&quot;http://karlarao.tiddlyspot.com#Real-Time&quot; class=&quot;externalLink null&quot;&gt;Real-Time&lt;/a&gt; SQL Monitoring [ID 1380492.1]&lt;/strong&gt;&lt;div style=&quot;font-size: 0.5em; color: blue;&quot;&gt;&lt;a class=&quot;dcTOCTop&quot; title=&quot;Go to top of tiddler&quot; href=&quot;javascript:;&quot;&gt; [top]&lt;/a&gt;&lt;/div&gt;&lt;/h1&gt;&lt;a target=&quot;_blank&quot; title=&quot;External link to http://structureddata.org/2008/01/06/oracle-11g-real-time-sql-monitoring-using-dbms_sqltunereport_sql_monitor&quot; href=&quot;http://structureddata.org/2008/01/06/oracle-11g-real-time-sql-monitoring-using-dbms_sqltunereport_sql_monitor&quot; class=&quot;externalLink&quot;&gt;http://structureddata.org/2008/01/06/oracle-11g-real-time-sql-monitoring-using-dbms_sqltunereport_sql_monitor&lt;/a&gt; &lt;br&gt;&lt;pre&gt;If you want to get a SQL Monitor report for a statement you just ran in your session (similar to dbms_xplan.display_cursor) then use this command:

set pagesize 0 echo off timing off linesize 1000 trimspool on trim on long 2000000 longchunksize 2000000
select DBMS_SQLTUNE.REPORT_SQL_MONITOR(
   session_id=&amp;gt;sys_context('userenv','sid'),
   report_level=&amp;gt;'ALL') as report
from dual;

Or if you want to generate the EM Active SQL Monitor Report (my recommendation) from any SQL_ID you can use:

set pagesize 0 echo off timing off linesize 1000 trimspool on trim on long 2000000 longchunksize 2000000 feedback off
spool sqlmon_4vbqtp97hwqk8.html
select dbms_sqltune.report_sql_monitor(report_level=&amp;gt;'+histogram', type=&amp;gt;'EM', sql_id=&amp;gt;'4vbqtp97hwqk8') monitor_report from dual;
spool off
&lt;/pre&gt;&lt;br&gt;&lt;h1&gt; &lt;strong&gt;hint&lt;/strong&gt;&lt;div style=&quot;font-size: 0.5em; color: blue;&quot;&gt;&lt;a class=&quot;dcTOCTop&quot; title=&quot;Go to top of tiddler&quot; href=&quot;javascript:;&quot;&gt; [top]&lt;/a&gt;&lt;/div&gt;&lt;/h1&gt;&lt;pre&gt;/*+ MONITOR */
&lt;/pre&gt;&lt;br&gt;&lt;h1&gt; &lt;strong&gt;spool from SQL Developer&lt;/strong&gt;&lt;div style=&quot;font-size: 0.5em; color: blue;&quot;&gt;&lt;a class=&quot;dcTOCTop&quot; title=&quot;Go to top of tiddler&quot; href=&quot;javascript:;&quot;&gt; [top]&lt;/a&gt;&lt;/div&gt;&lt;/h1&gt;&lt;pre&gt;--select * from v$sql where sql_fulltext like '%&amp;amp;txt%' order by last_load_time;
SET TERMOUT OFF
SET verify off;
 
 
spool C:\Users\Administrator\Documents\sql_stats\fe_stage2a.html;
 
select
  dbms_sql_monitor.report_sql_monitor(sql_id =&amp;gt; '&amp;amp;sql_id',
                                      type =&amp;gt; decode(upper('&amp;amp;&amp;amp;ptype'),'A', 'ACTIVE', 'H' , 'HTML', 'TEXT'), --'TEXT'  'HTML'  'ACTIVE'
                                      report_level =&amp;gt; 'ALL') as report
FROM DUAL;
SPOOL OFF;
&lt;/pre&gt;&lt;br&gt;&lt;br&gt;&lt;h1&gt; using &lt;a tiddlylink=&quot;SQLD360&quot; refresh=&quot;link&quot; target=&quot;_blank&quot; title=&quot;External link to http://karlarao.tiddlyspot.com#SQLD360&quot; href=&quot;http://karlarao.tiddlyspot.com#SQLD360&quot; class=&quot;externalLink null&quot;&gt;SQLD360&lt;/a&gt; - all SQL monitor report types in one shot &lt;div style=&quot;font-size: 0.5em; color: blue;&quot;&gt;&lt;a class=&quot;dcTOCTop&quot; title=&quot;Go to top of tiddler&quot; href=&quot;javascript:;&quot;&gt; [top]&lt;/a&gt;&lt;/div&gt;&lt;/h1&gt;&lt;a target=&quot;_blank&quot; title=&quot;External link to https://github.com/karlarao/report_sql_monitor&quot; href=&quot;https://github.com/karlarao/report_sql_monitor&quot; class=&quot;externalLink&quot;&gt;https://github.com/karlarao/report_sql_monitor&lt;/a&gt;&lt;br&gt;run with &lt;br&gt;&lt;pre&gt;@sqld360 &amp;lt;SQL_ID&amp;gt; T 
&lt;/pre&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;h1&gt; references &lt;div style=&quot;font-size: 0.5em; color: blue;&quot;&gt;&lt;a class=&quot;dcTOCTop&quot; title=&quot;Go to top of tiddler&quot; href=&quot;javascript:;&quot;&gt; [top]&lt;/a&gt;&lt;/div&gt;&lt;/h1&gt;&lt;blockquote&gt;&lt;a target=&quot;_blank&quot; title=&quot;External link to http://www.oracle.com/technetwork/database/focus-areas/manageability/sqlmonitor-084401.html?ssSourceSiteId=otncn&quot; href=&quot;http://www.oracle.com/technetwork/database/focus-areas/manageability/sqlmonitor-084401.html?ssSourceSiteId=otncn&quot; class=&quot;externalLink&quot;&gt;http://www.oracle.com/technetwork/database/focus-areas/manageability/sqlmonitor-084401.html?ssSourceSiteId=otncn&lt;/a&gt;  &amp;lt;&lt;span&gt;—&lt;/span&gt; SQL Monitor FAQ&lt;br&gt;&lt;br&gt;&lt;a target=&quot;_blank&quot; title=&quot;External link to http://oracledoug.com/serendipity/index.php?/archives/1506-Real-Time-SQL-Monitoring-in-SQL-Developer.html&quot; href=&quot;http://oracledoug.com/serendipity/index.php?/archives/1506-Real-Time-SQL-Monitoring-in-SQL-Developer.html&quot; class=&quot;externalLink&quot;&gt;http://oracledoug.com/serendipity/index.php?/archives/1506-Real-Time-SQL-Monitoring-in-SQL-Developer.html&lt;/a&gt; &amp;lt;&lt;span&gt;—&lt;/span&gt; SQL Developer&lt;br&gt;&lt;a target=&quot;_blank&quot; title=&quot;External link to http://oracledoug.com/serendipity/index.php?/archives/1642-Real-Time-SQL-Monitoring-Statement-Not-Appearing.html&quot; href=&quot;http://oracledoug.com/serendipity/index.php?/archives/1642-Real-Time-SQL-Monitoring-Statement-Not-Appearing.html&quot; class=&quot;externalLink&quot;&gt;http://oracledoug.com/serendipity/index.php?/archives/1642-Real-Time-SQL-Monitoring-Statement-Not-Appearing.html&lt;/a&gt; &amp;lt;&lt;span&gt;—&lt;/span&gt; hidden parameter to increase the lines - statement not appearing&lt;br&gt;&lt;a target=&quot;_blank&quot; title=&quot;External link to http://oracledoug.com/serendipity/index.php?%2Farchives%2F1646-Real-Time-SQL-Monitoring-Retention.html&quot; href=&quot;http://oracledoug.com/serendipity/index.php?%2Farchives%2F1646-Real-Time-SQL-Monitoring-Retention.html&quot; class=&quot;externalLink&quot;&gt;http://oracledoug.com/serendipity/index.php?%2Farchives%2F1646-Real-Time-SQL-Monitoring-Retention.html&lt;/a&gt; &amp;lt;&lt;span&gt;—&lt;/span&gt; retention&lt;br&gt;&lt;a target=&quot;_blank&quot; title=&quot;External link to http://structureddata.org/2011/08/28/reading-active-sql-monitor-reports-offline/&quot; href=&quot;http://structureddata.org/2011/08/28/reading-active-sql-monitor-reports-offline/&quot; class=&quot;externalLink&quot;&gt;http://structureddata.org/2011/08/28/reading-active-sql-monitor-reports-offline/&lt;/a&gt;  &amp;lt;&lt;span&gt;—&lt;/span&gt; &lt;strong&gt;offline view&lt;/strong&gt; of sql monitor reports&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;a target=&quot;_blank&quot; title=&quot;External link to http://www.oracle-base.com/blog/2011/03/22/real-time-sql-monitoring-update/&quot; href=&quot;http://www.oracle-base.com/blog/2011/03/22/real-time-sql-monitoring-update/&quot; class=&quot;externalLink&quot;&gt;http://www.oracle-base.com/blog/2011/03/22/real-time-sql-monitoring-update/&lt;/a&gt;&lt;br&gt;&lt;a target=&quot;_blank&quot; title=&quot;External link to http://blog.aristadba.com/?tag=real-time-sql-monitoring&quot; href=&quot;http://blog.aristadba.com/?tag=real-time-sql-monitoring&quot; class=&quot;externalLink&quot;&gt;http://blog.aristadba.com/?tag=real-time-sql-monitoring&lt;/a&gt;&lt;br&gt;&lt;a target=&quot;_blank&quot; title=&quot;External link to http://www.pythian.com/news/582/tuning-pack-11g-real-time-sql-monitoring/&quot; href=&quot;http://www.pythian.com/news/582/tuning-pack-11g-real-time-sql-monitoring/&quot; class=&quot;externalLink&quot;&gt;http://www.pythian.com/news/582/tuning-pack-11g-real-time-sql-monitoring/&lt;/a&gt;&lt;br&gt;&lt;br&gt;&lt;a target=&quot;_blank&quot; title=&quot;External link to http://joze-senegacnik.blogspot.com/2009/12/vsqlmonitor-and-vsqlplanmonitor.html&quot; href=&quot;http://joze-senegacnik.blogspot.com/2009/12/vsqlmonitor-and-vsqlplanmonitor.html&quot; class=&quot;externalLink&quot;&gt;http://joze-senegacnik.blogspot.com/2009/12/vsqlmonitor-and-vsqlplanmonitor.html&lt;/a&gt; &amp;lt;&lt;span&gt;—&lt;/span&gt; V$&lt;a tiddlylink=&quot;SQL_MONITOR&quot; refresh=&quot;link&quot; target=&quot;_blank&quot; title=&quot;External link to http://karlarao.tiddlyspot.com#SQL_MONITOR&quot; href=&quot;http://karlarao.tiddlyspot.com#SQL_MONITOR&quot; class=&quot;externalLink null&quot;&gt;SQL_MONITOR&lt;/a&gt; and V$&lt;a tiddlylink=&quot;SQL_PLAN_MONITOR&quot; refresh=&quot;link&quot; target=&quot;_blank&quot; title=&quot;External link to http://karlarao.tiddlyspot.com#SQL_PLAN_MONITOR&quot; href=&quot;http://karlarao.tiddlyspot.com#SQL_PLAN_MONITOR&quot; class=&quot;externalLink null&quot;&gt;SQL_PLAN_MONITOR&lt;/a&gt;&lt;br&gt;&lt;/blockquote&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;</description>
<category>SQL Tuning</category>
<link>http://karlarao.tiddlyspot.com#RealTimeSQLMonitoring-sql_monitor</link>
<pubDate>Thu, 03 Aug 2017 17:18:00 GMT</pubDate>

</item>
<item>
<title>method_opt</title>
<description>&lt;a target=&quot;_blank&quot; title=&quot;External link to https://carlos-sierra.net/2013/07/27/two-common-mistakes-using-method_opt-in-dbms_stats/&quot; href=&quot;https://carlos-sierra.net/2013/07/27/two-common-mistakes-using-method_opt-in-dbms_stats/&quot; class=&quot;externalLink&quot;&gt;https://carlos-sierra.net/2013/07/27/two-common-mistakes-using-method_opt-in-dbms_stats/&lt;/a&gt;&lt;br&gt;two common mistakes:&lt;br&gt;&lt;blockquote&gt;&lt;ul&gt;&lt;li&gt; &lt;a tiddlylink=&quot;METHOD_OPT&quot; refresh=&quot;link&quot; target=&quot;_blank&quot; title=&quot;External link to http://karlarao.tiddlyspot.com#METHOD_OPT&quot; href=&quot;http://karlarao.tiddlyspot.com#METHOD_OPT&quot; class=&quot;externalLink null&quot;&gt;METHOD_OPT&lt;/a&gt; =&amp;gt; ‘FOR ALL INDEXED COLUMNS SIZE…’&lt;/li&gt;&lt;li&gt; &lt;a tiddlylink=&quot;METHOD_OPT&quot; refresh=&quot;link&quot; target=&quot;_blank&quot; title=&quot;External link to http://karlarao.tiddlyspot.com#METHOD_OPT&quot; href=&quot;http://karlarao.tiddlyspot.com#METHOD_OPT&quot; class=&quot;externalLink null&quot;&gt;METHOD_OPT&lt;/a&gt; =&amp;gt; NULL&lt;/li&gt;&lt;/ul&gt;&lt;/blockquote&gt;&lt;a target=&quot;_blank&quot; title=&quot;External link to https://blogs.oracle.com/optimizer/how-does-the-methodopt-parameter-work&quot; href=&quot;https://blogs.oracle.com/optimizer/how-does-the-methodopt-parameter-work&quot; class=&quot;externalLink&quot;&gt;https://blogs.oracle.com/optimizer/how-does-the-methodopt-parameter-work&lt;/a&gt;&lt;br&gt;&lt;a target=&quot;_blank&quot; title=&quot;External link to https://blog.dbi-services.com/a-migration-pitfall-with-all-column-size-auto/&quot; href=&quot;https://blog.dbi-services.com/a-migration-pitfall-with-all-column-size-auto/&quot; class=&quot;externalLink&quot;&gt;https://blog.dbi-services.com/a-migration-pitfall-with-all-column-size-auto/&lt;/a&gt;&lt;br&gt;</description>
<category>Histogram</category>
<link>http://karlarao.tiddlyspot.com#method_opt</link>
<pubDate>Thu, 27 Jul 2017 21:20:00 GMT</pubDate>

</item>
<item>
<title>buffer overflow, limit of 1000000 bytes</title>
<description>&lt;a target=&quot;_blank&quot; title=&quot;External link to https://stackoverflow.com/questions/16476568/how-to-increase-dbms-output-buffer&quot; href=&quot;https://stackoverflow.com/questions/16476568/how-to-increase-dbms-output-buffer&quot; class=&quot;externalLink&quot;&gt;https://stackoverflow.com/questions/16476568/how-to-increase-dbms-output-buffer&lt;/a&gt;&lt;br&gt;&lt;pre&gt;BEGIN
  dbms_output.enable(NULL); -- Disables the limit of DBMS
  -- Your print here !
END;
&lt;/pre&gt;&lt;br&gt;&lt;a tiddlylink=&quot;ORA-20000&quot; refresh=&quot;link&quot; target=&quot;_blank&quot; title=&quot;External link to http://karlarao.tiddlyspot.com#ORA-20000&quot; href=&quot;http://karlarao.tiddlyspot.com#ORA-20000&quot; class=&quot;externalLink null&quot;&gt;ORA-20000&lt;/a&gt;: &lt;a tiddlylink=&quot;ORU-10027&quot; refresh=&quot;link&quot; target=&quot;_blank&quot; title=&quot;External link to http://karlarao.tiddlyspot.com#ORU-10027&quot; href=&quot;http://karlarao.tiddlyspot.com#ORU-10027&quot; class=&quot;externalLink null&quot;&gt;ORU-10027&lt;/a&gt;: buffer overflow, limit of 1000000 bytes  &lt;a target=&quot;_blank&quot; title=&quot;External link to https://community.oracle.com/thread/308557&quot; href=&quot;https://community.oracle.com/thread/308557&quot; class=&quot;externalLink&quot;&gt;https://community.oracle.com/thread/308557&lt;/a&gt;</description>
<category>sqlplus errors</category>
<link>http://karlarao.tiddlyspot.com#%5B%5Bbuffer%20overflow%2C%20limit%20of%201000000%20bytes%5D%5D</link>
<pubDate>Thu, 27 Jul 2017 20:54:00 GMT</pubDate>

</item>
<item>
<title>sqlplus errors</title>
<description></description>
<category>SQL*Plus</category>
<link>http://karlarao.tiddlyspot.com#%5B%5Bsqlplus%20errors%5D%5D</link>
<pubDate>Thu, 27 Jul 2017 20:53:00 GMT</pubDate>

</item>
<item>
<title>Disconnect Oracle Sessions from Logon Trigger</title>
<description>&lt;div class=&quot;dcTOC&quot;&gt;&lt;a class=&quot;toggleButton&quot; title=&quot;show/collapse table of contents&quot; href=&quot;javascript:;&quot;&gt;/* Table of Contents */&lt;/a&gt;&lt;div&gt;&lt;ul&gt;&lt;li&gt;&lt;span&gt;&lt;a href=&quot;javascript:;&quot; onclick=&quot;window.scrollToHeading('', ' prereq ', event)&quot;&gt; prereq &lt;/a&gt;&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;&lt;a href=&quot;javascript:;&quot; onclick=&quot;window.scrollToHeading('', ' the trigger to prevent users from login in ', event)&quot;&gt; the trigger to prevent users from login in &lt;/a&gt;&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;&lt;a href=&quot;javascript:;&quot; onclick=&quot;window.scrollToHeading('', ' the kill procedure executed in UC4 ', event)&quot;&gt; the kill procedure executed in UC4 &lt;/a&gt;&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;&lt;a href=&quot;javascript:;&quot; onclick=&quot;window.scrollToHeading('', ' the user that will execute the kill should have the following privs ', event)&quot;&gt; the user that will execute the kill should have the following privs &lt;/a&gt;&lt;/span&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;/div&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;h1&gt; prereq &lt;div style=&quot;font-size: 0.5em; color: blue;&quot;&gt;&lt;a class=&quot;dcTOCTop&quot; title=&quot;Go to top of tiddler&quot; href=&quot;javascript:;&quot;&gt; [top]&lt;/a&gt;&lt;/div&gt;&lt;/h1&gt;&lt;ul&gt;&lt;li&gt; user should not have ADMINISTER DATABASE TRIGGER priv &lt;/li&gt;&lt;li&gt; user should not own the trigger &lt;/li&gt;&lt;li&gt; user that needs to be locked does not apply to SYS,SYSTEM&lt;/li&gt;&lt;/ul&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;h1&gt; the trigger to prevent users from login in &lt;div style=&quot;font-size: 0.5em; color: blue;&quot;&gt;&lt;a class=&quot;dcTOCTop&quot; title=&quot;Go to top of tiddler&quot; href=&quot;javascript:;&quot;&gt; [top]&lt;/a&gt;&lt;/div&gt;&lt;/h1&gt;&lt;pre&gt;-- EXECUTE THIS SCRIPT AS ALLOC_APP_PERF

create or replace trigger alloc_app_perf.revoke_alloc_app_user
    after logon on database
       begin
         -- not allow app schema
         if sys_context('USERENV','SESSION_USER') in ('ALLOC_APP_USER') 
         -- not allow users outside of this server (change the server name accordingly)
         and UPPER(SYS_CONTEXT ('USERENV','HOST')) not in ('KARLDEVFEDORA')
         then
           raise_application_error(-20001,'&amp;lt;&amp;lt;&amp;lt; NIGHTLY BATCH RUNNING. PLEASE COME BACK LATER. &amp;gt;&amp;gt;&amp;gt;');
       end if;
     end;
/


&lt;/pre&gt;&lt;br&gt;&lt;h1&gt; the kill procedure executed in &lt;a tiddlylink=&quot;UC4&quot; refresh=&quot;link&quot; target=&quot;_blank&quot; title=&quot;External link to http://karlarao.tiddlyspot.com#UC4&quot; href=&quot;http://karlarao.tiddlyspot.com#UC4&quot; class=&quot;externalLink null&quot;&gt;UC4&lt;/a&gt; &lt;div style=&quot;font-size: 0.5em; color: blue;&quot;&gt;&lt;a class=&quot;dcTOCTop&quot; title=&quot;Go to top of tiddler&quot; href=&quot;javascript:;&quot;&gt; [top]&lt;/a&gt;&lt;/div&gt;&lt;/h1&gt;&lt;pre&gt;-- EXECUTE THIS SCRIPT AS SYSDBA

grant alter system to system;
grant select on sys.gv_$session to system;

create or replace procedure system.uc4_kill_all_alloc_app_user
as 
    BEGIN
      FOR c IN (
          SELECT sid, serial#, inst_id
          FROM sys.gv_$session
          WHERE USERNAME = 'ALLOC_APP_USER'
          AND upper(MACHINE) NOT IN (select upper(sys_context ('userenv','HOST')) from dual)
          AND STATUS &amp;lt;&amp;gt; 'KILLED'
      )
      LOOP
          EXECUTE IMMEDIATE 'alter system kill session ''' || c.sid || ', ' || c.serial# || ', @' || c.inst_id || ''' immediate';
      END LOOP;
    END;
    /

grant execute on system.uc4_kill_all_alloc_app_user to alloc_app_perf;


&lt;/pre&gt;&lt;br&gt;&lt;br&gt;&lt;h1&gt; the user that will execute the kill should have the following privs &lt;div style=&quot;font-size: 0.5em; color: blue;&quot;&gt;&lt;a class=&quot;dcTOCTop&quot; title=&quot;Go to top of tiddler&quot; href=&quot;javascript:;&quot;&gt; [top]&lt;/a&gt;&lt;/div&gt;&lt;/h1&gt;&lt;pre&gt;
-- quotas
alter user &quot;alloc_app_perf&quot; quota unlimited on bas_data;

-- roles, privs
grant alloc_app_r to alloc_app_perf;
grant select_catalog_role to alloc_app_perf;
grant resource to alloc_app_perf;
grant select any dictionary to alloc_app_perf;
grant advisor to alloc_app_perf;
grant create job to alloc_app_perf;
grant oem_monitor to alloc_app_perf;
grant administer any sql tuning set to alloc_app_perf;   
grant administer sql management object to alloc_app_perf; 
grant create any sql_profile to alloc_app_perf;
grant drop any sql_profile to alloc_app_perf;
grant alter any sql_profile to alloc_app_perf;   
grant create any trigger to alloc_app_perf;
grant alter any trigger to alloc_app_perf;
grant administer database trigger to alloc_app_perf with admin option;

-- execute  
grant execute on dbms_monitor to alloc_app_perf;
grant execute on dbms_application_info to alloc_app_perf;
grant execute on dbms_workload_repository to alloc_app_perf;
grant execute on dbms_xplan to alloc_app_perf;     
grant execute on dbms_sqltune to alloc_app_perf;
grant execute on sys.dbms_lock to alloc_app_perf;


&lt;/pre&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;strong&gt;references&lt;/strong&gt;&lt;br&gt;&lt;a target=&quot;_blank&quot; title=&quot;External link to https://serverfault.com/questions/58856/disconnecting-an-oracle-session-from-a-logon-trigger&quot; href=&quot;https://serverfault.com/questions/58856/disconnecting-an-oracle-session-from-a-logon-trigger&quot; class=&quot;externalLink&quot;&gt;https://serverfault.com/questions/58856/disconnecting-an-oracle-session-from-a-logon-trigger&lt;/a&gt;&lt;br&gt;How do i prevent end users from connecting to the database other than my application &lt;a target=&quot;_blank&quot; title=&quot;External link to https://asktom.oracle.com/pls/asktom/f?p=100:11:0::::P11_QUESTION_ID:561622956788&quot; href=&quot;https://asktom.oracle.com/pls/asktom/f?p=100:11:0::::P11_QUESTION_ID:561622956788&quot; class=&quot;externalLink&quot;&gt;https://asktom.oracle.com/pls/asktom/f?p=100:11:0::::P11_QUESTION_ID:561622956788&lt;/a&gt;&lt;br&gt;Raise_application_error procedure in AFTER LOGON trigger &lt;a target=&quot;_blank&quot; title=&quot;External link to https://asktom.oracle.com/pls/asktom/f?p=100:11:0::::P11_QUESTION_ID:3236035522926&quot; href=&quot;https://asktom.oracle.com/pls/asktom/f?p=100:11:0::::P11_QUESTION_ID:3236035522926&quot; class=&quot;externalLink&quot;&gt;https://asktom.oracle.com/pls/asktom/f?p=100:11:0::::P11_QUESTION_ID:3236035522926&lt;/a&gt;&lt;br&gt;&lt;a target=&quot;_blank&quot; title=&quot;External link to http://oracle.ittoolbox.com/groups/technical-functional/oracle-db-l/after-logon-trigger-not-killing-the-user-session-5108880&quot; href=&quot;http://oracle.ittoolbox.com/groups/technical-functional/oracle-db-l/after-logon-trigger-not-killing-the-user-session-5108880&quot; class=&quot;externalLink&quot;&gt;http://oracle.ittoolbox.com/groups/technical-functional/oracle-db-l/after-logon-trigger-not-killing-the-user-session-5108880&lt;/a&gt;&lt;br&gt;&lt;a target=&quot;_blank&quot; title=&quot;External link to https://www.freelists.org/post/oracle-l/Disconnecting-session-from-an-on-logon-trigger,3&quot; href=&quot;https://www.freelists.org/post/oracle-l/Disconnecting-session-from-an-on-logon-trigger,3&quot; class=&quot;externalLink&quot;&gt;https://www.freelists.org/post/oracle-l/Disconnecting-session-from-an-on-logon-trigger,3&lt;/a&gt;&lt;br&gt;&lt;a target=&quot;_blank&quot; title=&quot;External link to https://stackoverflow.com/questions/55342/how-can-i-kill-all-sessions-connecting-to-my-oracle-database&quot; href=&quot;https://stackoverflow.com/questions/55342/how-can-i-kill-all-sessions-connecting-to-my-oracle-database&quot; class=&quot;externalLink&quot;&gt;https://stackoverflow.com/questions/55342/how-can-i-kill-all-sessions-connecting-to-my-oracle-database&lt;/a&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;</description>
<category>kill session procedure</category>
<link>http://karlarao.tiddlyspot.com#%5B%5BDisconnect%20Oracle%20Sessions%20from%20Logon%20Trigger%5D%5D</link>
<pubDate>Wed, 26 Jul 2017 19:10:00 GMT</pubDate>

</item>
<item>
<title>SQL books, articles</title>
<description>&lt;div class=&quot;dcTOC&quot;&gt;&lt;a class=&quot;toggleButton&quot; title=&quot;show/collapse table of contents&quot; href=&quot;javascript:;&quot;&gt;/* Table of Contents */&lt;/a&gt;&lt;div&gt;&lt;ul&gt;&lt;li&gt;&lt;span&gt;&lt;a href=&quot;javascript:;&quot; onclick=&quot;window.scrollToHeading('', ' books ', event)&quot;&gt; books &lt;/a&gt;&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;&lt;a href=&quot;javascript:;&quot; onclick=&quot;window.scrollToHeading('', ' articles ', event)&quot;&gt; articles &lt;/a&gt;&lt;/span&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;/div&gt; &lt;br&gt;&lt;br&gt;&lt;h1&gt; books &lt;div style=&quot;font-size: 0.5em; color: blue;&quot;&gt;&lt;a class=&quot;dcTOCTop&quot; title=&quot;Go to top of tiddler&quot; href=&quot;javascript:;&quot;&gt; [top]&lt;/a&gt;&lt;/div&gt;&lt;/h1&gt;&lt;br&gt;SQL performance explained &lt;a target=&quot;_blank&quot; title=&quot;External link to https://use-the-index-luke.com/sql/table-of-contents&quot; href=&quot;https://use-the-index-luke.com/sql/table-of-contents&quot; class=&quot;externalLink&quot;&gt;https://use-the-index-luke.com/sql/table-of-contents&lt;/a&gt;&lt;br&gt;&lt;br&gt;&lt;a target=&quot;_blank&quot; title=&quot;External link to https://www.amazon.com/Programming-Oracle-Triggers-Procedures-Prentice&quot; href=&quot;https://www.amazon.com/Programming-Oracle-Triggers-Procedures-Prentice&quot; class=&quot;externalLink&quot;&gt;https://www.amazon.com/Programming-Oracle-Triggers-Procedures-Prentice&lt;/a&gt;&lt;br&gt;&lt;a target=&quot;_blank&quot; title=&quot;External link to https://www.amazon.com/SQL-Antipatterns-Programming-Pragmatic-Programmers-eboo&quot; href=&quot;https://www.amazon.com/SQL-Antipatterns-Programming-Pragmatic-Programmers-eboo&quot; class=&quot;externalLink&quot;&gt;https://www.amazon.com/SQL-Antipatterns-Programming-Pragmatic-Programmers-eboo&lt;/a&gt;&lt;br&gt;&lt;br&gt;&lt;h1&gt; articles &lt;div style=&quot;font-size: 0.5em; color: blue;&quot;&gt;&lt;a class=&quot;dcTOCTop&quot; title=&quot;Go to top of tiddler&quot; href=&quot;javascript:;&quot;&gt; [top]&lt;/a&gt;&lt;/div&gt;&lt;/h1&gt;&lt;a target=&quot;_blank&quot; title=&quot;External link to https://www.datacamp.com/community/tutorials/sql-tutorial-query#gs.ePzPPkU&quot; href=&quot;https://www.datacamp.com/community/tutorials/sql-tutorial-query#gs.ePzPPkU&quot; class=&quot;externalLink&quot;&gt;https://www.datacamp.com/community/tutorials/sql-tutorial-query#gs.ePzPPkU&lt;/a&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;</description>
<category>.video content</category>
<category>,</category>
<category>SQL Tuning</category>
<link>http://karlarao.tiddlyspot.com#%5B%5BSQL%20books%2C%20articles%5D%5D</link>
<pubDate>Wed, 26 Jul 2017 18:41:00 GMT</pubDate>

</item>
<item>
<title>empty log file /dev/null</title>
<description>&lt;a target=&quot;_blank&quot; title=&quot;External link to https://unix.stackexchange.com/questions/147044/cat-dev-null-emptied-my-log-file-but-size-did-not-change&quot; href=&quot;https://unix.stackexchange.com/questions/147044/cat-dev-null-emptied-my-log-file-but-size-did-not-change&quot; class=&quot;externalLink&quot;&gt;https://unix.stackexchange.com/questions/147044/cat-dev-null-emptied-my-log-file-but-size-did-not-change&lt;/a&gt;&lt;br&gt;&lt;br&gt;&lt;strong&gt;this simple&lt;/strong&gt;&lt;br&gt;&lt;pre&gt;&amp;gt; file  
&lt;/pre&gt;</description>
<category>BashShell</category>
<link>http://karlarao.tiddlyspot.com#%5B%5Bempty%20log%20file%20%2Fdev%2Fnull%5D%5D</link>
<pubDate>Wed, 26 Jul 2017 18:25:00 GMT</pubDate>

</item>
<item>
<title>Disable Auto Stats Job</title>
<description>How to Disable Automatic Statistics Collection in 11g [ID 1056968.1]&lt;br&gt;&lt;a target=&quot;_blank&quot; title=&quot;External link to http://www.oracle-base.com/articles/11g/AutomatedDatabaseMaintenanceTaskManagement_11gR1.php&quot; href=&quot;http://www.oracle-base.com/articles/11g/AutomatedDatabaseMaintenanceTaskManagement_11gR1.php&quot; class=&quot;externalLink&quot;&gt;http://www.oracle-base.com/articles/11g/AutomatedDatabaseMaintenanceTaskManagement_11gR1.php&lt;/a&gt;&lt;br&gt;&lt;a target=&quot;_blank&quot; title=&quot;External link to http://docs.oracle.com/cd/B19306_01/appdev.102/b14258/d_job.htm#i1000521&quot; href=&quot;http://docs.oracle.com/cd/B19306_01/appdev.102/b14258/d_job.htm#i1000521&quot; class=&quot;externalLink&quot;&gt;http://docs.oracle.com/cd/B19306_01/appdev.102/b14258/d_job.htm#i1000521&lt;/a&gt;&lt;br&gt;&lt;br&gt;&lt;strong&gt;to check&lt;/strong&gt; &lt;br&gt;&lt;pre&gt;SQL&amp;gt; col status format a20
SQL&amp;gt; r
  1* select client_name,status from Dba_Autotask_Client

CLIENT_NAME                                                      STATUS
---------------------------------------------------------------- --------------------
auto optimizer stats collection                                  ENABLED
auto space advisor                                               ENABLED
sql tuning advisor                                               ENABLED

&lt;/pre&gt;&lt;br&gt;&lt;strong&gt;&lt;span&gt;—&lt;/span&gt; disable a specific job or auto job&lt;/strong&gt;&lt;br&gt;&lt;pre&gt;EXEC DBMS_AUTO_TASK_ADMIN.DISABLE('auto optimizer stats collection', NULL, NULL);
exec dbms_scheduler.disable('gather_stats_job'); 
exec dbms_scheduler.disable( 'SYS.BSLN_MAINTAIN_STATS_JOB' );
EXEC DBMS_JOB.BROKEN(62,TRUE);
&lt;/pre&gt;&lt;br&gt;&lt;strong&gt;&lt;span&gt;—&lt;/span&gt; disable all maintenance jobs altogether&lt;/strong&gt;&lt;br&gt;&lt;pre&gt;EXEC DBMS_AUTO_TASK_ADMIN.disable;
EXEC DBMS_AUTO_TASK_ADMIN.enable;
&lt;/pre&gt;&lt;br&gt;&lt;strong&gt;&lt;span&gt;—&lt;/span&gt; to address the maintenance window on your newly created resource_plan&lt;/strong&gt;&lt;br&gt;&lt;ul&gt;&lt;li&gt; you can just do a single level plan.. then add the ORA$&lt;a tiddlylink=&quot;AUTOTASK_SUB_PLAN&quot; refresh=&quot;link&quot; target=&quot;_blank&quot; title=&quot;External link to http://karlarao.tiddlyspot.com#AUTOTASK_SUB_PLAN&quot; href=&quot;http://karlarao.tiddlyspot.com#AUTOTASK_SUB_PLAN&quot; class=&quot;externalLink null&quot;&gt;AUTOTASK_SUB_PLAN&lt;/a&gt; and ORA$DIAGNOSTICS consumer groups and edit the maintenance windows from &lt;a tiddlylink=&quot;DEFAULT_MAINTENANCE_PLAN&quot; refresh=&quot;link&quot; target=&quot;_blank&quot; title=&quot;External link to http://karlarao.tiddlyspot.com#DEFAULT_MAINTENANCE_PLAN&quot; href=&quot;http://karlarao.tiddlyspot.com#DEFAULT_MAINTENANCE_PLAN&quot; class=&quot;externalLink null&quot;&gt;DEFAULT_MAINTENANCE_PLAN&lt;/a&gt; to your newly created resource plan. by doing this each time the window is executed all the jobs will conform to the new resource plan and their allocations&lt;/li&gt;&lt;/ul&gt;&lt;br&gt;Enabling Oracle Database Resource Manager and Switching Plans &lt;a target=&quot;_blank&quot; title=&quot;External link to http://docs.oracle.com/cd/B28359_01/server.111/b28310/dbrm005.htm#ADMIN11890&quot; href=&quot;http://docs.oracle.com/cd/B28359_01/server.111/b28310/dbrm005.htm#ADMIN11890&quot; class=&quot;externalLink&quot;&gt;http://docs.oracle.com/cd/B28359_01/server.111/b28310/dbrm005.htm#ADMIN11890&lt;/a&gt;&lt;br&gt;&lt;pre&gt;ALTER SYSTEM SET RESOURCE_MANAGER_PLAN = 'FORCE:mydb_plan';
&lt;/pre&gt;Windows &lt;a target=&quot;_blank&quot; title=&quot;External link to http://docs.oracle.com/cd/B28359_01/server.111/b28310/schedover007.htm#i1106396&quot; href=&quot;http://docs.oracle.com/cd/B28359_01/server.111/b28310/schedover007.htm#i1106396&quot; class=&quot;externalLink&quot;&gt;http://docs.oracle.com/cd/B28359_01/server.111/b28310/schedover007.htm#i1106396&lt;/a&gt;&lt;br&gt;Configuring Resource Allocations for Automated Maintenance Tasks &lt;a target=&quot;_blank&quot; title=&quot;External link to http://docs.oracle.com/cd/B28359_01/server.111/b28310/tasks005.htm#BABHEFEH&quot; href=&quot;http://docs.oracle.com/cd/B28359_01/server.111/b28310/tasks005.htm#BABHEFEH&quot; class=&quot;externalLink&quot;&gt;http://docs.oracle.com/cd/B28359_01/server.111/b28310/tasks005.htm#BABHEFEH&lt;/a&gt;&lt;br&gt;Automated Database Maintenance Task Management &lt;a target=&quot;_blank&quot; title=&quot;External link to http://www.oracle-base.com/articles/11g/automated-database-maintenance-task-management-11gr1.php&quot; href=&quot;http://www.oracle-base.com/articles/11g/automated-database-maintenance-task-management-11gr1.php&quot; class=&quot;externalLink&quot;&gt;http://www.oracle-base.com/articles/11g/automated-database-maintenance-task-management-11gr1.php&lt;/a&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;</description>
<category>stats gathering</category>
<link>http://karlarao.tiddlyspot.com#%5B%5BDisable%20Auto%20Stats%20Job%5D%5D</link>
<pubDate>Wed, 26 Jul 2017 02:42:00 GMT</pubDate>

</item>
<item>
<title>Change Password</title>
<description>to get rid of &lt;a tiddlylink=&quot;ORA-28003&quot; refresh=&quot;link&quot; target=&quot;_blank&quot; title=&quot;External link to http://karlarao.tiddlyspot.com#ORA-28003&quot; href=&quot;http://karlarao.tiddlyspot.com#ORA-28003&quot; class=&quot;externalLink null&quot;&gt;ORA-28003&lt;/a&gt;: password verification for the specified password failed&lt;br&gt;&lt;pre&gt;ALTER PROFILE DEFAULT LIMIT PASSWORD_VERIFY_FUNCTION NULL;
alter profile DEFAULT limit PASSWORD_REUSE_MAX 6 PASSWORD_REUSE_TIME unlimited;
ALTER PROFILE DEFAULT LIMIT PASSWORD_LIFE_TIME UNLIMITED;
&lt;/pre&gt;&lt;br&gt;to change profile for a specific user&lt;br&gt;&lt;pre&gt;select username, account_status, PROFILE from dba_users;
ALTER PROFILE MONITORING_USER LIMIT PASSWORD_VERIFY_FUNCTION NULL;
alter profile MONITORING_USER limit PASSWORD_REUSE_MAX 6 PASSWORD_REUSE_TIME unlimited;
alter user HCMREADONLY identified by noentry;
ALTER PROFILE MONITORING_USER LIMIT PASSWORD_VERIFY_FUNCTION VERIFY_FUNCTION;
&lt;/pre&gt;&lt;br&gt;to get the old password and put it back after&lt;br&gt;&lt;pre&gt;create user TEST identified by TEST;
grant create session to TEST;
select username, password from dba_users where username = 'TEST';

 select username, password from dba_users where username = 'TEST';

USERNAME                       PASSWORD
------------------------------ ------------------------------
TEST                           7A0F2B316C212D67

alter user TEST identified by TEST2;

Alter user TEST identified by values 'OLD HASH VALUE ';
Alter user TEST identified by values '7A0F2B316C212D67';
&lt;/pre&gt;&lt;br&gt;&lt;br&gt;&lt;h1&gt; expired and locked&lt;/h1&gt;&lt;pre&gt;select username, account_status from dba_users;
select 'ALTER USER ' || username || ' ACCOUNT UNLOCK;' from dba_users where account_status like '%LOCKED%';

set heading off
set echo off
set long 9999999
select dbms_metadata.get_ddl('USER', username) || ';' usercreate
from dba_users where username = 'SYSMAN';

If you are, (if sec_case_sensitive_logon = TRUE), then you can do this:
select 'alter user '|| username '||' identified by values '||chr(39)||spare4||chr(39)||';' from dba_users where account_status like '%EXPIRED%';
If you're not using mixed case passwords (sec_case_sensitive_logon = FALSE), then do:
select 'alter user '||username '||' identified by value '||chr(39)||password||chr(39)||';' from dba_users where account_status like '%EXPIRED%';

select 'ALTER USER ' || username || ' identified by oracle1;' from dba_users where account_status like '%EXPIRED%';

http://laurentschneider.com/wordpress/2008/03/alter-user-identified-by-values-in-11g.html
http://coskan.wordpress.com/2009/03/11/alter-user-identified-by-values-on-11g-without-using-sysuser/

-- for sysman do this starting 10204
emctl setpasswd dbconsole
&lt;/pre&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;h1&gt; example&lt;/h1&gt;&lt;pre&gt;21:06:35 SYS@cdb1&amp;gt; SET LONG 999999
21:06:45 SYS@cdb1&amp;gt; select dbms_metadata.get_ddl('USER','ALLOC_APP_USER') from dual;
 
DBMS_METADATA.GET_DDL('USER','ALLOC_APP_USER')
--------------------------------------------------------------------------------
 
   CREATE USER &quot;ALLOC_APP_USER&quot; IDENTIFIED BY VALUES 'S:135E0A81F4B08AD2EE81B3A0
E4B28DB3A08983E40524264C4764EDCEE856;H:9BCF43B8002C09A03D7C5B0C80D35B86;T:42BE3A
2EC61307ED9FF704DF80951D76986F47D43EA835799836001399562899F95FB95B171C9D58A16E45
F7459ADEE74901C7B4A9A9AEFDD92FD03278F3038B0EE0A03F14A3C7520FABCC386FA6A72A;E0E79
5741BD02FB0'
      DEFAULT TABLESPACE &quot;USERS&quot;
      TEMPORARY TABLESPACE &quot;TEMP2&quot;
 
 
21:06:49 SYS@cdb1&amp;gt;
21:06:51 SYS@cdb1&amp;gt; conn system/xxx
Connected.
21:07:15 SYSTEM@cdb1&amp;gt;
21:07:16 SYSTEM@cdb1&amp;gt;
21:07:16 SYSTEM@cdb1&amp;gt; alter user alloc_app_user identified by karlarao;
 
User altered.
 
21:07:37 SYSTEM@cdb1&amp;gt; conn alloc_app_user/karlarao
Connected.
21:07:45 ALLOC_APP_USER@cdb1&amp;gt;
21:07:46 ALLOC_APP_USER@cdb1&amp;gt;
21:07:46 ALLOC_APP_USER@cdb1&amp;gt; conn system/xxx
Connected.
21:07:51 SYSTEM@cdb1&amp;gt;
21:07:51 SYSTEM@cdb1&amp;gt;
21:07:51 SYSTEM@cdb1&amp;gt; alter user alloc_app_user identified by values 'S:135E0A81F4B08AD2EE81B3A0E4B28DB3A08983E40524264C4764EDCEE856;H:9BCF43B8002C09A03D7C5B0C80D35B86;T:42BE3A2EC61307ED9FF704DF80951D76986F47D43EA835799836001399562899F95FB95B171C9D58A16E45F7459ADEE74901C7B4A9A9AEFDD92FD03278F3038B0EE0A03F14A3C7520FABCC386FA6A72A;E0E795741BD02FB0';
 
User altered.
 
21:08:46 SYSTEM@cdb1&amp;gt; conn alloc_app_user/karlarao
ERROR:
ORA-01017: invalid username/password; logon denied
 
 
Warning: You are no longer connected to ORACLE.
21:08:55 @&amp;gt;
21:08:56 @&amp;gt; conn alloc_app_user/testalloc
Connected.
21:09:07 ALLOC_APP_USER@cdb1&amp;gt;
&lt;/pre&gt;&lt;br&gt;&lt;br&gt;</description>
<category>Security</category>
<link>http://karlarao.tiddlyspot.com#%5B%5BChange%20Password%5D%5D</link>
<pubDate>Tue, 25 Jul 2017 21:18:00 GMT</pubDate>

</item>
<item>
<title>..row lock mode</title>
<description>&lt;a target=&quot;_blank&quot; title=&quot;External link to https://blog.dbi-services.com/oracle-locks-identifiying-blocking-sessions/&quot; href=&quot;https://blog.dbi-services.com/oracle-locks-identifiying-blocking-sessions/&quot; class=&quot;externalLink&quot;&gt;https://blog.dbi-services.com/oracle-locks-identifiying-blocking-sessions/&lt;/a&gt;&lt;br&gt;&lt;br&gt;&lt;pre&gt;when w.wait_event_text like 'enq: TM%' then
    ' mode '||decode(w.p1 ,1414332418,'Row-S' ,1414332419,'Row-X' ,1414332420,'Share' ,1414332421,'Share RX' ,1414332422,'eXclusive')
     ||( select ' on '||object_type||' &quot;'||owner||'&quot;.&quot;'||object_name||'&quot; ' from all_objects where object_id=w.p2 )
&lt;/pre&gt;&lt;br&gt;&lt;br&gt;&lt;a target=&quot;_blank&quot; title=&quot;External link to https://jonathanlewis.wordpress.com/2010/06/21/locks/&quot; href=&quot;https://jonathanlewis.wordpress.com/2010/06/21/locks/&quot; class=&quot;externalLink&quot;&gt;https://jonathanlewis.wordpress.com/2010/06/21/locks/&lt;/a&gt;&lt;br&gt;&lt;pre&gt;This list is specifically about the lock modes for a TM lock:

Value   Name(s)                    Table method (TM lock)
    0   No lock                    n/a
 
    1   Null lock (NL)             Used during some parallel DML operations (e.g. update) by
                                   the pX slaves while the QC is holding an exclusive lock.
 
    2   Sub-share (SS)             Until 9.2.0.5/6 &quot;select for update&quot;
        Row-share (RS)             Since 9.2.0.1/2 used at opposite end of RI during DML until 11.1
                                   Lock table in row share mode
                                   Lock table in share update mode
 
    3   Sub-exclusive(SX)          Update (also &quot;select for update&quot; from 9.2.0.5/6)
        Row-exclusive(RX)          Lock table in row exclusive mode
                                   Since 11.1 used at opposite end of RI during DML
 
    4   Share (S)                  Lock table in share mode
                                   Can appear during parallel DML with id2 = 1, in the PX slave sessions
                                   Common symptom of &quot;foreign key locking&quot; (missing index) problem
                                   Note that bitmap indexes on the child DON'T address the locking problem
 
    5   share sub exclusive (SSX)  Lock table in share row exclusive mode
        share row exclusive (SRX)  Less common symptom of &quot;foreign key locking&quot; but likely to be more
                                   frequent if the FK constraint is defined with &quot;on delete cascade.&quot;
 
    6   Exclusive (X)              Lock table in exclusive mode
                                   create index    -- duration and timing depend on options used
                                   insert /*+ append */ 
&lt;/pre&gt;</description>
<category>row lock contention</category>
<link>http://karlarao.tiddlyspot.com#%5B%5B..row%20lock%20mode%5D%5D</link>
<pubDate>Mon, 24 Jul 2017 23:17:00 GMT</pubDate>

</item>
</channel>
</rss>