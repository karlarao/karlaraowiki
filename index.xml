<?xml version="1.0"?>
<rss version="2.0">
<channel>
<title>Karl Arao's TiddlyWiki</title>
<link>http://karlarao.tiddlyspot.com</link>
<description></description>
<language>en</language>
<copyright>Copyright 2019 YourName</copyright>
<pubDate>Fri, 18 Jan 2019 01:06:32 GMT</pubDate>
<lastBuildDate>Fri, 18 Jan 2019 01:06:32 GMT</lastBuildDate>
<docs>http://blogs.law.harvard.edu/tech/rss</docs>
<generator>TiddlyWiki 2.5.0</generator>
<item>
<title>aws s3</title>
<description>&lt;div class=&quot;dcTOC&quot;&gt;&lt;a class=&quot;toggleButton&quot; title=&quot;show/collapse table of contents&quot; href=&quot;javascript:;&quot;&gt;/* Table of Contents */&lt;/a&gt;&lt;div&gt;&lt;ul&gt;&lt;li&gt;&lt;span&gt;&lt;a href=&quot;javascript:;&quot; onclick=&quot;window.scrollToHeading('', ' create bucket ', event)&quot;&gt; create bucket &lt;/a&gt;&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;&lt;a href=&quot;javascript:;&quot; onclick=&quot;window.scrollToHeading('', ' ls using aws cli ', event)&quot;&gt; ls using aws cli &lt;/a&gt;&lt;/span&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;/div&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;h1&gt; create bucket &lt;div style=&quot;font-size: 0.5em; color: blue;&quot;&gt;&lt;a class=&quot;dcTOCTop&quot; title=&quot;Go to top of tiddler&quot; href=&quot;javascript:;&quot;&gt; [top]&lt;/a&gt;&lt;/div&gt;&lt;/h1&gt;&lt;img src=&quot;https://i.imgur.com/BZsr0LX.png&quot; title=&quot;SHIFT-CLICK=show full size, CTRL-CLICK=restore initial size&quot; style=&quot;width: 80%; height: 80%; cursor: move;&quot;&gt;&lt;br&gt;&lt;img src=&quot;https://i.imgur.com/SlqoWrm.png&quot; title=&quot;SHIFT-CLICK=show full size, CTRL-CLICK=restore initial size&quot; style=&quot;width: 80%; height: 80%; cursor: move;&quot;&gt;&lt;br&gt;&lt;img src=&quot;https://i.imgur.com/rh0ODkX.png&quot; title=&quot;SHIFT-CLICK=show full size, CTRL-CLICK=restore initial size&quot; style=&quot;width: 80%; height: 80%; cursor: move;&quot;&gt;&lt;br&gt;&lt;img src=&quot;https://i.imgur.com/3AmqR4l.png&quot; title=&quot;SHIFT-CLICK=show full size, CTRL-CLICK=restore initial size&quot; style=&quot;width: 80%; height: 80%; cursor: move;&quot;&gt;&lt;br&gt;&lt;img src=&quot;https://i.imgur.com/UZfsalO.png&quot; title=&quot;SHIFT-CLICK=show full size, CTRL-CLICK=restore initial size&quot; style=&quot;width: 80%; height: 80%; cursor: move;&quot;&gt;&lt;br&gt;&lt;img src=&quot;https://i.imgur.com/DEIL9RZ.png&quot; title=&quot;SHIFT-CLICK=show full size, CTRL-CLICK=restore initial size&quot; style=&quot;width: 80%; height: 80%; cursor: move;&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;h1&gt; ls using aws cli &lt;div style=&quot;font-size: 0.5em; color: blue;&quot;&gt;&lt;a class=&quot;dcTOCTop&quot; title=&quot;Go to top of tiddler&quot; href=&quot;javascript:;&quot;&gt; [top]&lt;/a&gt;&lt;/div&gt;&lt;/h1&gt;&lt;pre&gt;
$ /cygdrive/c/&quot;Program Files&quot;/Amazon/AWSCLI/bin/aws.cmd s3 ls
2019-01-18 00:50:02 hadoopbucketdemo

$ /cygdrive/c/&quot;Program Files&quot;/Amazon/AWSCLI/bin/aws.cmd s3 ls hadoopbucketdemo

&lt;/pre&gt;&lt;br&gt;&lt;br&gt;</description>
<category>aws storage</category>
<link>http://karlarao.tiddlyspot.com#%5B%5Baws%20s3%5D%5D</link>
<pubDate>Fri, 18 Jan 2019 01:06:28 GMT</pubDate>

</item>
<item>
<title>aws storage</title>
<description></description>
<category>Amazon EC2, AWS</category>
<link>http://karlarao.tiddlyspot.com#%5B%5Baws%20storage%5D%5D</link>
<pubDate>Fri, 18 Jan 2019 01:04:45 GMT</pubDate>

</item>
<item>
<title>aws security</title>
<description>&lt;div class=&quot;dcTOC&quot;&gt;&lt;a class=&quot;toggleButton&quot; title=&quot;show/collapse table of contents&quot; href=&quot;javascript:;&quot;&gt;/* Table of Contents */&lt;/a&gt;&lt;div&gt;&lt;ul&gt;&lt;li&gt;&lt;span&gt;&lt;a href=&quot;javascript:;&quot; onclick=&quot;window.scrollToHeading('', ' public/private key pair, pem file ', event)&quot;&gt; public/private key pair, pem file &lt;/a&gt;&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;&lt;a href=&quot;javascript:;&quot; onclick=&quot;window.scrollToHeading('', ' elastic ip', event)&quot;&gt; elastic ip&lt;/a&gt;&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;&lt;a href=&quot;javascript:;&quot; onclick=&quot;window.scrollToHeading('', ' security group ', event)&quot;&gt; security group &lt;/a&gt;&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;&lt;a href=&quot;javascript:;&quot; onclick=&quot;window.scrollToHeading('', ' bastion server (similar to edge node/gateway node)', event)&quot;&gt; bastion server (similar to edge node/gateway node)&lt;/a&gt;&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;&lt;a href=&quot;javascript:;&quot; onclick=&quot;window.scrollToHeading('', ' Using Access Keys (AWSAccessKeyId, SecretKey)', event)&quot;&gt; Using Access Keys (AWSAccessKeyId, SecretKey)&lt;/a&gt;&lt;/span&gt;&lt;ul&gt;&lt;li&gt;&lt;span&gt;&lt;a href=&quot;javascript:;&quot; onclick=&quot;window.scrollToHeading('', ' AWS CLI', event)&quot;&gt; AWS CLI&lt;/a&gt;&lt;/span&gt;&lt;ul&gt;&lt;li&gt;&lt;span&gt;&lt;a href=&quot;javascript:;&quot; onclick=&quot;window.scrollToHeading('', ' download AWS CLI ', event)&quot;&gt; download AWS CLI &lt;/a&gt;&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;&lt;a href=&quot;javascript:;&quot; onclick=&quot;window.scrollToHeading('', ' configure AWS CLI', event)&quot;&gt; configure AWS CLI&lt;/a&gt;&lt;/span&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;&lt;a href=&quot;javascript:;&quot; onclick=&quot;window.scrollToHeading('', ' IAM ', event)&quot;&gt; IAM &lt;/a&gt;&lt;/span&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;/div&gt;&lt;br&gt;&lt;br&gt;&lt;h1&gt; public/private key pair, pem file &lt;div style=&quot;font-size: 0.5em; color: blue;&quot;&gt;&lt;a class=&quot;dcTOCTop&quot; title=&quot;Go to top of tiddler&quot; href=&quot;javascript:;&quot;&gt; [top]&lt;/a&gt;&lt;/div&gt;&lt;/h1&gt;&lt;br&gt;&lt;h1&gt; elastic ip&lt;div style=&quot;font-size: 0.5em; color: blue;&quot;&gt;&lt;a class=&quot;dcTOCTop&quot; title=&quot;Go to top of tiddler&quot; href=&quot;javascript:;&quot;&gt; [top]&lt;/a&gt;&lt;/div&gt;&lt;/h1&gt;&lt;ul&gt;&lt;li&gt; not charged when you are using it &lt;/li&gt;&lt;/ul&gt;&lt;br&gt;&lt;h1&gt; security group &lt;div style=&quot;font-size: 0.5em; color: blue;&quot;&gt;&lt;a class=&quot;dcTOCTop&quot; title=&quot;Go to top of tiddler&quot; href=&quot;javascript:;&quot;&gt; [top]&lt;/a&gt;&lt;/div&gt;&lt;/h1&gt;&lt;ul&gt;&lt;li&gt; takes effect immediately &lt;/li&gt;&lt;/ul&gt;&lt;br&gt;&lt;h1&gt; bastion server (similar to edge node/gateway node)&lt;div style=&quot;font-size: 0.5em; color: blue;&quot;&gt;&lt;a class=&quot;dcTOCTop&quot; title=&quot;Go to top of tiddler&quot; href=&quot;javascript:;&quot;&gt; [top]&lt;/a&gt;&lt;/div&gt;&lt;/h1&gt;&lt;ul&gt;&lt;li&gt; 1 server out of 10 could be the bastion node &lt;/li&gt;&lt;/ul&gt;&lt;br&gt;&lt;br&gt;&lt;h1&gt; Using Access Keys (&lt;a tiddlylink=&quot;AWSAccessKeyId&quot; refresh=&quot;link&quot; target=&quot;_blank&quot; title=&quot;External link to http://karlarao.tiddlyspot.com#AWSAccessKeyId&quot; href=&quot;http://karlarao.tiddlyspot.com#AWSAccessKeyId&quot; class=&quot;externalLink null&quot;&gt;AWSAccessKeyId&lt;/a&gt;, &lt;a tiddlylink=&quot;SecretKey&quot; refresh=&quot;link&quot; target=&quot;_blank&quot; title=&quot;External link to http://karlarao.tiddlyspot.com#SecretKey&quot; href=&quot;http://karlarao.tiddlyspot.com#SecretKey&quot; class=&quot;externalLink null&quot;&gt;SecretKey&lt;/a&gt;)&lt;div style=&quot;font-size: 0.5em; color: blue;&quot;&gt;&lt;a class=&quot;dcTOCTop&quot; title=&quot;Go to top of tiddler&quot; href=&quot;javascript:;&quot;&gt; [top]&lt;/a&gt;&lt;/div&gt;&lt;/h1&gt;&lt;h2&gt; AWS CLI&lt;div style=&quot;font-size: 0.5em; color: blue;&quot;&gt;&lt;a class=&quot;dcTOCTop&quot; title=&quot;Go to top of tiddler&quot; href=&quot;javascript:;&quot;&gt; [top]&lt;/a&gt;&lt;/div&gt;&lt;/h2&gt;&lt;h3&gt; download AWS CLI &lt;div style=&quot;font-size: 0.5em; color: blue;&quot;&gt;&lt;a class=&quot;dcTOCTop&quot; title=&quot;Go to top of tiddler&quot; href=&quot;javascript:;&quot;&gt; [top]&lt;/a&gt;&lt;/div&gt;&lt;/h3&gt;&lt;h3&gt; configure AWS CLI&lt;div style=&quot;font-size: 0.5em; color: blue;&quot;&gt;&lt;a class=&quot;dcTOCTop&quot; title=&quot;Go to top of tiddler&quot; href=&quot;javascript:;&quot;&gt; [top]&lt;/a&gt;&lt;/div&gt;&lt;/h3&gt;&lt;pre&gt;karl@karl-remote ~/.aws
$ /cygdrive/c/&quot;Program Files&quot;/Amazon/AWSCLI/bin/aws.cmd --version
aws-cli/1.16.91 Python/3.6.0 Windows/7 botocore/1.12.81

$ cat rootkey.csv
AWSAccessKeyId=xxx
AWSSecretKey=xxx

$ /cygdrive/c/&quot;Program Files&quot;/Amazon/AWSCLI/bin/aws.cmd configure
AWS Access Key ID [None]: xxx
AWS Secret Access Key [None]: xxx
Default region name [None]: us-east-1
Default output format [None]:
&lt;/pre&gt;&lt;br&gt;&lt;br&gt;&lt;h1&gt; IAM &lt;div style=&quot;font-size: 0.5em; color: blue;&quot;&gt;&lt;a class=&quot;dcTOCTop&quot; title=&quot;Go to top of tiddler&quot; href=&quot;javascript:;&quot;&gt; [top]&lt;/a&gt;&lt;/div&gt;&lt;/h1&gt;&lt;ul&gt;&lt;li&gt; &lt;a target=&quot;_blank&quot; title=&quot;External link to https://docs.aws.amazon.com/IAM/latest/UserGuide/best-practices.html?icmpid=docs_iam_console&quot; href=&quot;https://docs.aws.amazon.com/IAM/latest/UserGuide/best-practices.html?icmpid=docs_iam_console&quot; class=&quot;externalLink&quot;&gt;https://docs.aws.amazon.com/IAM/latest/UserGuide/best-practices.html?icmpid=docs_iam_console&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;</description>
<category>Amazon EC2, AWS</category>
<link>http://karlarao.tiddlyspot.com#%5B%5Baws%20security%5D%5D</link>
<pubDate>Fri, 18 Jan 2019 00:43:41 GMT</pubDate>

</item>
<item>
<title>hdp on cloud install, ansible, terraform</title>
<description>&lt;div class=&quot;dcTOC&quot;&gt;&lt;a class=&quot;toggleButton&quot; title=&quot;show/collapse table of contents&quot; href=&quot;javascript:;&quot;&gt;/* Table of Contents */&lt;/a&gt;&lt;div&gt;&lt;ul&gt;&lt;li&gt;&lt;span&gt;&lt;a href=&quot;javascript:;&quot; onclick=&quot;window.scrollToHeading('', ' manual cloud ', event)&quot;&gt; manual cloud &lt;/a&gt;&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;&lt;a href=&quot;javascript:;&quot; onclick=&quot;window.scrollToHeading('', ' ansible, terraform ', event)&quot;&gt; ansible, terraform &lt;/a&gt;&lt;/span&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;/div&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;h1&gt; manual cloud &lt;div style=&quot;font-size: 0.5em; color: blue;&quot;&gt;&lt;a class=&quot;dcTOCTop&quot; title=&quot;Go to top of tiddler&quot; href=&quot;javascript:;&quot;&gt; [top]&lt;/a&gt;&lt;/div&gt;&lt;/h1&gt;&lt;br&gt;&lt;a target=&quot;_blank&quot; title=&quot;External link to https://www.youtube.com/results?search_query=install+hortonworks+digitalocean&quot; href=&quot;https://www.youtube.com/results?search_query=install+hortonworks+digitalocean&quot; class=&quot;externalLink&quot;&gt;https://www.youtube.com/results?search_query=install+hortonworks+digitalocean&lt;/a&gt;&lt;br&gt;&lt;br&gt;Hadoop Series - Part1 Multinode Hadoop Cluster Installation using Ambari &lt;a target=&quot;_blank&quot; title=&quot;External link to https://www.youtube.com/watch?v=wHaVBoLwzwU&quot; href=&quot;https://www.youtube.com/watch?v=wHaVBoLwzwU&quot; class=&quot;externalLink&quot;&gt;https://www.youtube.com/watch?v=wHaVBoLwzwU&lt;/a&gt;&lt;br&gt;Hadoop Series - Part2 How to Add Node To Existing Hadoop Cluster &lt;a target=&quot;_blank&quot; title=&quot;External link to https://www.youtube.com/watch?v=jiCI4yIkUlc&quot; href=&quot;https://www.youtube.com/watch?v=jiCI4yIkUlc&quot; class=&quot;externalLink&quot;&gt;https://www.youtube.com/watch?v=jiCI4yIkUlc&lt;/a&gt;&lt;br&gt;Hadoop Series - Part3 Adding a node to existing hadoop cluster &lt;a target=&quot;_blank&quot; title=&quot;External link to https://www.youtube.com/watch?v=kpZ8tzqzJmg&quot; href=&quot;https://www.youtube.com/watch?v=kpZ8tzqzJmg&quot; class=&quot;externalLink&quot;&gt;https://www.youtube.com/watch?v=kpZ8tzqzJmg&lt;/a&gt;&lt;br&gt;Hadoop Series - Part4 HDP upgrade &lt;a target=&quot;_blank&quot; title=&quot;External link to https://www.youtube.com/watch?v=GRgZurCvmMY&quot; href=&quot;https://www.youtube.com/watch?v=GRgZurCvmMY&quot; class=&quot;externalLink&quot;&gt;https://www.youtube.com/watch?v=GRgZurCvmMY&lt;/a&gt;&lt;br&gt;&lt;br&gt;Hadoop Multinode Cluster on AWS &lt;a tiddlylink=&quot;EC2&quot; refresh=&quot;link&quot; target=&quot;_blank&quot; title=&quot;External link to http://karlarao.tiddlyspot.com#EC2&quot; href=&quot;http://karlarao.tiddlyspot.com#EC2&quot; class=&quot;externalLink null&quot;&gt;EC2&lt;/a&gt; Ubuntu Instance &lt;a target=&quot;_blank&quot; title=&quot;External link to https://www.youtube.com/watch?v=l4xAmqzGJRU&quot; href=&quot;https://www.youtube.com/watch?v=l4xAmqzGJRU&quot; class=&quot;externalLink&quot;&gt;https://www.youtube.com/watch?v=l4xAmqzGJRU&lt;/a&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;h1&gt; ansible, terraform &lt;div style=&quot;font-size: 0.5em; color: blue;&quot;&gt;&lt;a class=&quot;dcTOCTop&quot; title=&quot;Go to top of tiddler&quot; href=&quot;javascript:;&quot;&gt; [top]&lt;/a&gt;&lt;/div&gt;&lt;/h1&gt;&lt;br&gt;&lt;a target=&quot;_blank&quot; title=&quot;External link to https://github.com/search?q=hadoop+aws+ansible&amp;amp;type=Repositories&quot; href=&quot;https://github.com/search?q=hadoop+aws+ansible&amp;amp;type=Repositories&quot; class=&quot;externalLink&quot;&gt;https://github.com/search?q=hadoop+aws+ansible&amp;amp;type=Repositories&lt;/a&gt;    &amp;lt;- examples here &lt;br&gt;AWS &lt;a tiddlylink=&quot;EC2&quot; refresh=&quot;link&quot; target=&quot;_blank&quot; title=&quot;External link to http://karlarao.tiddlyspot.com#EC2&quot; href=&quot;http://karlarao.tiddlyspot.com#EC2&quot; class=&quot;externalLink null&quot;&gt;EC2&lt;/a&gt; Provisioning using Ansible &lt;a target=&quot;_blank&quot; title=&quot;External link to https://www.youtube.com/watch?v=avbRuHhomso&quot; href=&quot;https://www.youtube.com/watch?v=avbRuHhomso&quot; class=&quot;externalLink&quot;&gt;https://www.youtube.com/watch?v=avbRuHhomso&lt;/a&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;</description>
<category>.hortonworks distribution</category>
<link>http://karlarao.tiddlyspot.com#%5B%5Bhdp%20on%20cloud%20install%2C%20ansible%2C%20terraform%5D%5D</link>
<pubDate>Fri, 18 Jan 2019 00:25:51 GMT</pubDate>

</item>
<item>
<title>miminize aws cost</title>
<description>&lt;div class=&quot;dcTOC&quot;&gt;&lt;a class=&quot;toggleButton&quot; title=&quot;show/collapse table of contents&quot; href=&quot;javascript:;&quot;&gt;/* Table of Contents */&lt;/a&gt;&lt;div&gt;&lt;ul&gt;&lt;li&gt;&lt;span&gt;&lt;a href=&quot;javascript:;&quot; onclick=&quot;window.scrollToHeading('', ' minimize cost ', event)&quot;&gt; minimize cost &lt;/a&gt;&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;&lt;a href=&quot;javascript:;&quot; onclick=&quot;window.scrollToHeading('', ' on cleaning up resources ', event)&quot;&gt; on cleaning up resources &lt;/a&gt;&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;&lt;a href=&quot;javascript:;&quot; onclick=&quot;window.scrollToHeading('', ' references ', event)&quot;&gt; references &lt;/a&gt;&lt;/span&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;/div&gt;&lt;br&gt;&lt;br&gt;&lt;h1&gt; minimize cost &lt;div style=&quot;font-size: 0.5em; color: blue;&quot;&gt;&lt;a class=&quot;dcTOCTop&quot; title=&quot;Go to top of tiddler&quot; href=&quot;javascript:;&quot;&gt; [top]&lt;/a&gt;&lt;/div&gt;&lt;/h1&gt;&lt;ul&gt;&lt;li&gt; storage should be deleted/terminated when not used&lt;/li&gt;&lt;li&gt; elastic ip should be deleted/terminated when not used &lt;/li&gt;&lt;li&gt; snapshots should be deleted/terminated &lt;/li&gt;&lt;/ul&gt;&lt;br&gt;&lt;h1&gt; on cleaning up resources &lt;div style=&quot;font-size: 0.5em; color: blue;&quot;&gt;&lt;a class=&quot;dcTOCTop&quot; title=&quot;Go to top of tiddler&quot; href=&quot;javascript:;&quot;&gt; [top]&lt;/a&gt;&lt;/div&gt;&lt;/h1&gt;&lt;ul&gt;&lt;li&gt; terminate instance &lt;/li&gt;&lt;li&gt; delete elastic ip&lt;/li&gt;&lt;li&gt; delete volume &lt;/li&gt;&lt;li&gt; delete security group &lt;/li&gt;&lt;li&gt; delete key pairs &lt;/li&gt;&lt;/ul&gt;&lt;br&gt;&lt;br&gt;&lt;h1&gt; references &lt;div style=&quot;font-size: 0.5em; color: blue;&quot;&gt;&lt;a class=&quot;dcTOCTop&quot; title=&quot;Go to top of tiddler&quot; href=&quot;javascript:;&quot;&gt; [top]&lt;/a&gt;&lt;/div&gt;&lt;/h1&gt;&lt;a target=&quot;_blank&quot; title=&quot;External link to http://aws-musings.com/7-easy-tips-to-reduce-your-amazon-ec2-cloud-costs/&quot; href=&quot;http://aws-musings.com/7-easy-tips-to-reduce-your-amazon-ec2-cloud-costs/&quot; class=&quot;externalLink&quot;&gt;http://aws-musings.com/7-easy-tips-to-reduce-your-amazon-ec2-cloud-costs/&lt;/a&gt;&lt;br&gt;&lt;a target=&quot;_blank&quot; title=&quot;External link to https://blog.cloudability.com/aws-data-transfer-costs-what-they-are-and-how-to-minimize-them/&quot; href=&quot;https://blog.cloudability.com/aws-data-transfer-costs-what-they-are-and-how-to-minimize-them/&quot; class=&quot;externalLink&quot;&gt;https://blog.cloudability.com/aws-data-transfer-costs-what-they-are-and-how-to-minimize-them/&lt;/a&gt;&lt;br&gt;&lt;a target=&quot;_blank&quot; title=&quot;External link to https://www.quora.com/How-do-I-reduce-my-AWS-EC2-Amazon-cloud-computing-bill&quot; href=&quot;https://www.quora.com/How-do-I-reduce-my-AWS-EC2-Amazon-cloud-computing-bill&quot; class=&quot;externalLink&quot;&gt;https://www.quora.com/How-do-I-reduce-my-AWS-EC2-Amazon-cloud-computing-bill&lt;/a&gt;&lt;br&gt;&lt;a target=&quot;_blank&quot; title=&quot;External link to https://www.cloudyn.com/blog/beginners-guide-7-ways-to-optimize-cloud-costs-with-aws/&quot; href=&quot;https://www.cloudyn.com/blog/beginners-guide-7-ways-to-optimize-cloud-costs-with-aws/&quot; class=&quot;externalLink&quot;&gt;https://www.cloudyn.com/blog/beginners-guide-7-ways-to-optimize-cloud-costs-with-aws/&lt;/a&gt;&lt;br&gt;</description>
<category>Amazon EC2, AWS</category>
<link>http://karlarao.tiddlyspot.com#%5B%5Bmiminize%20aws%20cost%5D%5D</link>
<pubDate>Thu, 17 Jan 2019 22:57:42 GMT</pubDate>

</item>
<item>
<title>aws elastic ip</title>
<description>&lt;br&gt;&lt;img src=&quot;https://i.imgur.com/o2RtG0v.png&quot; title=&quot;SHIFT-CLICK=show full size, CTRL-CLICK=restore initial size&quot; style=&quot;width: 50%; height: 50%; cursor: move;&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;h1&gt; initial &lt;/h1&gt;&lt;pre&gt;$ ssh -i &quot;centos7freetier.pem&quot; centos@ec2-3-86-102-235.compute-1.amazonaws.com
Last login: Thu Jan 17 21:13:21 2019 from cpe-69-200-224-180.nyc.res.rr.com
[centos@ip-172-31-91-114 ~]$
[centos@ip-172-31-91-114 ~]$
[centos@ip-172-31-91-114 ~]$
[centos@ip-172-31-91-114 ~]$ ifconfig
eth0: flags=4163&amp;lt;UP,BROADCAST,RUNNING,MULTICAST&amp;gt;  mtu 9001
        inet 172.31.91.114  netmask 255.255.240.0  broadcast 172.31.95.255
        inet6 fe80::10c3:38ff:feae:1ee0  prefixlen 64  scopeid 0x20&amp;lt;link&amp;gt;
        ether 12:c3:38:ae:1e:e0  txqueuelen 1000  (Ethernet)
        RX packets 225  bytes 26162 (25.5 KiB)
        RX errors 0  dropped 0  overruns 0  frame 0
        TX packets 271  bytes 27622 (26.9 KiB)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0

lo: flags=73&amp;lt;UP,LOOPBACK,RUNNING&amp;gt;  mtu 65536
        inet 127.0.0.1  netmask 255.0.0.0
        inet6 ::1  prefixlen 128  scopeid 0x10&amp;lt;host&amp;gt;
        loop  txqueuelen 1000  (Local Loopback)
        RX packets 6  bytes 416 (416.0 B)
        RX errors 0  dropped 0  overruns 0  frame 0
        TX packets 6  bytes 416 (416.0 B)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0

[centos@ip-172-31-91-114 ~]$
[centos@ip-172-31-91-114 ~]$ Connection to ec2-3-86-102-235.compute-1.amazonaws.com closed by remote host.
Connection to ec2-3-86-102-235.compute-1.amazonaws.com closed.
&lt;/pre&gt;&lt;br&gt;&lt;h1&gt; after stop and start &lt;/h1&gt;&lt;pre&gt;karl@karl-remote ~

# this doesn't work 
$ ssh -i &quot;centos7freetier.pem&quot; centos@ec2-3-86-102-235.compute-1.amazonaws.com


# need to get new IP
karl@karl-remote ~
$ ssh -i &quot;centos7freetier.pem&quot; centos@ec2-3-80-207-12.compute-1.amazonaws.com
Last login: Thu Jan 17 21:42:14 2019 from cpe-69-200-224-180.nyc.res.rr.com
[centos@ip-172-31-91-114 ~]$
[centos@ip-172-31-91-114 ~]$
[centos@ip-172-31-91-114 ~]$ ls
[centos@ip-172-31-91-114 ~]$
[centos@ip-172-31-91-114 ~]$
[centos@ip-172-31-91-114 ~]$ ifconfig
eth0: flags=4163&amp;lt;UP,BROADCAST,RUNNING,MULTICAST&amp;gt;  mtu 9001
        inet 172.31.91.114  netmask 255.255.240.0  broadcast 172.31.95.255
        inet6 fe80::10c3:38ff:feae:1ee0  prefixlen 64  scopeid 0x20&amp;lt;link&amp;gt;
        ether 12:c3:38:ae:1e:e0  txqueuelen 1000  (Ethernet)
        RX packets 267  bytes 32476 (31.7 KiB)
        RX errors 0  dropped 0  overruns 0  frame 0
        TX packets 307  bytes 33773 (32.9 KiB)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0

lo: flags=73&amp;lt;UP,LOOPBACK,RUNNING&amp;gt;  mtu 65536
        inet 127.0.0.1  netmask 255.0.0.0
        inet6 ::1  prefixlen 128  scopeid 0x10&amp;lt;host&amp;gt;
        loop  txqueuelen 1000  (Local Loopback)
        RX packets 6  bytes 416 (416.0 B)
        RX errors 0  dropped 0  overruns 0  frame 0
        TX packets 6  bytes 416 (416.0 B)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0

&lt;/pre&gt;&lt;br&gt;&lt;h1&gt; To fix this, go to &quot;Network and Security&quot; -&amp;gt; &quot;Elastic &lt;a tiddlylink=&quot;IPs&quot; refresh=&quot;link&quot; target=&quot;_blank&quot; title=&quot;External link to http://karlarao.tiddlyspot.com#IPs&quot; href=&quot;http://karlarao.tiddlyspot.com#IPs&quot; class=&quot;externalLink null&quot;&gt;IPs&lt;/a&gt;&quot; and associate the EIP to Instance ID&lt;/h1&gt;&lt;br&gt;</description>
<category>Amazon EC2, AWS</category>
<link>http://karlarao.tiddlyspot.com#%5B%5Baws%20elastic%20ip%5D%5D</link>
<pubDate>Thu, 17 Jan 2019 22:25:01 GMT</pubDate>

</item>
<item>
<title>aws centos</title>
<description>&lt;br&gt;&lt;a target=&quot;_blank&quot; title=&quot;External link to https://wiki.centos.org/Cloud/AWS&quot; href=&quot;https://wiki.centos.org/Cloud/AWS&quot; class=&quot;externalLink&quot;&gt;https://wiki.centos.org/Cloud/AWS&lt;/a&gt;&lt;br&gt;&lt;a target=&quot;_blank&quot; title=&quot;External link to https://wiki.centos.org/Cloud/AWS/AmazonCLI&quot; href=&quot;https://wiki.centos.org/Cloud/AWS/AmazonCLI&quot; class=&quot;externalLink&quot;&gt;https://wiki.centos.org/Cloud/AWS/AmazonCLI&lt;/a&gt;</description>
<category>Amazon EC2, AWS</category>
<link>http://karlarao.tiddlyspot.com#%5B%5Baws%20centos%5D%5D</link>
<pubDate>Thu, 17 Jan 2019 22:13:45 GMT</pubDate>

</item>
<item>
<title>aws billing</title>
<description>&lt;br&gt;&lt;a target=&quot;_blank&quot; title=&quot;External link to https://console.aws.amazon.com/billing/home?#/&quot; href=&quot;https://console.aws.amazon.com/billing/home?#/&quot; class=&quot;externalLink&quot;&gt;https://console.aws.amazon.com/billing/home?#/&lt;/a&gt;&lt;br&gt;&lt;a target=&quot;_blank&quot; title=&quot;External link to https://docs.aws.amazon.com/awsaccountbilling/latest/aboutv2/tracking-free-tier-usage.html&quot; href=&quot;https://docs.aws.amazon.com/awsaccountbilling/latest/aboutv2/tracking-free-tier-usage.html&quot; class=&quot;externalLink&quot;&gt;https://docs.aws.amazon.com/awsaccountbilling/latest/aboutv2/tracking-free-tier-usage.html&lt;/a&gt;</description>
<category>Amazon EC2, AWS</category>
<link>http://karlarao.tiddlyspot.com#%5B%5Baws%20billing%5D%5D</link>
<pubDate>Thu, 17 Jan 2019 22:13:11 GMT</pubDate>

</item>
<item>
<title>..ML practice</title>
<description>&lt;div class=&quot;dcTOC&quot;&gt;&lt;a class=&quot;toggleButton&quot; title=&quot;show/collapse table of contents&quot; href=&quot;javascript:;&quot;&gt;/* Table of Contents */&lt;/a&gt;&lt;div&gt;&lt;ul&gt;&lt;li&gt;&lt;span&gt;&lt;a href=&quot;javascript:;&quot; onclick=&quot;window.scrollToHeading('', ' practice courses and resources ', event)&quot;&gt; practice courses and resources &lt;/a&gt;&lt;/span&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;/div&gt;&lt;br&gt;&lt;br&gt;&lt;h1&gt; practice courses and resources &lt;div style=&quot;font-size: 0.5em; color: blue;&quot;&gt;&lt;a class=&quot;dcTOCTop&quot; title=&quot;Go to top of tiddler&quot; href=&quot;javascript:;&quot;&gt; [top]&lt;/a&gt;&lt;/div&gt;&lt;/h1&gt;&lt;blockquote&gt;&lt;br&gt;&lt;a target=&quot;_blank&quot; title=&quot;External link to https://www.udemy.com/aws-emr-and-spark-2-using-scala/learn/v4/t/lecture/9366830?start=0&quot; href=&quot;https://www.udemy.com/aws-emr-and-spark-2-using-scala/learn/v4/t/lecture/9366830?start=0&quot; class=&quot;externalLink&quot;&gt;https://www.udemy.com/aws-emr-and-spark-2-using-scala/learn/v4/t/lecture/9366830?start=0&lt;/a&gt;&lt;br&gt;&lt;a target=&quot;_blank&quot; title=&quot;External link to https://www.udemy.com/python-and-spark-setup-development-environment/&quot; href=&quot;https://www.udemy.com/python-and-spark-setup-development-environment/&quot; class=&quot;externalLink&quot;&gt;https://www.udemy.com/python-and-spark-setup-development-environment/&lt;/a&gt;&lt;br&gt;&lt;a target=&quot;_blank&quot; title=&quot;External link to https://www.udemy.com/linux-fundamentals-for-it-professionals/learn/v4/overview&quot; href=&quot;https://www.udemy.com/linux-fundamentals-for-it-professionals/learn/v4/overview&quot; class=&quot;externalLink&quot;&gt;https://www.udemy.com/linux-fundamentals-for-it-professionals/learn/v4/overview&lt;/a&gt;&lt;br&gt;&lt;a target=&quot;_blank&quot; title=&quot;External link to https://www.udemy.com/fundamentals-of-programming-using-python-3/learn/v4/overview&quot; href=&quot;https://www.udemy.com/fundamentals-of-programming-using-python-3/learn/v4/overview&quot; class=&quot;externalLink&quot;&gt;https://www.udemy.com/fundamentals-of-programming-using-python-3/learn/v4/overview&lt;/a&gt;&lt;br&gt;&lt;a target=&quot;_blank&quot; title=&quot;External link to https://www.udemy.com/python-for-data-science-and-machine-learning-bootcamp/learn/v4/t/lecture/5774370?start=0&quot; href=&quot;https://www.udemy.com/python-for-data-science-and-machine-learning-bootcamp/learn/v4/t/lecture/5774370?start=0&quot; class=&quot;externalLink&quot;&gt;https://www.udemy.com/python-for-data-science-and-machine-learning-bootcamp/learn/v4/t/lecture/5774370?start=0&lt;/a&gt;&lt;br&gt;&lt;a target=&quot;_blank&quot; title=&quot;External link to https://www.udemy.com/data-science-and-machine-learning-bootcamp-with-r/learn/v4/content&quot; href=&quot;https://www.udemy.com/data-science-and-machine-learning-bootcamp-with-r/learn/v4/content&quot; class=&quot;externalLink&quot;&gt;https://www.udemy.com/data-science-and-machine-learning-bootcamp-with-r/learn/v4/content&lt;/a&gt;&lt;br&gt;&lt;a target=&quot;_blank&quot; title=&quot;External link to https://www.udemy.com/machinelearning/learn/v4/t/lecture/5935024?start=0&quot; href=&quot;https://www.udemy.com/machinelearning/learn/v4/t/lecture/5935024?start=0&quot; class=&quot;externalLink&quot;&gt;https://www.udemy.com/machinelearning/learn/v4/t/lecture/5935024?start=0&lt;/a&gt;&lt;br&gt;&lt;a target=&quot;_blank&quot; title=&quot;External link to https://www.udemy.com/data-science-and-machine-learning-with-python-hands-on/learn/v4/t/lecture/4020676?start=0&quot; href=&quot;https://www.udemy.com/data-science-and-machine-learning-with-python-hands-on/learn/v4/t/lecture/4020676?start=0&quot; class=&quot;externalLink&quot;&gt;https://www.udemy.com/data-science-and-machine-learning-with-python-hands-on/learn/v4/t/lecture/4020676?start=0&lt;/a&gt;&lt;br&gt;Installing &lt;a tiddlylink=&quot;TensorFlow&quot; refresh=&quot;link&quot; target=&quot;_blank&quot; title=&quot;External link to http://karlarao.tiddlyspot.com#TensorFlow&quot; href=&quot;http://karlarao.tiddlyspot.com#TensorFlow&quot; class=&quot;externalLink null&quot;&gt;TensorFlow&lt;/a&gt; and &lt;a tiddlylink=&quot;H2O&quot; refresh=&quot;link&quot; target=&quot;_blank&quot; title=&quot;External link to http://karlarao.tiddlyspot.com#H2O&quot; href=&quot;http://karlarao.tiddlyspot.com#H2O&quot; class=&quot;externalLink null&quot;&gt;H2O&lt;/a&gt; in R &lt;a target=&quot;_blank&quot; title=&quot;External link to https://learning.oreilly.com/learning-paths/learning-path-r/9781789340839/9781788838771-video1_4&quot; href=&quot;https://learning.oreilly.com/learning-paths/learning-path-r/9781789340839/9781788838771-video1_4&quot; class=&quot;externalLink&quot;&gt;https://learning.oreilly.com/learning-paths/learning-path-r/9781789340839/9781788838771-video1_4&lt;/a&gt;&lt;br&gt;Using the &lt;a tiddlylink=&quot;H2O&quot; refresh=&quot;link&quot; target=&quot;_blank&quot; title=&quot;External link to http://karlarao.tiddlyspot.com#H2O&quot; href=&quot;http://karlarao.tiddlyspot.com#H2O&quot; class=&quot;externalLink null&quot;&gt;H2O&lt;/a&gt; Deep Learning Framework &lt;a target=&quot;_blank&quot; title=&quot;External link to https://learning.oreilly.com/videos/learning-path-r/9781788298742/9781788298742-video1_29&quot; href=&quot;https://learning.oreilly.com/videos/learning-path-r/9781788298742/9781788298742-video1_29&quot; class=&quot;externalLink&quot;&gt;https://learning.oreilly.com/videos/learning-path-r/9781788298742/9781788298742-video1_29&lt;/a&gt;&lt;br&gt;Interpretable AI - Not just for regulators - Patrick Hall (&lt;a tiddlylink=&quot;H2O&quot; refresh=&quot;link&quot; target=&quot;_blank&quot; title=&quot;External link to http://karlarao.tiddlyspot.com#H2O&quot; href=&quot;http://karlarao.tiddlyspot.com#H2O&quot; class=&quot;externalLink null&quot;&gt;H2O&lt;/a&gt;.ai | George Washington University), Sri Satish (&lt;a tiddlylink=&quot;H2O&quot; refresh=&quot;link&quot; target=&quot;_blank&quot; title=&quot;External link to http://karlarao.tiddlyspot.com#H2O&quot; href=&quot;http://karlarao.tiddlyspot.com#H2O&quot; class=&quot;externalLink null&quot;&gt;H2O&lt;/a&gt;.ai) h2o.ai &lt;a target=&quot;_blank&quot; title=&quot;External link to https://learning.oreilly.com/videos/strata-data-conference/9781491976326/9781491976326-video316338&quot; href=&quot;https://learning.oreilly.com/videos/strata-data-conference/9781491976326/9781491976326-video316338&quot; class=&quot;externalLink&quot;&gt;https://learning.oreilly.com/videos/strata-data-conference/9781491976326/9781491976326-video316338&lt;/a&gt;&lt;br&gt;&lt;a target=&quot;_blank&quot; title=&quot;External link to https://weidongzhou.wordpress.com/tag/big-data/&quot; href=&quot;https://weidongzhou.wordpress.com/tag/big-data/&quot; class=&quot;externalLink&quot;&gt;https://weidongzhou.wordpress.com/tag/big-data/&lt;/a&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;Practical Machine Learning with &lt;a tiddlylink=&quot;H2O&quot; refresh=&quot;link&quot; target=&quot;_blank&quot; title=&quot;External link to http://karlarao.tiddlyspot.com#H2O&quot; href=&quot;http://karlarao.tiddlyspot.com#H2O&quot; class=&quot;externalLink null&quot;&gt;H2O&lt;/a&gt; &lt;a target=&quot;_blank&quot; title=&quot;External link to https://learning.oreilly.com/library/view/practical-machine-learning/9781491964590/&quot; href=&quot;https://learning.oreilly.com/library/view/practical-machine-learning/9781491964590/&quot; class=&quot;externalLink&quot;&gt;https://learning.oreilly.com/library/view/practical-machine-learning/9781491964590/&lt;/a&gt;&lt;br&gt;&lt;a target=&quot;_blank&quot; title=&quot;External link to https://www.udemy.com/complete-deep-learning-in-r-with-keras-others/&quot; href=&quot;https://www.udemy.com/complete-deep-learning-in-r-with-keras-others/&quot; class=&quot;externalLink&quot;&gt;https://www.udemy.com/complete-deep-learning-in-r-with-keras-others/&lt;/a&gt;&lt;br&gt;&lt;br&gt;&lt;/blockquote&gt;</description>
<category>Machine Learning</category>
<link>http://karlarao.tiddlyspot.com#%5B%5B..ML%20practice%5D%5D</link>
<pubDate>Thu, 17 Jan 2019 20:31:00 GMT</pubDate>

</item>
<item>
<title>h2o.ai</title>
<description>&lt;div class=&quot;dcTOC&quot;&gt;&lt;a class=&quot;toggleButton&quot; title=&quot;show/collapse table of contents&quot; href=&quot;javascript:;&quot;&gt;/* Table of Contents */&lt;/a&gt;&lt;div&gt;&lt;ul&gt;&lt;li&gt;&lt;span&gt;&lt;a href=&quot;javascript:;&quot; onclick=&quot;window.scrollToHeading('', ' introduction ', event)&quot;&gt; introduction &lt;/a&gt;&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;&lt;a href=&quot;javascript:;&quot; onclick=&quot;window.scrollToHeading('', ' installation ', event)&quot;&gt; installation &lt;/a&gt;&lt;/span&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;/div&gt;&lt;br&gt;&lt;br&gt;&lt;h1&gt; introduction &lt;div style=&quot;font-size: 0.5em; color: blue;&quot;&gt;&lt;a class=&quot;dcTOCTop&quot; title=&quot;Go to top of tiddler&quot; href=&quot;javascript:;&quot;&gt; [top]&lt;/a&gt;&lt;/div&gt;&lt;/h1&gt;&lt;blockquote&gt;Interpretable AI: Not just for regulators - Patrick Hall (&lt;a tiddlylink=&quot;H2O&quot; refresh=&quot;link&quot; target=&quot;_blank&quot; title=&quot;External link to http://karlarao.tiddlyspot.com#H2O&quot; href=&quot;http://karlarao.tiddlyspot.com#H2O&quot; class=&quot;externalLink null&quot;&gt;H2O&lt;/a&gt;.ai | George Washington University), Sri Satish (&lt;a tiddlylink=&quot;H2O&quot; refresh=&quot;link&quot; target=&quot;_blank&quot; title=&quot;External link to http://karlarao.tiddlyspot.com#H2O&quot; href=&quot;http://karlarao.tiddlyspot.com#H2O&quot; class=&quot;externalLink null&quot;&gt;H2O&lt;/a&gt;.ai) &lt;a target=&quot;_blank&quot; title=&quot;External link to https://learning.oreilly.com/videos/strata-data-conference/9781491976326/9781491976326-video316338&quot; href=&quot;https://learning.oreilly.com/videos/strata-data-conference/9781491976326/9781491976326-video316338&quot; class=&quot;externalLink&quot;&gt;https://learning.oreilly.com/videos/strata-data-conference/9781491976326/9781491976326-video316338&lt;/a&gt;&lt;br&gt;&lt;/blockquote&gt;&lt;br&gt;&lt;br&gt;&lt;h1&gt; installation &lt;div style=&quot;font-size: 0.5em; color: blue;&quot;&gt;&lt;a class=&quot;dcTOCTop&quot; title=&quot;Go to top of tiddler&quot; href=&quot;javascript:;&quot;&gt; [top]&lt;/a&gt;&lt;/div&gt;&lt;/h1&gt;&lt;br&gt;&lt;a target=&quot;_blank&quot; title=&quot;External link to https://www.h2o.ai/blog/hackathon-finalist-with-h2o-guest-post/&quot; href=&quot;https://www.h2o.ai/blog/hackathon-finalist-with-h2o-guest-post/&quot; class=&quot;externalLink&quot;&gt;https://www.h2o.ai/blog/hackathon-finalist-with-h2o-guest-post/&lt;/a&gt;&lt;br&gt;&lt;a target=&quot;_blank&quot; title=&quot;External link to http://anotherhunch.blogspot.com/2015/09/how-i-used-h2o-to-crunch-through-banks.html&quot; href=&quot;http://anotherhunch.blogspot.com/2015/09/how-i-used-h2o-to-crunch-through-banks.html&quot; class=&quot;externalLink&quot;&gt;http://anotherhunch.blogspot.com/2015/09/how-i-used-h2o-to-crunch-through-banks.html&lt;/a&gt;&lt;br&gt;Installing Driverless AI on RHEL with Nvidia GPU &lt;a target=&quot;_blank&quot; title=&quot;External link to https://www.youtube.com/watch?v=xXzKdua7js8&amp;amp;list=PLNtMya54qvOE9fs3ylzaR_McnoUsuMV7X&quot; href=&quot;https://www.youtube.com/watch?v=xXzKdua7js8&amp;amp;list=PLNtMya54qvOE9fs3ylzaR_McnoUsuMV7X&quot; class=&quot;externalLink&quot;&gt;https://www.youtube.com/watch?v=xXzKdua7js8&amp;amp;list=PLNtMya54qvOE9fs3ylzaR_McnoUsuMV7X&lt;/a&gt;&lt;br&gt;Launching an experiment in Driverless AI &lt;a target=&quot;_blank&quot; title=&quot;External link to https://www.youtube.com/watch?v=bw6CbZu0dKk&amp;amp;list=PLNtMya54qvOE1HZFCWx3zmYVLw8o3qD06&quot; href=&quot;https://www.youtube.com/watch?v=bw6CbZu0dKk&amp;amp;list=PLNtMya54qvOE1HZFCWx3zmYVLw8o3qD06&quot; class=&quot;externalLink&quot;&gt;https://www.youtube.com/watch?v=bw6CbZu0dKk&amp;amp;list=PLNtMya54qvOE1HZFCWx3zmYVLw8o3qD06&lt;/a&gt;&lt;br&gt;&lt;br&gt;</description>
<category>.ML products</category>
<link>http://karlarao.tiddlyspot.com#h2o.ai</link>
<pubDate>Thu, 17 Jan 2019 20:29:00 GMT</pubDate>

</item>
<item>
<title>.ML products</title>
<description>&lt;div class=&quot;dcTOC&quot;&gt;&lt;a class=&quot;toggleButton&quot; title=&quot;show/collapse table of contents&quot; href=&quot;javascript:;&quot;&gt;/* Table of Contents */&lt;/a&gt;&lt;div&gt;&lt;ul&gt;&lt;li&gt;&lt;span&gt;&lt;a href=&quot;javascript:;&quot; onclick=&quot;window.scrollToHeading('', ' h2o ', event)&quot;&gt; h2o &lt;/a&gt;&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;&lt;a href=&quot;javascript:;&quot; onclick=&quot;window.scrollToHeading('', ' metaverse ', event)&quot;&gt; metaverse &lt;/a&gt;&lt;/span&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;/div&gt;&lt;br&gt;&lt;br&gt;&lt;h1&gt; h2o &lt;div style=&quot;font-size: 0.5em; color: blue;&quot;&gt;&lt;a class=&quot;dcTOCTop&quot; title=&quot;Go to top of tiddler&quot; href=&quot;javascript:;&quot;&gt; [top]&lt;/a&gt;&lt;/div&gt;&lt;/h1&gt;&lt;a target=&quot;_blank&quot; title=&quot;External link to https://www.h2o.ai/products/h2o-driverless-ai/&quot; href=&quot;https://www.h2o.ai/products/h2o-driverless-ai/&quot; class=&quot;externalLink&quot;&gt;https://www.h2o.ai/products/h2o-driverless-ai/&lt;/a&gt;&lt;br&gt;&lt;br&gt;&lt;h1&gt; metaverse &lt;div style=&quot;font-size: 0.5em; color: blue;&quot;&gt;&lt;a class=&quot;dcTOCTop&quot; title=&quot;Go to top of tiddler&quot; href=&quot;javascript:;&quot;&gt; [top]&lt;/a&gt;&lt;/div&gt;&lt;/h1&gt;&lt;a target=&quot;_blank&quot; title=&quot;External link to http://www.matelabs.in/#home&quot; href=&quot;http://www.matelabs.in/#home&quot; class=&quot;externalLink&quot;&gt;http://www.matelabs.in/#home&lt;/a&gt;&lt;br&gt;&lt;a target=&quot;_blank&quot; title=&quot;External link to http://docs.mateverse.com/user-guide/getting-started/&quot; href=&quot;http://docs.mateverse.com/user-guide/getting-started/&quot; class=&quot;externalLink&quot;&gt;http://docs.mateverse.com/user-guide/getting-started/&lt;/a&gt;</description>
<category>Machine Learning</category>
<link>http://karlarao.tiddlyspot.com#%5B%5B.ML%20products%5D%5D</link>
<pubDate>Thu, 17 Jan 2019 18:49:00 GMT</pubDate>

</item>
<item>
<title>OVH dedicated servers</title>
<description>&lt;a target=&quot;_blank&quot; title=&quot;External link to https://www.ovh.com/world/dedicated-servers/all_servers.xml&quot; href=&quot;https://www.ovh.com/world/dedicated-servers/all_servers.xml&quot; class=&quot;externalLink&quot;&gt;https://www.ovh.com/world/dedicated-servers/all_servers.xml&lt;/a&gt;</description>
<category>1 CodeNinja Hosting , cloud computing</category>
<link>http://karlarao.tiddlyspot.com#%5B%5BOVH%20dedicated%20servers%5D%5D</link>
<pubDate>Thu, 17 Jan 2019 17:22:00 GMT</pubDate>

</item>
<item>
<title>hdp setup edge node</title>
<description>hadoop admin: part 62 finalizing the addition of data node and edge node on HDP 2.5 &lt;a target=&quot;_blank&quot; title=&quot;External link to https://www.youtube.com/watch?v=xMWdO0sjZnA&quot; href=&quot;https://www.youtube.com/watch?v=xMWdO0sjZnA&quot; class=&quot;externalLink&quot;&gt;https://www.youtube.com/watch?v=xMWdO0sjZnA&lt;/a&gt;&lt;br&gt;hadoop admin: part 61 discussion of edge node and make the nodes ready for adding in HDP 2.5 &lt;a target=&quot;_blank&quot; title=&quot;External link to https://www.youtube.com/watch?v=yGlRuWbt9xE&amp;amp;t=7s&quot; href=&quot;https://www.youtube.com/watch?v=yGlRuWbt9xE&amp;amp;t=7s&quot; class=&quot;externalLink&quot;&gt;https://www.youtube.com/watch?v=yGlRuWbt9xE&amp;amp;t=7s&lt;/a&gt;&lt;br&gt;&lt;a target=&quot;_blank&quot; title=&quot;External link to https://community.hortonworks.com/questions/39568/how-to-create-edge-node-for-kerberized-cluster.html&quot; href=&quot;https://community.hortonworks.com/questions/39568/how-to-create-edge-node-for-kerberized-cluster.html&quot; class=&quot;externalLink&quot;&gt;https://community.hortonworks.com/questions/39568/how-to-create-edge-node-for-kerberized-cluster.html&lt;/a&gt;&lt;br&gt;&lt;a target=&quot;_blank&quot; title=&quot;External link to https://dwbi.org/etl/bigdata/187-set-up-client-node-gateway-node-in-hadoop-cluster&quot; href=&quot;https://dwbi.org/etl/bigdata/187-set-up-client-node-gateway-node-in-hadoop-cluster&quot; class=&quot;externalLink&quot;&gt;https://dwbi.org/etl/bigdata/187-set-up-client-node-gateway-node-in-hadoop-cluster&lt;/a&gt;&lt;br&gt;&lt;a target=&quot;_blank&quot; title=&quot;External link to https://www.dummies.com/programming/big-data/hadoop/edge-nodes-in-hadoop-clusters/&quot; href=&quot;https://www.dummies.com/programming/big-data/hadoop/edge-nodes-in-hadoop-clusters/&quot; class=&quot;externalLink&quot;&gt;https://www.dummies.com/programming/big-data/hadoop/edge-nodes-in-hadoop-clusters/&lt;/a&gt;&lt;br&gt;&lt;a target=&quot;_blank&quot; title=&quot;External link to https://community.hortonworks.com/questions/63949/do-we-need-to-install-hadoop-on-edge-node.html&quot; href=&quot;https://community.hortonworks.com/questions/63949/do-we-need-to-install-hadoop-on-edge-node.html&quot; class=&quot;externalLink&quot;&gt;https://community.hortonworks.com/questions/63949/do-we-need-to-install-hadoop-on-edge-node.html&lt;/a&gt;&lt;br&gt;&lt;br&gt;</description>
<category>.hortonworks distribution</category>
<link>http://karlarao.tiddlyspot.com#%5B%5Bhdp%20setup%20edge%20node%5D%5D</link>
<pubDate>Wed, 16 Jan 2019 01:50:00 GMT</pubDate>

</item>
<item>
<title>Oracle to PostgreSQL migration</title>
<description>&lt;a target=&quot;_blank&quot; title=&quot;External link to https://aws.amazon.com/blogs/database/how-to-solve-some-common-challenges-faced-while-migrating-from-oracle-to-postgresql/&quot; href=&quot;https://aws.amazon.com/blogs/database/how-to-solve-some-common-challenges-faced-while-migrating-from-oracle-to-postgresql/&quot; class=&quot;externalLink&quot;&gt;https://aws.amazon.com/blogs/database/how-to-solve-some-common-challenges-faced-while-migrating-from-oracle-to-postgresql/&lt;/a&gt;&lt;br&gt;&lt;a target=&quot;_blank&quot; title=&quot;External link to https://aws.amazon.com/blogs/database/how-to-migrate-your-oracle-database-to-postgresql/&quot; href=&quot;https://aws.amazon.com/blogs/database/how-to-migrate-your-oracle-database-to-postgresql/&quot; class=&quot;externalLink&quot;&gt;https://aws.amazon.com/blogs/database/how-to-migrate-your-oracle-database-to-postgresql/&lt;/a&gt;&lt;br&gt;Oracle Database 11g/12c To Amazon Aurora with &lt;a tiddlylink=&quot;PostgreSQL&quot; refresh=&quot;link&quot; target=&quot;_blank&quot; title=&quot;External link to http://karlarao.tiddlyspot.com#PostgreSQL&quot; href=&quot;http://karlarao.tiddlyspot.com#PostgreSQL&quot; class=&quot;externalLink null&quot;&gt;PostgreSQL&lt;/a&gt; Compatibility (9.6.x) &lt;a target=&quot;_blank&quot; title=&quot;External link to https://d1.awsstatic.com/whitepapers/Migration/oracle-database-amazon-aurora-postgresql-migration-playbook.pdf&quot; href=&quot;https://d1.awsstatic.com/whitepapers/Migration/oracle-database-amazon-aurora-postgresql-migration-playbook.pdf&quot; class=&quot;externalLink&quot;&gt;https://d1.awsstatic.com/whitepapers/Migration/oracle-database-amazon-aurora-postgresql-migration-playbook.pdf&lt;/a&gt;&lt;br&gt;Best Practices for AWS Database Migration Service &lt;a target=&quot;_blank&quot; title=&quot;External link to https://docs.aws.amazon.com/dms/latest/userguide/CHAP_BestPractices.html&quot; href=&quot;https://docs.aws.amazon.com/dms/latest/userguide/CHAP_BestPractices.html&quot; class=&quot;externalLink&quot;&gt;https://docs.aws.amazon.com/dms/latest/userguide/CHAP_BestPractices.html&lt;/a&gt;&lt;br&gt;&lt;br&gt;</description>
<category>PostgreSQL</category>
<link>http://karlarao.tiddlyspot.com#%5B%5BOracle%20to%20PostgreSQL%20migration%5D%5D</link>
<pubDate>Wed, 16 Jan 2019 00:18:00 GMT</pubDate>

</item>
<item>
<title>SQL Rewrite/Refactoring</title>
<description>&lt;pre&gt;Issues arise from:
* coding
* data mapping / model
* logic 

Delays come from: 
* poor requirements gathering
* technical debt 
* poor project management
&lt;/pre&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;</description>
<category>SQL Tuning</category>
<link>http://karlarao.tiddlyspot.com#%5B%5BSQL%20Rewrite%2FRefactoring%5D%5D</link>
<pubDate>Tue, 15 Jan 2019 05:27:00 GMT</pubDate>

</item>
<item>
<title>apache sentry vs ranger vs knox</title>
<description>&lt;a target=&quot;_blank&quot; title=&quot;External link to https://www.google.com/search?q=apache+sentry+vs+ranger+vs+knox&amp;amp;oq=apache+sentry+vs&amp;amp;aqs=chrome.2.69i57j0l4.4925j0j1&amp;amp;sourceid=chrome&amp;amp;ie=UTF-8&quot; href=&quot;https://www.google.com/search?q=apache+sentry+vs+ranger+vs+knox&amp;amp;oq=apache+sentry+vs&amp;amp;aqs=chrome.2.69i57j0l4.4925j0j1&amp;amp;sourceid=chrome&amp;amp;ie=UTF-8&quot; class=&quot;externalLink&quot;&gt;https://www.google.com/search?q=apache+sentry+vs+ranger+vs+knox&amp;amp;oq=apache+sentry+vs&amp;amp;aqs=chrome.2.69i57j0l4.4925j0j1&amp;amp;sourceid=chrome&amp;amp;ie=UTF-8&lt;/a&gt;&lt;br&gt;&lt;a target=&quot;_blank&quot; title=&quot;External link to https://www.xplenty.com/blog/5-hadoop-security-projects/&quot; href=&quot;https://www.xplenty.com/blog/5-hadoop-security-projects/&quot; class=&quot;externalLink&quot;&gt;https://www.xplenty.com/blog/5-hadoop-security-projects/&lt;/a&gt;&lt;br&gt;&lt;a target=&quot;_blank&quot; title=&quot;External link to https://community.hortonworks.com/questions/72341/whats-the-difference-between-ranger-and-knox.html&quot; href=&quot;https://community.hortonworks.com/questions/72341/whats-the-difference-between-ranger-and-knox.html&quot; class=&quot;externalLink&quot;&gt;https://community.hortonworks.com/questions/72341/whats-the-difference-between-ranger-and-knox.html&lt;/a&gt;&lt;br&gt;&lt;blockquote&gt;Keeping the jargon aside -&lt;br&gt;&lt;br&gt;&lt;strong&gt;Ranger&lt;/strong&gt; is used for deciding who can access what resources on a Hadoop cluster with the help of policies (there is more to this but this is in the most basic terms).&lt;br&gt;&lt;br&gt;&lt;strong&gt;Knox&lt;/strong&gt; can be imagined as the gatekeeper which decides whether to allow user access to Hadoop cluster or not.&lt;br&gt;More complete definitions:&lt;br&gt;&lt;br&gt;Ranger is an authorization system which allows / denies access to Hadoop cluster resources (HDFS files, Hive tables etc.) based on pre-defined Ranger policies. When user request comes to Ranger, it is assumed to be authenticated already.&lt;br&gt;&lt;br&gt;Knox is a REST API based perimeter security gateway system which 'authenticates' user credentials (mostly against AD/LDAP). Only the successfully authenticated user are allowed access to Hadoop cluster. Knox also provides a layer of abstraction to the underneath Hadoop services i.e. all endpoints are accessed via Knox gateway URL.&lt;br&gt;&lt;br&gt;&lt;/blockquote&gt;&lt;br&gt;&lt;br&gt;&lt;a target=&quot;_blank&quot; title=&quot;External link to https://stackoverflow.com/questions/39326456/how-to-choose-between-apache-ranger-and-sentry&quot; href=&quot;https://stackoverflow.com/questions/39326456/how-to-choose-between-apache-ranger-and-sentry&quot; class=&quot;externalLink&quot;&gt;https://stackoverflow.com/questions/39326456/how-to-choose-between-apache-ranger-and-sentry&lt;/a&gt;&lt;br&gt;&lt;a target=&quot;_blank&quot; title=&quot;External link to https://community.hortonworks.com/questions/105721/is-ranger-is-the-right-approach-for-hive-securityw.html&quot; href=&quot;https://community.hortonworks.com/questions/105721/is-ranger-is-the-right-approach-for-hive-securityw.html&quot; class=&quot;externalLink&quot;&gt;https://community.hortonworks.com/questions/105721/is-ranger-is-the-right-approach-for-hive-securityw.html&lt;/a&gt;&lt;br&gt;&lt;a target=&quot;_blank&quot; title=&quot;External link to http://ranger.apache.org/faq.html#How_does_Apache_Ranger_authorization_compare_to_SQL_standard_authorization&quot; href=&quot;http://ranger.apache.org/faq.html#How_does_Apache_Ranger_authorization_compare_to_SQL_standard_authorization&quot; class=&quot;externalLink&quot;&gt;http://ranger.apache.org/faq.html#How_does_Apache_Ranger_authorization_compare_to_SQL_standard_authorization&lt;/a&gt;&lt;br&gt;&lt;blockquote&gt;You can use Sentry or Ranger depends upon what hadoop distribution tool that you are using like Cloudera or Hortonworks.&lt;br&gt;&lt;br&gt;&lt;strong&gt;Apache Sentry&lt;/strong&gt; - Owned by Cloudera. Supports HDFS, Hive, Solr and Impala. (Ranger will not support Impala)&lt;br&gt;&lt;br&gt;&lt;strong&gt;Apache Ranger&lt;/strong&gt; - Owned by Hortonworks. Apache Ranger offers a centralized security framework to manage fine-grained access control across: HDFS, Hive, &lt;a tiddlylink=&quot;HBase&quot; refresh=&quot;link&quot; target=&quot;_blank&quot; title=&quot;External link to http://karlarao.tiddlyspot.com#HBase&quot; href=&quot;http://karlarao.tiddlyspot.com#HBase&quot; class=&quot;externalLink null&quot;&gt;HBase&lt;/a&gt;, Storm, Knox, Solr, Kafka, and YARN&lt;br&gt;&lt;br&gt;Apache Ranger overlaps with Apache Sentry since it also deals with authorization and permissions. It adds an authorization layer to Hive, &lt;a tiddlylink=&quot;HBase&quot; refresh=&quot;link&quot; target=&quot;_blank&quot; title=&quot;External link to http://karlarao.tiddlyspot.com#HBase&quot; href=&quot;http://karlarao.tiddlyspot.com#HBase&quot; class=&quot;externalLink null&quot;&gt;HBase&lt;/a&gt;, and Knox. Both Sentry and Ranger support column-level permissions in Hive (startig from 1.5 release).&lt;br&gt;&lt;br&gt;&lt;/blockquote&gt;&lt;br&gt;&lt;br&gt;&lt;h1&gt; howto configure &lt;/h1&gt;ranger, knox &lt;a target=&quot;_blank&quot; title=&quot;External link to https://www.youtube.com/channel/UCakdSIPsJqiOLqylgoYmwQg/search?query=ranger&quot; href=&quot;https://www.youtube.com/channel/UCakdSIPsJqiOLqylgoYmwQg/search?query=ranger&quot; class=&quot;externalLink&quot;&gt;https://www.youtube.com/channel/UCakdSIPsJqiOLqylgoYmwQg/search?query=ranger&lt;/a&gt;&lt;br&gt;Hadoop Day To Day Operations - Manage Ambari - Groups, users and permissions &lt;a target=&quot;_blank&quot; title=&quot;External link to https://www.youtube.com/watch?v=v3LiS2tJXE4&quot; href=&quot;https://www.youtube.com/watch?v=v3LiS2tJXE4&quot; class=&quot;externalLink&quot;&gt;https://www.youtube.com/watch?v=v3LiS2tJXE4&lt;/a&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;h1&gt; other references &lt;/h1&gt;&lt;br&gt;Securing Hadoop with Apache Ranger Strategies &amp;amp; Best Practices &lt;a target=&quot;_blank&quot; title=&quot;External link to https://www.youtube.com/watch?v=uCZKrKo5ebQ&quot; href=&quot;https://www.youtube.com/watch?v=uCZKrKo5ebQ&quot; class=&quot;externalLink&quot;&gt;https://www.youtube.com/watch?v=uCZKrKo5ebQ&lt;/a&gt;&lt;br&gt;30. Hadoop Administration Tutorial - LDAP Server Integration &lt;a target=&quot;_blank&quot; title=&quot;External link to https://www.youtube.com/watch?v=RJSUhbr9mZM&quot; href=&quot;https://www.youtube.com/watch?v=RJSUhbr9mZM&quot; class=&quot;externalLink&quot;&gt;https://www.youtube.com/watch?v=RJSUhbr9mZM&lt;/a&gt; , &lt;a target=&quot;_blank&quot; title=&quot;External link to https://www.youtube.com/watch?v=VDAh-YzUMm4&amp;amp;list=PLRt-r4QiDOMfq7d9llYvXdkjS8SQ_DB6C&quot; href=&quot;https://www.youtube.com/watch?v=VDAh-YzUMm4&amp;amp;list=PLRt-r4QiDOMfq7d9llYvXdkjS8SQ_DB6C&quot; class=&quot;externalLink&quot;&gt;https://www.youtube.com/watch?v=VDAh-YzUMm4&amp;amp;list=PLRt-r4QiDOMfq7d9llYvXdkjS8SQ_DB6C&lt;/a&gt;&lt;br&gt;&lt;a tiddlylink=&quot;HDP-2&quot; refresh=&quot;link&quot; target=&quot;_blank&quot; title=&quot;External link to http://karlarao.tiddlyspot.com#HDP-2&quot; href=&quot;http://karlarao.tiddlyspot.com#HDP-2&quot; class=&quot;externalLink null&quot;&gt;HDP-2&lt;/a&gt;.6.3 Ranger User And Group Sync With Active Directory &lt;a target=&quot;_blank&quot; title=&quot;External link to https://www.youtube.com/watch?v=2aZ9GBhCOhA&quot; href=&quot;https://www.youtube.com/watch?v=2aZ9GBhCOhA&quot; class=&quot;externalLink&quot;&gt;https://www.youtube.com/watch?v=2aZ9GBhCOhA&lt;/a&gt;&lt;br&gt;Ambari with external authentication ( LDAP ) &lt;a target=&quot;_blank&quot; title=&quot;External link to https://www.youtube.com/watch?v=vB1SN0LBicE&quot; href=&quot;https://www.youtube.com/watch?v=vB1SN0LBicE&quot; class=&quot;externalLink&quot;&gt;https://www.youtube.com/watch?v=vB1SN0LBicE&lt;/a&gt;&lt;br&gt;Integrating &lt;a tiddlylink=&quot;OpenLDAP&quot; refresh=&quot;link&quot; target=&quot;_blank&quot; title=&quot;External link to http://karlarao.tiddlyspot.com#OpenLDAP&quot; href=&quot;http://karlarao.tiddlyspot.com#OpenLDAP&quot; class=&quot;externalLink null&quot;&gt;OpenLDAP&lt;/a&gt; with Hadoop servers &lt;a target=&quot;_blank&quot; title=&quot;External link to https://www.youtube.com/watch?v=pnweuITIlP4&quot; href=&quot;https://www.youtube.com/watch?v=pnweuITIlP4&quot; class=&quot;externalLink&quot;&gt;https://www.youtube.com/watch?v=pnweuITIlP4&lt;/a&gt;&lt;br&gt;the LDAP connection check tool to discover Ambari properties &lt;a target=&quot;_blank&quot; title=&quot;External link to https://www.youtube.com/watch?v=vJPWDfsrJek&quot; href=&quot;https://www.youtube.com/watch?v=vJPWDfsrJek&quot; class=&quot;externalLink&quot;&gt;https://www.youtube.com/watch?v=vJPWDfsrJek&lt;/a&gt;&lt;br&gt;Integrating Ambari with Active Directory &lt;a target=&quot;_blank&quot; title=&quot;External link to https://www.youtube.com/watch?v=YCOZLAMxZ-I&quot; href=&quot;https://www.youtube.com/watch?v=YCOZLAMxZ-I&quot; class=&quot;externalLink&quot;&gt;https://www.youtube.com/watch?v=YCOZLAMxZ-I&lt;/a&gt;&lt;br&gt;&lt;a tiddlylink=&quot;HDP-2&quot; refresh=&quot;link&quot; target=&quot;_blank&quot; title=&quot;External link to http://karlarao.tiddlyspot.com#HDP-2&quot; href=&quot;http://karlarao.tiddlyspot.com#HDP-2&quot; class=&quot;externalLink null&quot;&gt;HDP-2&lt;/a&gt;.6.3 Integrating Ambari with Active Directory for External Authentication &lt;a target=&quot;_blank&quot; title=&quot;External link to https://www.youtube.com/watch?v=6DMEpXXw3J8&quot; href=&quot;https://www.youtube.com/watch?v=6DMEpXXw3J8&quot; class=&quot;externalLink&quot;&gt;https://www.youtube.com/watch?v=6DMEpXXw3J8&lt;/a&gt;&lt;br&gt;adduser in hdfs (part of LDAP + HDP + Kerberos series ) &lt;a target=&quot;_blank&quot; title=&quot;External link to https://www.youtube.com/watch?v=emcCTxbziRs&quot; href=&quot;https://www.youtube.com/watch?v=emcCTxbziRs&quot; class=&quot;externalLink&quot;&gt;https://www.youtube.com/watch?v=emcCTxbziRs&lt;/a&gt;&lt;br&gt;mit kerberos on HDP with &lt;a tiddlylink=&quot;OpenLDAP&quot; refresh=&quot;link&quot; target=&quot;_blank&quot; title=&quot;External link to http://karlarao.tiddlyspot.com#OpenLDAP&quot; href=&quot;http://karlarao.tiddlyspot.com#OpenLDAP&quot; class=&quot;externalLink null&quot;&gt;OpenLDAP&lt;/a&gt; &lt;a tiddlylink=&quot;HortonWorks&quot; refresh=&quot;link&quot; target=&quot;_blank&quot; title=&quot;External link to http://karlarao.tiddlyspot.com#HortonWorks&quot; href=&quot;http://karlarao.tiddlyspot.com#HortonWorks&quot; class=&quot;externalLink null&quot;&gt;HortonWorks&lt;/a&gt; Big Data Hadoop &lt;a target=&quot;_blank&quot; title=&quot;External link to https://www.youtube.com/watch?v=rM6q6IjXql8&quot; href=&quot;https://www.youtube.com/watch?v=rM6q6IjXql8&quot; class=&quot;externalLink&quot;&gt;https://www.youtube.com/watch?v=rM6q6IjXql8&lt;/a&gt;&lt;br&gt;Ambari with external authentication ( LDAP ) &lt;a target=&quot;_blank&quot; title=&quot;External link to https://www.youtube.com/watch?v=vB1SN0LBicE&amp;amp;list=PLxxNActWNRJhacZNMIZ9c7hbDgz_Hd7Ql&quot; href=&quot;https://www.youtube.com/watch?v=vB1SN0LBicE&amp;amp;list=PLxxNActWNRJhacZNMIZ9c7hbDgz_Hd7Ql&quot; class=&quot;externalLink&quot;&gt;https://www.youtube.com/watch?v=vB1SN0LBicE&amp;amp;list=PLxxNActWNRJhacZNMIZ9c7hbDgz_Hd7Ql&lt;/a&gt;&lt;br&gt;hadoop security playlist &lt;a target=&quot;_blank&quot; title=&quot;External link to https://www.youtube.com/watch?v=tJeLOVaVqjk&amp;amp;list=PLY-V_O-O7h4fHTSxNCipvqfOvFCa-6f07&quot; href=&quot;https://www.youtube.com/watch?v=tJeLOVaVqjk&amp;amp;list=PLY-V_O-O7h4fHTSxNCipvqfOvFCa-6f07&quot; class=&quot;externalLink&quot;&gt;https://www.youtube.com/watch?v=tJeLOVaVqjk&amp;amp;list=PLY-V_O-O7h4fHTSxNCipvqfOvFCa-6f07&lt;/a&gt;&lt;br&gt;hdp security &lt;a target=&quot;_blank&quot; title=&quot;External link to https://www.youtube.com/watch?v=2Ya4jSLvX-o&amp;amp;list=PLFvhu6WZOvmnSPQXcC195vEX3ZxRorAyu&quot; href=&quot;https://www.youtube.com/watch?v=2Ya4jSLvX-o&amp;amp;list=PLFvhu6WZOvmnSPQXcC195vEX3ZxRorAyu&quot; class=&quot;externalLink&quot;&gt;https://www.youtube.com/watch?v=2Ya4jSLvX-o&amp;amp;list=PLFvhu6WZOvmnSPQXcC195vEX3ZxRorAyu&lt;/a&gt;&lt;br&gt;    &lt;br&gt;&lt;br&gt;&lt;br&gt;</description>
<category>hadoop security</category>
<link>http://karlarao.tiddlyspot.com#%5B%5Bapache%20sentry%20vs%20ranger%20vs%20knox%5D%5D</link>
<pubDate>Thu, 10 Jan 2019 08:56:00 GMT</pubDate>

</item>
<item>
<title>1 provisioning - Vagrant</title>
<description>Vagrant + Docker &lt;br&gt;&lt;a target=&quot;_blank&quot; title=&quot;External link to http://en.wikipedia.org/wiki/Vagrant_%28software%29&quot; href=&quot;http://en.wikipedia.org/wiki/Vagrant_%28software%29&quot; class=&quot;externalLink&quot;&gt;http://en.wikipedia.org/wiki/Vagrant_%28software%29&lt;/a&gt;&lt;br&gt;&lt;a target=&quot;_blank&quot; title=&quot;External link to http://www.slideshare.net/3dgiordano/vagrant-docker&quot; href=&quot;http://www.slideshare.net/3dgiordano/vagrant-docker&quot; class=&quot;externalLink&quot;&gt;http://www.slideshare.net/3dgiordano/vagrant-docker&lt;/a&gt;&lt;br&gt;&lt;a target=&quot;_blank&quot; title=&quot;External link to http://www.quora.com/What-is-the-difference-between-Docker-and-Vagrant-When-should-you-use-each-one&quot; href=&quot;http://www.quora.com/What-is-the-difference-between-Docker-and-Vagrant-When-should-you-use-each-one&quot; class=&quot;externalLink&quot;&gt;http://www.quora.com/What-is-the-difference-between-Docker-and-Vagrant-When-should-you-use-each-one&lt;/a&gt;&lt;br&gt;&lt;a target=&quot;_blank&quot; title=&quot;External link to http://www.scriptrock.com/articles/docker-vs-vagrant&quot; href=&quot;http://www.scriptrock.com/articles/docker-vs-vagrant&quot; class=&quot;externalLink&quot;&gt;http://www.scriptrock.com/articles/docker-vs-vagrant&lt;/a&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;a target=&quot;_blank&quot; title=&quot;External link to https://www.vagrantup.com/downloads.html&quot; href=&quot;https://www.vagrantup.com/downloads.html&quot; class=&quot;externalLink&quot;&gt;https://www.vagrantup.com/downloads.html&lt;/a&gt;&lt;br&gt;&lt;pre&gt;vagrant up node1 node2 node3
vagrant suspend 
vagrant destroy 

vagrant global-status
&lt;/pre&gt;&lt;br&gt;&lt;a target=&quot;_blank&quot; title=&quot;External link to https://stackoverflow.com/questions/10953070/how-to-debug-vagrant-cannot-forward-the-specified-ports-on-this-vm-message&quot; href=&quot;https://stackoverflow.com/questions/10953070/how-to-debug-vagrant-cannot-forward-the-specified-ports-on-this-vm-message&quot; class=&quot;externalLink&quot;&gt;https://stackoverflow.com/questions/10953070/how-to-debug-vagrant-cannot-forward-the-specified-ports-on-this-vm-message&lt;/a&gt;&lt;br&gt;password for geerlingguy/centos7  &lt;a target=&quot;_blank&quot; title=&quot;External link to https://github.com/geerlingguy/drupal-vm/issues/1203&quot; href=&quot;https://github.com/geerlingguy/drupal-vm/issues/1203&quot; class=&quot;externalLink&quot;&gt;https://github.com/geerlingguy/drupal-vm/issues/1203&lt;/a&gt;&lt;br&gt;&lt;br&gt;</description>
<category>2 Infrastructure as code</category>
<category>VM</category>
<link>http://karlarao.tiddlyspot.com#%5B%5B1%20provisioning%20-%20Vagrant%5D%5D</link>
<pubDate>Thu, 10 Jan 2019 08:23:00 GMT</pubDate>

</item>
<item>
<title>04 (encryption) hadoop configure encryption, Ranger KMS</title>
<description>&lt;div class=&quot;dcTOC&quot;&gt;&lt;a class=&quot;toggleButton&quot; title=&quot;show/collapse table of contents&quot; href=&quot;javascript:;&quot;&gt;/* Table of Contents */&lt;/a&gt;&lt;div&gt;&lt;ul&gt;&lt;li&gt;&lt;span&gt;&lt;a href=&quot;javascript:;&quot; onclick=&quot;window.scrollToHeading('', ' background info - Ranger KMS (Key Management System) ', event)&quot;&gt; background info - Ranger KMS (Key Management System) &lt;/a&gt;&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;&lt;a href=&quot;javascript:;&quot; onclick=&quot;window.scrollToHeading('', ' install and configure', event)&quot;&gt; install and configure&lt;/a&gt;&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;&lt;a href=&quot;javascript:;&quot; onclick=&quot;window.scrollToHeading('', ' create hdfs encryption zone (/encrypted folder only accessible by user vagrant)', event)&quot;&gt; create hdfs encryption zone (/encrypted folder only accessible by user vagrant)&lt;/a&gt;&lt;/span&gt;&lt;ul&gt;&lt;li&gt;&lt;span&gt;&lt;a href=&quot;javascript:;&quot; onclick=&quot;window.scrollToHeading('', ' Keytabs are stored in /etc/security/keytabs/ ', event)&quot;&gt; Keytabs are stored in /etc/security/keytabs/ &lt;/a&gt;&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;&lt;a href=&quot;javascript:;&quot; onclick=&quot;window.scrollToHeading('', ' To list the principals in the keytab ', event)&quot;&gt; To list the principals in the keytab &lt;/a&gt;&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;&lt;a href=&quot;javascript:;&quot; onclick=&quot;window.scrollToHeading('', ' Switching principal, from admin/admin to hdfs-hadoop', event)&quot;&gt; Switching principal, from admin/admin to hdfs-hadoop&lt;/a&gt;&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;&lt;a href=&quot;javascript:;&quot; onclick=&quot;window.scrollToHeading('', ' listing the encryption keys ', event)&quot;&gt; listing the encryption keys &lt;/a&gt;&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;&lt;a href=&quot;javascript:;&quot; onclick=&quot;window.scrollToHeading('', ' create the new directory &quot; encrypted&quot;=&quot;&quot; using=&quot;&quot; hdfs-hadoop=&quot;&quot; principal',=&quot;&quot; event)&quot;=&quot;&quot;&gt; create the new directory &quot;encrypted&quot; using hdfs-hadoop principal&lt;/a&gt;&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;&lt;a href=&quot;javascript:;&quot; onclick=&quot;window.scrollToHeading('', ' create the encryption zone on &quot; encrypted&quot;=&quot;&quot; folder=&quot;&quot; using=&quot;&quot; the=&quot;&quot; mykey01',=&quot;&quot; event)&quot;=&quot;&quot;&gt; create the encryption zone on &quot;encrypted&quot; folder using the mykey01&lt;/a&gt;&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;&lt;a href=&quot;javascript:;&quot; onclick=&quot;window.scrollToHeading('', ' put files in the encryption zone and read it ', event)&quot;&gt; put files in the encryption zone and read it &lt;/a&gt;&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;&lt;a href=&quot;javascript:;&quot; onclick=&quot;window.scrollToHeading('', ' get files blocks location of the encrypted file in encryption zone ', event)&quot;&gt; get files blocks location of the encrypted file in encryption zone &lt;/a&gt;&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;&lt;a href=&quot;javascript:;&quot; onclick=&quot;window.scrollToHeading('', ' check if the file inside encryption zone is really encrypted', event)&quot;&gt; check if the file inside encryption zone is really encrypted&lt;/a&gt;&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;&lt;a href=&quot;javascript:;&quot; onclick=&quot;window.scrollToHeading('', ' copy the file from encryption zone to an outside folder ', event)&quot;&gt; copy the file from encryption zone to an outside folder &lt;/a&gt;&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;&lt;a href=&quot;javascript:;&quot; onclick=&quot;window.scrollToHeading('', ' hdfs user can create subdirectories under encryption zone but can't create file ', event)&quot;&gt; hdfs user can create subdirectories under encryption zone but can't create file &lt;/a&gt;&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;&lt;a href=&quot;javascript:;&quot; onclick=&quot;window.scrollToHeading('', ' keyadmin can read any encrypted file on any encryption zone ', event)&quot;&gt; keyadmin can read any encrypted file on any encryption zone &lt;/a&gt;&lt;/span&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;&lt;a href=&quot;javascript:;&quot; onclick=&quot;window.scrollToHeading('', ' troubleshooting ', event)&quot;&gt; troubleshooting &lt;/a&gt;&lt;/span&gt;&lt;ul&gt;&lt;li&gt;&lt;span&gt;&lt;a href=&quot;javascript:;&quot; onclick=&quot;window.scrollToHeading('', ' kms install properties file ', event)&quot;&gt; kms install properties file &lt;/a&gt;&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;&lt;a href=&quot;javascript:;&quot; onclick=&quot;window.scrollToHeading('', ' ranger kms install error &quot; unable=&quot;&quot; to=&quot;&quot; connect=&quot;&quot; db&quot;',=&quot;&quot; event)&quot;=&quot;&quot;&gt; ranger kms install error &quot;unable to connect to DB&quot;&lt;/a&gt;&lt;/span&gt;&lt;ul&gt;&lt;li&gt;&lt;span&gt;&lt;a href=&quot;javascript:;&quot; onclick=&quot;window.scrollToHeading('', ' error message ', event)&quot;&gt; error message &lt;/a&gt;&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;&lt;a href=&quot;javascript:;&quot; onclick=&quot;window.scrollToHeading('', ' fix', event)&quot;&gt; fix&lt;/a&gt;&lt;/span&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;/div&gt;&lt;br&gt;&lt;br&gt;&lt;h1&gt; background info - Ranger KMS (Key Management System) &lt;div style=&quot;font-size: 0.5em; color: blue;&quot;&gt;&lt;a class=&quot;dcTOCTop&quot; title=&quot;Go to top of tiddler&quot; href=&quot;javascript:;&quot;&gt; [top]&lt;/a&gt;&lt;/div&gt;&lt;/h1&gt;&lt;img src=&quot;https://i.imgur.com/khqEFuj.png&quot; title=&quot;SHIFT-CLICK=show full size, CTRL-CLICK=restore initial size&quot; style=&quot;width: 50%; height: 50%; cursor: move;&quot;&gt;&lt;br&gt;&lt;img src=&quot;https://i.imgur.com/EQJ97Vc.png&quot; title=&quot;SHIFT-CLICK=show full size, CTRL-CLICK=restore initial size&quot; style=&quot;width: 50%; height: 50%; cursor: move;&quot;&gt;&lt;br&gt;&lt;img src=&quot;https://i.imgur.com/g5fUv8w.png&quot; title=&quot;SHIFT-CLICK=show full size, CTRL-CLICK=restore initial size&quot; style=&quot;width: 50%; height: 50%; cursor: move;&quot;&gt;&lt;br&gt;&lt;img src=&quot;https://i.imgur.com/xfCR6dm.png&quot; title=&quot;SHIFT-CLICK=show full size, CTRL-CLICK=restore initial size&quot; style=&quot;width: 50%; height: 50%; cursor: move;&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;h1&gt; install and configure&lt;div style=&quot;font-size: 0.5em; color: blue;&quot;&gt;&lt;a class=&quot;dcTOCTop&quot; title=&quot;Go to top of tiddler&quot; href=&quot;javascript:;&quot;&gt; [top]&lt;/a&gt;&lt;/div&gt;&lt;/h1&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;01&lt;br&gt;&lt;img src=&quot;https://i.imgur.com/gKjnTZf.png&quot; title=&quot;SHIFT-CLICK=show full size, CTRL-CLICK=restore initial size&quot; style=&quot;width: 90%; height: 90%; cursor: move;&quot;&gt;&lt;br&gt;02&lt;br&gt;&lt;img src=&quot;https://i.imgur.com/vGsbzJH.png&quot; title=&quot;SHIFT-CLICK=show full size, CTRL-CLICK=restore initial size&quot; style=&quot;width: 90%; height: 90%; cursor: move;&quot;&gt;&lt;br&gt;03&lt;br&gt;&lt;img src=&quot;https://i.imgur.com/tvts1Up.png&quot; title=&quot;SHIFT-CLICK=show full size, CTRL-CLICK=restore initial size&quot; style=&quot;width: 90%; height: 90%; cursor: move;&quot;&gt;&lt;br&gt;04&lt;br&gt;&lt;img src=&quot;https://i.imgur.com/HLf1SZk.png&quot; title=&quot;SHIFT-CLICK=show full size, CTRL-CLICK=restore initial size&quot; style=&quot;width: 90%; height: 90%; cursor: move;&quot;&gt;&lt;br&gt;05&lt;br&gt;&lt;ul&gt;&lt;li&gt; On the Advanced config -&amp;gt; &quot;custom kms-site&quot; add the keyadmin proxy user settings (last three lines) for kerberos authentication &lt;/li&gt;&lt;/ul&gt;&lt;img src=&quot;https://i.imgur.com/tfCKduW.png&quot; title=&quot;SHIFT-CLICK=show full size, CTRL-CLICK=restore initial size&quot; style=&quot;width: 90%; height: 90%; cursor: move;&quot;&gt;&lt;br&gt;06&lt;br&gt;&lt;img src=&quot;https://i.imgur.com/qa1a6JQ.png&quot; title=&quot;SHIFT-CLICK=show full size, CTRL-CLICK=restore initial size&quot; style=&quot;width: 90%; height: 90%; cursor: move;&quot;&gt;&lt;br&gt;07&lt;br&gt;&lt;img src=&quot;https://i.imgur.com/nC83kAh.png&quot; title=&quot;SHIFT-CLICK=show full size, CTRL-CLICK=restore initial size&quot; style=&quot;width: 90%; height: 90%; cursor: move;&quot;&gt;&lt;br&gt;08&lt;br&gt;&lt;img src=&quot;https://i.imgur.com/77MW6NV.png&quot; title=&quot;SHIFT-CLICK=show full size, CTRL-CLICK=restore initial size&quot; style=&quot;width: 90%; height: 90%; cursor: move;&quot;&gt;&lt;br&gt;09&lt;br&gt;&lt;img src=&quot;https://i.imgur.com/j15oGwA.png&quot; title=&quot;SHIFT-CLICK=show full size, CTRL-CLICK=restore initial size&quot; style=&quot;width: 90%; height: 90%; cursor: move;&quot;&gt;&lt;br&gt;10&lt;br&gt;&lt;img src=&quot;https://i.imgur.com/dZUEb8p.png&quot; title=&quot;SHIFT-CLICK=show full size, CTRL-CLICK=restore initial size&quot; style=&quot;width: 90%; height: 90%; cursor: move;&quot;&gt;&lt;br&gt;11&lt;br&gt;&lt;img src=&quot;https://i.imgur.com/kgo36fo.png&quot; title=&quot;SHIFT-CLICK=show full size, CTRL-CLICK=restore initial size&quot; style=&quot;width: 90%; height: 90%; cursor: move;&quot;&gt;&lt;br&gt;12&lt;br&gt;&lt;img src=&quot;https://i.imgur.com/IGfqToA.png&quot; title=&quot;SHIFT-CLICK=show full size, CTRL-CLICK=restore initial size&quot; style=&quot;width: 90%; height: 90%; cursor: move;&quot;&gt;&lt;br&gt;13&lt;br&gt;&lt;img src=&quot;https://i.imgur.com/oFBvaKY.png&quot; title=&quot;SHIFT-CLICK=show full size, CTRL-CLICK=restore initial size&quot; style=&quot;width: 90%; height: 90%; cursor: move;&quot;&gt;&lt;br&gt;14&lt;br&gt;&lt;ul&gt;&lt;li&gt; Edit the hadoop_kms, add EXAMPLE.COM&lt;/li&gt;&lt;/ul&gt;&lt;img src=&quot;https://i.imgur.com/oKyKOw9.png&quot; title=&quot;SHIFT-CLICK=show full size, CTRL-CLICK=restore initial size&quot; style=&quot;width: 90%; height: 90%; cursor: move;&quot;&gt;&lt;br&gt;15&lt;br&gt;&lt;img src=&quot;https://i.imgur.com/iUXg2v6.png&quot; title=&quot;SHIFT-CLICK=show full size, CTRL-CLICK=restore initial size&quot; style=&quot;width: 90%; height: 90%; cursor: move;&quot;&gt;&lt;br&gt;16&lt;br&gt;&lt;img src=&quot;https://i.imgur.com/FoJSoOT.png&quot; title=&quot;SHIFT-CLICK=show full size, CTRL-CLICK=restore initial size&quot; style=&quot;width: 90%; height: 90%; cursor: move;&quot;&gt;&lt;br&gt;17&lt;br&gt;&lt;ul&gt;&lt;li&gt; Go to key manager, add a new key mykey01 to be used to create an encryption zone &lt;/li&gt;&lt;/ul&gt;&lt;img src=&quot;https://i.imgur.com/Z5JbTjh.png&quot; title=&quot;SHIFT-CLICK=show full size, CTRL-CLICK=restore initial size&quot; style=&quot;width: 90%; height: 90%; cursor: move;&quot;&gt;&lt;br&gt;18&lt;br&gt;&lt;img src=&quot;https://i.imgur.com/DiGvYeD.png&quot; title=&quot;SHIFT-CLICK=show full size, CTRL-CLICK=restore initial size&quot; style=&quot;width: 90%; height: 90%; cursor: move;&quot;&gt;&lt;br&gt;19&lt;br&gt;&lt;img src=&quot;https://i.imgur.com/8Kl7KVf.png&quot; title=&quot;SHIFT-CLICK=show full size, CTRL-CLICK=restore initial size&quot; style=&quot;width: 90%; height: 90%; cursor: move;&quot;&gt;&lt;br&gt;20&lt;br&gt;&lt;img src=&quot;https://i.imgur.com/jISoHhM.png&quot; title=&quot;SHIFT-CLICK=show full size, CTRL-CLICK=restore initial size&quot; style=&quot;width: 90%; height: 90%; cursor: move;&quot;&gt;&lt;br&gt;21&lt;br&gt;&lt;ul&gt;&lt;li&gt; Go back to Access Manager, create a new policy and use the created key mykey01 and grant users to it &lt;/li&gt;&lt;/ul&gt;&lt;img src=&quot;https://i.imgur.com/JBnnxVs.png&quot; title=&quot;SHIFT-CLICK=show full size, CTRL-CLICK=restore initial size&quot; style=&quot;width: 90%; height: 90%; cursor: move;&quot;&gt;&lt;br&gt;22&lt;br&gt;&lt;img src=&quot;https://i.imgur.com/0iBlArv.png&quot; title=&quot;SHIFT-CLICK=show full size, CTRL-CLICK=restore initial size&quot; style=&quot;width: 90%; height: 90%; cursor: move;&quot;&gt;&lt;br&gt;23&lt;br&gt;&lt;img src=&quot;https://i.imgur.com/Vq5bAWV.png&quot; title=&quot;SHIFT-CLICK=show full size, CTRL-CLICK=restore initial size&quot; style=&quot;width: 90%; height: 90%; cursor: move;&quot;&gt;&lt;br&gt;24&lt;br&gt;&lt;img src=&quot;https://i.imgur.com/6znPj2p.png&quot; title=&quot;SHIFT-CLICK=show full size, CTRL-CLICK=restore initial size&quot; style=&quot;width: 90%; height: 90%; cursor: move;&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;h1&gt; create hdfs encryption zone (/encrypted folder only accessible by user vagrant)&lt;div style=&quot;font-size: 0.5em; color: blue;&quot;&gt;&lt;a class=&quot;dcTOCTop&quot; title=&quot;Go to top of tiddler&quot; href=&quot;javascript:;&quot;&gt; [top]&lt;/a&gt;&lt;/div&gt;&lt;/h1&gt;&lt;br&gt;&lt;br&gt;&lt;h2&gt; Keytabs are stored in /etc/security/keytabs/ &lt;div style=&quot;font-size: 0.5em; color: blue;&quot;&gt;&lt;a class=&quot;dcTOCTop&quot; title=&quot;Go to top of tiddler&quot; href=&quot;javascript:;&quot;&gt; [top]&lt;/a&gt;&lt;/div&gt;&lt;/h2&gt;&lt;ul&gt;&lt;li&gt; these are binary files that can be used for kerberos authentication&lt;/li&gt;&lt;/ul&gt;&lt;pre&gt; ls /etc/security/keytabs/
dn.service.keytab              jhs.service.keytab             rangeradmin.service.keytab     rangertagsync.service.keytab   smokeuser.headless.keytab      zk.service.keytab
hdfs.headless.keytab           nm.service.keytab              rangerkms.service.keytab       rangerusersync.service.keytab  spnego.service.keytab          
hive.service.keytab            nn.service.keytab              rangerlookup.service.keytab    rm.service.keytab              yarn.service.keytab            

less /etc/security/keytabs/hdfs.headless.keytab 
&quot;/etc/security/keytabs/hdfs.headless.keytab&quot; may be a binary file.  See it anyway? 
&lt;/pre&gt;&lt;br&gt;&lt;h2&gt; To list the principals in the keytab &lt;div style=&quot;font-size: 0.5em; color: blue;&quot;&gt;&lt;a class=&quot;dcTOCTop&quot; title=&quot;Go to top of tiddler&quot; href=&quot;javascript:;&quot;&gt; [top]&lt;/a&gt;&lt;/div&gt;&lt;/h2&gt;&lt;pre&gt;[root@node2 ~]# klist -kt /etc/security/keytabs/hdfs.headless.keytab 
Keytab name: FILE:/etc/security/keytabs/hdfs.headless.keytab
KVNO Timestamp           Principal
---- ------------------- ------------------------------------------------------
   1 01/08/2019 18:00:32 hdfs-hadoop@EXAMPLE.COM
   1 01/08/2019 18:00:32 hdfs-hadoop@EXAMPLE.COM
   1 01/08/2019 18:00:32 hdfs-hadoop@EXAMPLE.COM
   1 01/08/2019 18:00:32 hdfs-hadoop@EXAMPLE.COM
   1 01/08/2019 18:00:32 hdfs-hadoop@EXAMPLE.COM
&lt;/pre&gt;&lt;br&gt;&lt;h2&gt; Switching principal, from admin/admin to hdfs-hadoop&lt;div style=&quot;font-size: 0.5em; color: blue;&quot;&gt;&lt;a class=&quot;dcTOCTop&quot; title=&quot;Go to top of tiddler&quot; href=&quot;javascript:;&quot;&gt; [top]&lt;/a&gt;&lt;/div&gt;&lt;/h2&gt;&lt;pre&gt;[root@node2 ~]# klist
Ticket cache: FILE:/tmp/krb5cc_0
Default principal: admin/admin@EXAMPLE.COM

Valid starting       Expires              Service principal
01/09/2019 01:53:15  01/10/2019 01:53:15  krbtgt/EXAMPLE.COM@EXAMPLE.COM
[root@node2 ~]# 

[root@node2 ~]# kdestroy
[root@node2 ~]# klist
klist: No credentials cache found (filename: /tmp/krb5cc_0)

[root@node2 ~]# kinit -kt /etc/security/keytabs/hdfs.headless.keytab hdfs-hadoop
[root@node2 ~]# 
[root@node2 ~]# klist
Ticket cache: FILE:/tmp/krb5cc_0
Default principal: hdfs-hadoop@EXAMPLE.COM

Valid starting       Expires              Service principal
01/10/2019 00:53:19  01/11/2019 00:53:19  krbtgt/EXAMPLE.COM@EXAMPLE.COM
&lt;/pre&gt;&lt;br&gt;&lt;br&gt;&lt;h2&gt; listing the encryption keys &lt;div style=&quot;font-size: 0.5em; color: blue;&quot;&gt;&lt;a class=&quot;dcTOCTop&quot; title=&quot;Go to top of tiddler&quot; href=&quot;javascript:;&quot;&gt; [top]&lt;/a&gt;&lt;/div&gt;&lt;/h2&gt;&lt;pre&gt;# &quot;kinit -kt&quot; is similar to using kinit but you'll NOT have to input a password because a keytab file is used
# user hdfs-hadoop errors with not allowed to do 'GET_KEYS'

[root@node2 ~]# kinit -kt /etc/security/keytabs/hdfs.headless.keytab hdfs-hadoop
[root@node2 ~]# hadoop key list -metadata
Cannot list keys for KeyProvider: KMSClientProvider[http://node2.example.com:9292/kms/v1/]: org.apache.hadoop.security.authorize.AuthorizationException: User:hdfs not allowed to do 'GET_KEYS'


# keyadmin is the most powerful user, has access to all keys and can view encrypted data. so protect this user 
# even kinit admin/admin will not be able to have access to the keys 

[root@node2 ~]# kinit keyadmin
Password for keyadmin@EXAMPLE.COM: 

[root@node2 ~]# hadoop key list -metadata
Listing keys for KeyProvider: KMSClientProvider[http://node2.example.com:9292/kms/v1/]
mykey01 : cipher: AES/CTR/NoPadding, length: 128, description: , created: Thu Jan 10 00:43:26 UTC 2019, version: 1, attributes: [key.acl.name=mykey01] 
&lt;/pre&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;h2&gt; create the new directory &quot;encrypted&quot; using hdfs-hadoop principal&lt;div style=&quot;font-size: 0.5em; color: blue;&quot;&gt;&lt;a class=&quot;dcTOCTop&quot; title=&quot;Go to top of tiddler&quot; href=&quot;javascript:;&quot;&gt; [top]&lt;/a&gt;&lt;/div&gt;&lt;/h2&gt;&lt;pre&gt;[root@node2 ~]# kinit -kt /etc/security/keytabs/hdfs.headless.keytab hdfs-hadoop

[root@node2 ~]# hadoop fs -ls
Found 1 items
drwxr-xr-x   - hdfs hdfs          0 2019-01-09 17:14 .hiveJars

[root@node2 ~]# hadoop fs -ls /
Found 9 items
drwxrwxrwx   - yarn   hadoop          0 2019-01-09 17:48 /app-logs
drwxr-xr-x   - hdfs   hdfs            0 2019-01-06 01:45 /apps
drwxr-xr-x   - yarn   hadoop          0 2019-01-06 01:31 /ats
drwxr-xr-x   - hdfs   hdfs            0 2019-01-06 01:31 /hdp
drwxr-xr-x   - mapred hdfs            0 2019-01-06 01:31 /mapred
drwxrwxrwx   - mapred hadoop          0 2019-01-06 01:32 /mr-history
drwxr-xr-x   - hdfs   hdfs            0 2019-01-09 08:49 /ranger
drwxrwxrwx   - hdfs   hdfs            0 2019-01-08 18:10 /tmp
drwxr-xr-x   - hdfs   hdfs            0 2019-01-09 17:14 /user

[root@node2 ~]# hadoop fs -mkdir /encrypted

[root@node2 ~]# hadoop fs -ls /
Found 10 items
drwxrwxrwx   - yarn   hadoop          0 2019-01-09 17:48 /app-logs
drwxr-xr-x   - hdfs   hdfs            0 2019-01-06 01:45 /apps
drwxr-xr-x   - yarn   hadoop          0 2019-01-06 01:31 /ats
drwxr-xr-x   - hdfs   hdfs            0 2019-01-10 00:59 /encrypted
drwxr-xr-x   - hdfs   hdfs            0 2019-01-06 01:31 /hdp
drwxr-xr-x   - mapred hdfs            0 2019-01-06 01:31 /mapred
drwxrwxrwx   - mapred hadoop          0 2019-01-06 01:32 /mr-history
drwxr-xr-x   - hdfs   hdfs            0 2019-01-09 08:49 /ranger
drwxrwxrwx   - hdfs   hdfs            0 2019-01-08 18:10 /tmp
drwxr-xr-x   - hdfs   hdfs            0 2019-01-09 17:14 /user

[root@node2 ~]# hadoop fs -chown vagrant:vagrant /encrypted

[root@node2 ~]# hadoop fs -ls /
Found 10 items
drwxrwxrwx   - yarn    hadoop           0 2019-01-09 17:48 /app-logs
drwxr-xr-x   - hdfs    hdfs             0 2019-01-06 01:45 /apps
drwxr-xr-x   - yarn    hadoop           0 2019-01-06 01:31 /ats
drwxr-xr-x   - vagrant vagrant          0 2019-01-10 00:59 /encrypted
drwxr-xr-x   - hdfs    hdfs             0 2019-01-06 01:31 /hdp
drwxr-xr-x   - mapred  hdfs             0 2019-01-06 01:31 /mapred
drwxrwxrwx   - mapred  hadoop           0 2019-01-06 01:32 /mr-history
drwxr-xr-x   - hdfs    hdfs             0 2019-01-09 08:49 /ranger
drwxrwxrwx   - hdfs    hdfs             0 2019-01-08 18:10 /tmp
drwxr-xr-x   - hdfs    hdfs             0 2019-01-09 17:14 /user
&lt;/pre&gt;&lt;br&gt;&lt;br&gt;&lt;h2&gt; create the encryption zone on &quot;encrypted&quot; folder using the mykey01&lt;div style=&quot;font-size: 0.5em; color: blue;&quot;&gt;&lt;a class=&quot;dcTOCTop&quot; title=&quot;Go to top of tiddler&quot; href=&quot;javascript:;&quot;&gt; [top]&lt;/a&gt;&lt;/div&gt;&lt;/h2&gt;&lt;pre&gt;[root@node2 ~]# hdfs crypto -createZone -keyName mykey01 -path /encrypted 
Added encryption zone /encrypted

[root@node2 ~]# hadoop fs -ls /
Found 10 items
drwxrwxrwx   - yarn    hadoop           0 2019-01-09 17:48 /app-logs
drwxr-xr-x   - hdfs    hdfs             0 2019-01-06 01:45 /apps
drwxr-xr-x   - yarn    hadoop           0 2019-01-06 01:31 /ats
drwxr-xr-x   - vagrant vagrant          0 2019-01-10 01:01 /encrypted
drwxr-xr-x   - hdfs    hdfs             0 2019-01-06 01:31 /hdp
drwxr-xr-x   - mapred  hdfs             0 2019-01-06 01:31 /mapred
drwxrwxrwx   - mapred  hadoop           0 2019-01-06 01:32 /mr-history
drwxr-xr-x   - hdfs    hdfs             0 2019-01-09 08:49 /ranger
drwxrwxrwx   - hdfs    hdfs             0 2019-01-08 18:10 /tmp
drwxr-xr-x   - hdfs    hdfs             0 2019-01-09 17:14 /user
&lt;/pre&gt;&lt;br&gt;&lt;br&gt;&lt;h2&gt; put files in the encryption zone and read it &lt;div style=&quot;font-size: 0.5em; color: blue;&quot;&gt;&lt;a class=&quot;dcTOCTop&quot; title=&quot;Go to top of tiddler&quot; href=&quot;javascript:;&quot;&gt; [top]&lt;/a&gt;&lt;/div&gt;&lt;/h2&gt;&lt;pre&gt;[vagrant@node2 ~]$ kinit
Password for vagrant@EXAMPLE.COM: 

[vagrant@node2 ~]$ hadoop fs -ls /encrypted
Found 1 items
drwxrwxrwt   - hdfs vagrant          0 2019-01-10 01:01 /encrypted/.Trash

[vagrant@node2 ~]$ hadoop fs -put /vagrant/data/constitution.txt /encrypted/constitution.txt

[vagrant@node2 ~]$ hadoop fs -cat /encrypted/constitution.txt | head
We the People of the United States, in Order to form a more perfect Union,
establish Justice, insure domestic Tranquility, provide for the common
defence, promote the general Welfare, and secure the Blessings of Liberty to
ourselves and our Posterity, do ordain and establish this Constitution for the
United States of America.
&lt;/pre&gt;&lt;br&gt;&lt;br&gt;&lt;h2&gt; get files blocks location of the encrypted file in encryption zone &lt;div style=&quot;font-size: 0.5em; color: blue;&quot;&gt;&lt;a class=&quot;dcTOCTop&quot; title=&quot;Go to top of tiddler&quot; href=&quot;javascript:;&quot;&gt; [top]&lt;/a&gt;&lt;/div&gt;&lt;/h2&gt;&lt;pre&gt;[vagrant@node2 ~]$ hadoop fsck /encrypted/constitution.txt -files -blocks -locations
DEPRECATED: Use of this script to execute hdfs command is deprecated.
Instead use the hdfs command for it.

Connecting to namenode via http://node1.example.com:50070/fsck?ugi=vagrant&amp;amp;files=1&amp;amp;blocks=1&amp;amp;locations=1&amp;amp;path=%2Fencrypted%2Fconstitution.txt
FSCK started by vagrant (auth:KERBEROS_SSL) from /192.168.199.3 for path /encrypted/constitution.txt at Thu Jan 10 01:12:38 UTC 2019
/encrypted/constitution.txt 44841 bytes, 1 block(s):  OK
0. BP-534825236-192.168.199.2-1546738263299:blk_1073741963_1146 len=44841 repl=3 [DatanodeInfoWithStorage[192.168.199.3:1019,DS-3390c406-9c65-467c-88b7-d2bdc6b7330b,DISK], DatanodeInfoWithStorage[192.168.199.4:1019,DS-a66628de-4daa-433f-9aa2-d3a8c400d5c5,DISK], DatanodeInfoWithStorage[192.168.199.2:1019,DS-f7935053-711f-4558-9c30-57a0fe071bde,DISK]]

Status: HEALTHY
 Total size:	44841 B
 Total dirs:	0
 Total files:	1
 Total symlinks:		0
 Total blocks (validated):	1 (avg. block size 44841 B)
 Minimally replicated blocks:	1 (100.0 %)
 Over-replicated blocks:	0 (0.0 %)
 Under-replicated blocks:	0 (0.0 %)
 Mis-replicated blocks:		0 (0.0 %)
 Default replication factor:	3
 Average block replication:	3.0
 Corrupt blocks:		0
 Missing replicas:		0 (0.0 %)
 Number of data-nodes:		3
 Number of racks:		1
FSCK ended at Thu Jan 10 01:12:38 UTC 2019 in 12 milliseconds


The filesystem under path '/encrypted/constitution.txt' is HEALTHY
&lt;/pre&gt;&lt;br&gt;&lt;br&gt;&lt;h2&gt; check if the file inside encryption zone is really encrypted&lt;div style=&quot;font-size: 0.5em; color: blue;&quot;&gt;&lt;a class=&quot;dcTOCTop&quot; title=&quot;Go to top of tiddler&quot; href=&quot;javascript:;&quot;&gt; [top]&lt;/a&gt;&lt;/div&gt;&lt;/h2&gt;&lt;pre&gt;[vagrant@node2 ~]$ sudo su -
Last login: Thu Jan 10 01:03:59 UTC 2019 on pts/2
[root@node2 ~]# 
[root@node2 ~]# find /hadoop/hdfs/data/ -iname &quot;blk_1073741963&quot;
/hadoop/hdfs/data/current/BP-534825236-192.168.199.2-1546738263299/current/finalized/subdir0/subdir0/blk_1073741963
[root@node2 ~]# 
[root@node2 ~]# 
[root@node2 ~]# head /hadoop/hdfs/data/current/BP-534825236-192.168.199.2-1546738263299/current/finalized/subdir0/subdir0/blk_1073741963
t?ʌF??7h?0?Ɇ??Y???+5e????{??j?,=?(?&amp;gt;?&amp;gt;4e)??l?0?cfC۟??V???&amp;lt;5s?T??Y?Z?.?n9??,
&lt;/pre&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;h2&gt; copy the file from encryption zone to an outside folder &lt;div style=&quot;font-size: 0.5em; color: blue;&quot;&gt;&lt;a class=&quot;dcTOCTop&quot; title=&quot;Go to top of tiddler&quot; href=&quot;javascript:;&quot;&gt; [top]&lt;/a&gt;&lt;/div&gt;&lt;/h2&gt;&lt;pre&gt;[vagrant@node2 ~]$ hadoop fs -cp /encrypted/constitution.txt /tmp/constitution_copied.txt


# now login just as regular hdfs user, and you can read the file even without keys. meaning the file is not encrypted once outside of encryption zone 

[hdfs@node2 ~]$ hadoop fs -cat /tmp/constitution_copied.txt | head
We the People of the United States, in Order to form a more perfect Union,
establish Justice, insure domestic Tranquility, provide for the common
defence, promote the general Welfare, and secure the Blessings of Liberty to
ourselves and our Posterity, do ordain and establish this Constitution for the
United States of America.


[hdfs@node2 ~]$ hadoop fsck /tmp/constitution_copied.txt -files -blocks -locations
DEPRECATED: Use of this script to execute hdfs command is deprecated.
Instead use the hdfs command for it.

Connecting to namenode via http://node1.example.com:50070/fsck?ugi=hdfs&amp;amp;files=1&amp;amp;blocks=1&amp;amp;locations=1&amp;amp;path=%2Ftmp%2Fconstitution_copied.txt
FSCK started by hdfs (auth:KERBEROS_SSL) from /192.168.199.3 for path /tmp/constitution_copied.txt at Thu Jan 10 01:18:08 UTC 2019
/tmp/constitution_copied.txt 44841 bytes, 1 block(s):  OK
0. BP-534825236-192.168.199.2-1546738263299:blk_1073741964_1147 len=44841 repl=3 [DatanodeInfoWithStorage[192.168.199.3:1019,DS-3390c406-9c65-467c-88b7-d2bdc6b7330b,DISK], DatanodeInfoWithStorage[192.168.199.2:1019,DS-f7935053-711f-4558-9c30-57a0fe071bde,DISK], DatanodeInfoWithStorage[192.168.199.4:1019,DS-a66628de-4daa-433f-9aa2-d3a8c400d5c5,DISK]]

Status: HEALTHY
 Total size:	44841 B
 Total dirs:	0
 Total files:	1
 Total symlinks:		0
 Total blocks (validated):	1 (avg. block size 44841 B)
 Minimally replicated blocks:	1 (100.0 %)
 Over-replicated blocks:	0 (0.0 %)
 Under-replicated blocks:	0 (0.0 %)
 Mis-replicated blocks:		0 (0.0 %)
 Default replication factor:	3
 Average block replication:	3.0
 Corrupt blocks:		0
 Missing replicas:		0 (0.0 %)
 Number of data-nodes:		3
 Number of racks:		1
FSCK ended at Thu Jan 10 01:18:08 UTC 2019 in 1 milliseconds


The filesystem under path '/tmp/constitution_copied.txt' is HEALTHY

[vagrant@node2 ~]$ sudo su -

[root@node2 ~]# find /hadoop/hdfs/data/ -iname &quot;blk_1073741964&quot;
/hadoop/hdfs/data/current/BP-534825236-192.168.199.2-1546738263299/current/finalized/subdir0/subdir0/blk_1073741964

[root@node2 ~]# head /hadoop/hdfs/data/current/BP-534825236-192.168.199.2-1546738263299/current/finalized/subdir0/subdir0/blk_1073741964
We the People of the United States, in Order to form a more perfect Union,
establish Justice, insure domestic Tranquility, provide for the common
defence, promote the general Welfare, and secure the Blessings of Liberty to
ourselves and our Posterity, do ordain and establish this Constitution for the
United States of America.
&lt;/pre&gt;&lt;br&gt;&lt;br&gt;&lt;h2&gt; hdfs user can create subdirectories under encryption zone but can't create file &lt;div style=&quot;font-size: 0.5em; color: blue;&quot;&gt;&lt;a class=&quot;dcTOCTop&quot; title=&quot;Go to top of tiddler&quot; href=&quot;javascript:;&quot;&gt; [top]&lt;/a&gt;&lt;/div&gt;&lt;/h2&gt;&lt;pre&gt;[hdfs@node2 ~]$ hadoop fs -mkdir /encrypted/subdir

[hdfs@node2 ~]$ hadoop fs -put /vagrant/data/constitution.txt /encrypted/subdir/constitution2.txt
put: User:hdfs not allowed to do 'DECRYPT_EEK' on 'mykey01'
19/01/10 01:10:56 ERROR hdfs.DFSClient: Failed to close inode 24384
org.apache.hadoop.ipc.RemoteException(org.apache.hadoop.hdfs.server.namenode.LeaseExpiredException): No lease on /encrypted/subdir/constitution2.txt._COPYING_ (inode 24384): File does not exist. Holder DFSClient_NONMAPREDUCE_1910722416_1 does not have any open files.
	at org.apache.hadoop.hdfs.server.namenode.FSNamesystem.checkLease(FSNamesystem.java:3697)
	at org.apache.hadoop.hdfs.server.namenode.FSNamesystem.completeFileInternal(FSNamesystem.java:3785)
&lt;/pre&gt;&lt;br&gt;&lt;br&gt;&lt;h2&gt; keyadmin can read any encrypted file on any encryption zone &lt;div style=&quot;font-size: 0.5em; color: blue;&quot;&gt;&lt;a class=&quot;dcTOCTop&quot; title=&quot;Go to top of tiddler&quot; href=&quot;javascript:;&quot;&gt; [top]&lt;/a&gt;&lt;/div&gt;&lt;/h2&gt;&lt;pre&gt;[hdfs@node2 ~]$ kinit keyadmin@EXAMPLE.COM
Password for keyadmin@EXAMPLE.COM: 

[hdfs@node2 ~]$ hdfs fs -cat /encrypted/constitution.txt | head
Error: Could not find or load main class fs
[hdfs@node2 ~]$ hadoop fs -cat /encrypted/constitution.txt | head
We the People of the United States, in Order to form a more perfect Union,
establish Justice, insure domestic Tranquility, provide for the common
defence, promote the general Welfare, and secure the Blessings of Liberty to
ourselves and our Posterity, do ordain and establish this Constitution for the
United States of America.


# admin/admin will not be able to read any encrypted file 
[hdfs@node2 ~]$ kinit admin/admin
Password for admin/admin@EXAMPLE.COM: 

[hdfs@node2 ~]$ klist
Ticket cache: FILE:/tmp/krb5cc_1006
Default principal: admin/admin@EXAMPLE.COM

Valid starting       Expires              Service principal
01/10/2019 01:30:08  01/11/2019 01:30:08  krbtgt/EXAMPLE.COM@EXAMPLE.COM

[hdfs@node2 ~]$ hadoop fs -cat /encrypted/constitution.txt | head
cat: User:admin not allowed to do 'DECRYPT_EEK' on 'mykey01'
&lt;/pre&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;h1&gt; troubleshooting &lt;div style=&quot;font-size: 0.5em; color: blue;&quot;&gt;&lt;a class=&quot;dcTOCTop&quot; title=&quot;Go to top of tiddler&quot; href=&quot;javascript:;&quot;&gt; [top]&lt;/a&gt;&lt;/div&gt;&lt;/h1&gt;&lt;br&gt;&lt;h2&gt; kms install properties file &lt;div style=&quot;font-size: 0.5em; color: blue;&quot;&gt;&lt;a class=&quot;dcTOCTop&quot; title=&quot;Go to top of tiddler&quot; href=&quot;javascript:;&quot;&gt; [top]&lt;/a&gt;&lt;/div&gt;&lt;/h2&gt;&lt;blockquote&gt;/usr/hdp/current/ranger-kms/install.properties&lt;br&gt;&lt;/blockquote&gt;&lt;br&gt;&lt;h2&gt; ranger kms install error &quot;unable to connect to DB&quot;&lt;div style=&quot;font-size: 0.5em; color: blue;&quot;&gt;&lt;a class=&quot;dcTOCTop&quot; title=&quot;Go to top of tiddler&quot; href=&quot;javascript:;&quot;&gt; [top]&lt;/a&gt;&lt;/div&gt;&lt;/h2&gt;&lt;h3&gt; error message &lt;div style=&quot;font-size: 0.5em; color: blue;&quot;&gt;&lt;a class=&quot;dcTOCTop&quot; title=&quot;Go to top of tiddler&quot; href=&quot;javascript:;&quot;&gt; [top]&lt;/a&gt;&lt;/div&gt;&lt;/h3&gt;&lt;pre&gt;
stderr: 
Traceback (most recent call last):
  File &quot;/var/lib/ambari-agent/cache/common-services/RANGER_KMS/0.5.0.2.3/package/scripts/kms_server.py&quot;, line 121, in &amp;lt;module&amp;gt;
    KmsServer().execute()
  File &quot;/usr/lib/ambari-agent/lib/resource_management/libraries/script/script.py&quot;, line 375, in execute
    method(env)
  File &quot;/var/lib/ambari-agent/cache/common-services/RANGER_KMS/0.5.0.2.3/package/scripts/kms_server.py&quot;, line 48, in install
    self.configure(env)
  File &quot;/usr/lib/ambari-agent/lib/resource_management/libraries/script/script.py&quot;, line 120, in locking_configure
    original_configure(obj, *args, **kw)
  File &quot;/var/lib/ambari-agent/cache/common-services/RANGER_KMS/0.5.0.2.3/package/scripts/kms_server.py&quot;, line 90, in configure
    kms()
  File &quot;/var/lib/ambari-agent/cache/common-services/RANGER_KMS/0.5.0.2.3/package/scripts/kms.py&quot;, line 183, in kms
    Execute(db_connection_check_command, path='/usr/sbin:/sbin:/usr/local/bin:/bin:/usr/bin', tries=5, try_sleep=10, environment=env_dict)
  File &quot;/usr/lib/ambari-agent/lib/resource_management/core/base.py&quot;, line 166, in __init__
    self.env.run()
  File &quot;/usr/lib/ambari-agent/lib/resource_management/core/environment.py&quot;, line 160, in run
    self.run_action(resource, action)
  File &quot;/usr/lib/ambari-agent/lib/resource_management/core/environment.py&quot;, line 124, in run_action
    provider_action()
  File &quot;/usr/lib/ambari-agent/lib/resource_management/core/providers/system.py&quot;, line 262, in action_run
    tries=self.resource.tries, try_sleep=self.resource.try_sleep)
  File &quot;/usr/lib/ambari-agent/lib/resource_management/core/shell.py&quot;, line 72, in inner
    result = function(command, **kwargs)
  File &quot;/usr/lib/ambari-agent/lib/resource_management/core/shell.py&quot;, line 102, in checked_call
    tries=tries, try_sleep=try_sleep, timeout_kill_strategy=timeout_kill_strategy)
  File &quot;/usr/lib/ambari-agent/lib/resource_management/core/shell.py&quot;, line 150, in _call_wrapper
    result = _call(command, **kwargs_copy)
  File &quot;/usr/lib/ambari-agent/lib/resource_management/core/shell.py&quot;, line 303, in _call
    raise ExecutionFailed(err_msg, code, out, err)
resource_management.core.exceptions.ExecutionFailed: Execution of '/usr/lib/jvm/jre//bin/java -cp /usr/lib/ambari-agent/DBConnectionVerification.jar:/usr/hdp/current/ranger-kms/ews/webapp/lib/mysql-connector-java.jar org.apache.ambari.server.DBConnectionVerification 'jdbc:mysql://node2:3306/rangerkms' rangerkms [PROTECTED] com.mysql.jdbc.Driver' returned 1. ERROR: Unable to connect to the DB. Please check DB connection properties.
com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure
&lt;/pre&gt;&lt;h3&gt; fix&lt;div style=&quot;font-size: 0.5em; color: blue;&quot;&gt;&lt;a class=&quot;dcTOCTop&quot; title=&quot;Go to top of tiddler&quot; href=&quot;javascript:;&quot;&gt; [top]&lt;/a&gt;&lt;/div&gt;&lt;/h3&gt;&lt;ul&gt;&lt;li&gt; On the Advanced config -&amp;gt; &quot;custom kms-site&quot; add the keyadmin proxy user settings (last three lines) for kerberos authentication&lt;/li&gt;&lt;/ul&gt;&lt;img src=&quot;https://i.imgur.com/tUpTVUL.png&quot; title=&quot;SHIFT-CLICK=show full size, CTRL-CLICK=restore initial size&quot; style=&quot;width: 90%; height: 90%; cursor: move;&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;.&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;</description>
<category>hdp security</category>
<link>http://karlarao.tiddlyspot.com#%5B%5B04%20(encryption)%20hadoop%20configure%20encryption%2C%20Ranger%20KMS%5D%5D</link>
<pubDate>Thu, 10 Jan 2019 07:53:00 GMT</pubDate>

</item>
<item>
<title>hive on ranger</title>
<description>&lt;div class=&quot;dcTOC&quot;&gt;&lt;a class=&quot;toggleButton&quot; title=&quot;show/collapse table of contents&quot; href=&quot;javascript:;&quot;&gt;/* Table of Contents */&lt;/a&gt;&lt;div&gt;&lt;ul&gt;&lt;li&gt;&lt;span&gt;&lt;a href=&quot;javascript:;&quot; onclick=&quot;window.scrollToHeading('', ' enable &quot; run=&quot;&quot; as=&quot;&quot; end=&quot;&quot; user&quot;,=&quot;&quot; restart=&quot;&quot; affected=&quot;&quot; services=&quot;&quot; ',=&quot;&quot; event)&quot;=&quot;&quot;&gt; enable &quot;run as end user&quot;, restart affected services &lt;/a&gt;&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;&lt;a href=&quot;javascript:;&quot; onclick=&quot;window.scrollToHeading('', ' default hive behavior on ranger', event)&quot;&gt; default hive behavior on ranger&lt;/a&gt;&lt;/span&gt;&lt;ul&gt;&lt;li&gt;&lt;span&gt;&lt;a href=&quot;javascript:;&quot; onclick=&quot;window.scrollToHeading('', ' to get hive user to access hive, it must be added to principal ', event)&quot;&gt; to get hive user to access hive, it must be added to principal &lt;/a&gt;&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;&lt;a href=&quot;javascript:;&quot; onclick=&quot;window.scrollToHeading('', ' root will not have hive access ', event)&quot;&gt; root will not have hive access &lt;/a&gt;&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;&lt;a href=&quot;javascript:;&quot; onclick=&quot;window.scrollToHeading('', ' other users will not have hive resources access even if they can manage to login ', event)&quot;&gt; other users will not have hive resources access even if they can manage to login &lt;/a&gt;&lt;/span&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;&lt;a href=&quot;javascript:;&quot; onclick=&quot;window.scrollToHeading('', ' login on ranger admin and create new policy for vagrant user ', event)&quot;&gt; login on ranger admin and create new policy for vagrant user &lt;/a&gt;&lt;/span&gt;&lt;ul&gt;&lt;li&gt;&lt;span&gt;&lt;a href=&quot;javascript:;&quot; onclick=&quot;window.scrollToHeading('', ' vagrant user can only access the vagrant database and not others ', event)&quot;&gt; vagrant user can only access the vagrant database and not others &lt;/a&gt;&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;&lt;a href=&quot;javascript:;&quot; onclick=&quot;window.scrollToHeading('', ' but hive user will have access to vagrant database, because it has more privileges but you can lockout the hive user through policies and kerberos', event)&quot;&gt; but hive user will have access to vagrant database, because it has more privileges but you can lockout the hive user through policies and kerberos&lt;/a&gt;&lt;/span&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;/div&gt;&lt;br&gt;&lt;br&gt;&lt;h1&gt; enable &quot;run as end user&quot;, restart affected services &lt;div style=&quot;font-size: 0.5em; color: blue;&quot;&gt;&lt;a class=&quot;dcTOCTop&quot; title=&quot;Go to top of tiddler&quot; href=&quot;javascript:;&quot;&gt; [top]&lt;/a&gt;&lt;/div&gt;&lt;/h1&gt;&lt;img src=&quot;https://i.imgur.com/Rjl9fR2.png&quot; title=&quot;SHIFT-CLICK=show full size, CTRL-CLICK=restore initial size&quot; style=&quot;width: 90%; height: 90%; cursor: move;&quot;&gt;&lt;br&gt;&lt;img src=&quot;https://i.imgur.com/nfIOikx.png&quot; title=&quot;SHIFT-CLICK=show full size, CTRL-CLICK=restore initial size&quot; style=&quot;width: 90%; height: 90%; cursor: move;&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;h1&gt; default hive behavior on ranger&lt;div style=&quot;font-size: 0.5em; color: blue;&quot;&gt;&lt;a class=&quot;dcTOCTop&quot; title=&quot;Go to top of tiddler&quot; href=&quot;javascript:;&quot;&gt; [top]&lt;/a&gt;&lt;/div&gt;&lt;/h1&gt;&lt;br&gt;&lt;h2&gt; to get hive user to access hive, it must be added to principal &lt;div style=&quot;font-size: 0.5em; color: blue;&quot;&gt;&lt;a class=&quot;dcTOCTop&quot; title=&quot;Go to top of tiddler&quot; href=&quot;javascript:;&quot;&gt; [top]&lt;/a&gt;&lt;/div&gt;&lt;/h2&gt;&lt;pre&gt;[root@node2 ~]# kadmin.local -q &quot;addprinc hive&quot;
Authenticating as principal admin/admin@EXAMPLE.COM with password.
WARNING: no policy specified for hive@EXAMPLE.COM; defaulting to no policy
Enter password for principal &quot;hive@EXAMPLE.COM&quot;: 
Re-enter password for principal &quot;hive@EXAMPLE.COM&quot;: 
Principal &quot;hive@EXAMPLE.COM&quot; created.
[root@node2 ~]# 
[root@node2 ~]# 
[root@node2 ~]# sudo su - hive
Last login: Wed Jan  9 17:35:14 UTC 2019 on pts/0
[hive@node2 ~]$ 
[hive@node2 ~]$ 
[hive@node2 ~]$ kinit
Password for hive@EXAMPLE.COM: 
[hive@node2 ~]$ 
[hive@node2 ~]$ 
[hive@node2 ~]$ 
[hive@node2 ~]$ hive
log4j:WARN No such property [maxFileSize] in org.apache.log4j.DailyRollingFileAppender.

Logging initialized using configuration in file:/etc/hive/2.6.5.1050-37/0/hive-log4j.properties
hive&amp;gt; 
    &amp;gt; 
    &amp;gt; show databases;
OK
default
hr
Time taken: 2.279 seconds, Fetched: 2 row(s)
hive&amp;gt; 
    &amp;gt; 
    &amp;gt; create table test (id int);
OK
Time taken: 2.852 seconds
hive&amp;gt; 
    &amp;gt; select * from test;
OK
Time taken: 0.814 seconds
hive&amp;gt; 


[hive@node2 scripts]$ cat beeline_withkrb2.sh 
#!/bin/bash
# beeline with kerberos
HADOOP_OPTS=&quot;-Djavax.security.auth.useSubjectCredsOnly=false&quot; beeline -u 'jdbc:hive2://localhost:10000/default;principal=hive/node2.example.com@EXAMPLE.COM;auth=kerberos'
[hive@node2 scripts]$ 
[hive@node2 scripts]$ ./beeline_withkrb2.sh 
Connecting to jdbc:hive2://localhost:10000/default;principal=hive/node2.example.com@EXAMPLE.COM;auth=kerberos
Connected to: Apache Hive (version 1.2.1000.2.6.5.1050-37)
Driver: Hive JDBC (version 1.2.1000.2.6.5.1050-37)
Transaction isolation: TRANSACTION_REPEATABLE_READ
Beeline version 1.2.1000.2.6.5.1050-37 by Apache Hive
0: jdbc:hive2://localhost:10000/default&amp;gt; 
0: jdbc:hive2://localhost:10000/default&amp;gt; 
0: jdbc:hive2://localhost:10000/default&amp;gt; show databases;
+----------------+--+
| database_name  |
+----------------+--+
| default        |
| hr             |
+----------------+--+
2 rows selected (1.413 seconds)
0: jdbc:hive2://localhost:10000/default&amp;gt; ^C^C[hive@node2 scripts]$ 
&lt;/pre&gt;&lt;br&gt;&lt;h2&gt; root will not have hive access &lt;div style=&quot;font-size: 0.5em; color: blue;&quot;&gt;&lt;a class=&quot;dcTOCTop&quot; title=&quot;Go to top of tiddler&quot; href=&quot;javascript:;&quot;&gt; [top]&lt;/a&gt;&lt;/div&gt;&lt;/h2&gt;&lt;pre&gt;[root@node2 ~]# hive
log4j:WARN No such property [maxFileSize] in org.apache.log4j.DailyRollingFileAppender.

Logging initialized using configuration in file:/etc/hive/2.6.5.1050-37/0/hive-log4j.properties
Exception in thread &quot;main&quot; java.lang.RuntimeException: org.apache.tez.dag.api.SessionNotRunning: TezSession has already shutdown. Application application_1547023808827_0003 failed 2 times due to AM Container for appattempt_1547023808827_0003_000002 exited with  exitCode: -1000
For more detailed output, check the application tracking page: http://node2.example.com:8088/cluster/app/application_1547023808827_0003 Then click on links to logs of each attempt.
Diagnostics: Application application_1547023808827_0003 initialization failed (exitCode=255) with output: main : command provided 0
main : run as user is admin
main : requested yarn user is admin
User admin not found

Failing this attempt. Failing the application.
	at org.apache.hadoop.hive.ql.session.SessionState.start(SessionState.java:582)
	at org.apache.hadoop.hive.cli.CliDriver.run(CliDriver.java:681)
	at org.apache.hadoop.hive.cli.CliDriver.main(CliDriver.java:625)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.hadoop.util.RunJar.run(RunJar.java:233)
	at org.apache.hadoop.util.RunJar.main(RunJar.java:148)
Caused by: org.apache.tez.dag.api.SessionNotRunning: TezSession has already shutdown. Application application_1547023808827_0003 failed 2 times due to AM Container for appattempt_1547023808827_0003_000002 exited with  exitCode: -1000
For more detailed output, check the application tracking page: http://node2.example.com:8088/cluster/app/application_1547023808827_0003 Then click on links to logs of each attempt.
Diagnostics: Application application_1547023808827_0003 initialization failed (exitCode=255) with output: main : command provided 0
main : run as user is admin
main : requested yarn user is admin
User admin not found

Failing this attempt. Failing the application.
	at org.apache.tez.client.TezClient.waitTillReady(TezClient.java:699)
	at org.apache.hadoop.hive.ql.exec.tez.TezSessionState.open(TezSessionState.java:218)
	at org.apache.hadoop.hive.ql.exec.tez.TezSessionState.open(TezSessionState.java:116)
	at org.apache.hadoop.hive.ql.session.SessionState.start(SessionState.java:579)
	... 8 more
&lt;/pre&gt;&lt;br&gt;&lt;h2&gt; other users will not have hive resources access even if they can manage to login &lt;div style=&quot;font-size: 0.5em; color: blue;&quot;&gt;&lt;a class=&quot;dcTOCTop&quot; title=&quot;Go to top of tiddler&quot; href=&quot;javascript:;&quot;&gt; [top]&lt;/a&gt;&lt;/div&gt;&lt;/h2&gt;&lt;pre&gt;[root@node2 scripts]# cat beeline_withkrb.sh 
#!/bin/bash
# beeline with kerberos
HADOOP_OPTS=&quot;-Djavax.security.auth.useSubjectCredsOnly=false&quot; beeline -u 'jdbc:hive2://localhost:10000/default;principal=hive/node2.example.com@EXAMPLE.COM;auth=kerberos vagrant dummy'


[vagrant@node2 scripts]$ ./beeline_withkrb.sh 
Connecting to jdbc:hive2://localhost:10000/default;principal=hive/node2.example.com@EXAMPLE.COM;auth=kerberos
Connected to: Apache Hive (version 1.2.1000.2.6.5.1050-37)
Driver: Hive JDBC (version 1.2.1000.2.6.5.1050-37)
Transaction isolation: TRANSACTION_REPEATABLE_READ
Beeline version 1.2.1000.2.6.5.1050-37 by Apache Hive
0: jdbc:hive2://localhost:10000/default&amp;gt; 
0: jdbc:hive2://localhost:10000/default&amp;gt; show databases;
Error: Error while compiling statement: FAILED: HiveAccessControlException Permission denied: user [vagrant] does not have [USE] privilege on [Unknown resource!!] (state=42000,code=40000)
0: jdbc:hive2://localhost:10000/default&amp;gt; 
0: jdbc:hive2://localhost:10000/default&amp;gt; 
0: jdbc:hive2://localhost:10000/default&amp;gt; create table test (id int);
Error: Error while compiling statement: FAILED: HiveAccessControlException Permission denied: user [vagrant] does not have [CREATE] privilege on [default/test] (state=42000,code=40000)
0: jdbc:hive2://localhost:10000/default&amp;gt; 
0: jdbc:hive2://localhost:10000/default&amp;gt; [vagrant@node2 scripts]$ ^C

&lt;/pre&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;h1&gt; login on ranger admin and create new policy for vagrant user &lt;div style=&quot;font-size: 0.5em; color: blue;&quot;&gt;&lt;a class=&quot;dcTOCTop&quot; title=&quot;Go to top of tiddler&quot; href=&quot;javascript:;&quot;&gt; [top]&lt;/a&gt;&lt;/div&gt;&lt;/h1&gt;&lt;ul&gt;&lt;li&gt; above show that vagrant can't access any hive resources&lt;/li&gt;&lt;li&gt; below creates a policy so that the vagrant user can have access only on vagrant database &lt;/li&gt;&lt;/ul&gt;&lt;img src=&quot;https://i.imgur.com/ILAy3K1.png&quot; title=&quot;SHIFT-CLICK=show full size, CTRL-CLICK=restore initial size&quot; style=&quot;width: 90%; height: 90%; cursor: move;&quot;&gt;&lt;br&gt;&lt;img src=&quot;https://i.imgur.com/0dJMRVs.png&quot; title=&quot;SHIFT-CLICK=show full size, CTRL-CLICK=restore initial size&quot; style=&quot;width: 90%; height: 90%; cursor: move;&quot;&gt;&lt;br&gt;&lt;img src=&quot;https://i.imgur.com/o7ZBgPb.png&quot; title=&quot;SHIFT-CLICK=show full size, CTRL-CLICK=restore initial size&quot; style=&quot;width: 90%; height: 90%; cursor: move;&quot;&gt;&lt;br&gt;&lt;img src=&quot;https://i.imgur.com/kMGyFjY.png&quot; title=&quot;SHIFT-CLICK=show full size, CTRL-CLICK=restore initial size&quot; style=&quot;width: 90%; height: 90%; cursor: move;&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;h2&gt; vagrant user can only access the vagrant database and not others &lt;div style=&quot;font-size: 0.5em; color: blue;&quot;&gt;&lt;a class=&quot;dcTOCTop&quot; title=&quot;Go to top of tiddler&quot; href=&quot;javascript:;&quot;&gt; [top]&lt;/a&gt;&lt;/div&gt;&lt;/h2&gt;&lt;pre&gt;
[vagrant@node2 ~]$ klist
Ticket cache: FILE:/tmp/krb5cc_1000
Default principal: vagrant@EXAMPLE.COM

Valid starting       Expires              Service principal
01/09/2019 01:43:51  01/10/2019 01:43:51  krbtgt/EXAMPLE.COM@EXAMPLE.COM
[vagrant@node2 ~]$ 
[vagrant@node2 ~]$ 
[vagrant@node2 ~]$ 
[vagrant@node2 ~]$ cd /vagrant/scripts/
[vagrant@node2 scripts]$ ./beeline_withkrb.sh 
Connecting to jdbc:hive2://localhost:10000/default;principal=hive/node2.example.com@EXAMPLE.COM;auth=kerberos
Connected to: Apache Hive (version 1.2.1000.2.6.5.1050-37)
Driver: Hive JDBC (version 1.2.1000.2.6.5.1050-37)
Transaction isolation: TRANSACTION_REPEATABLE_READ
Beeline version 1.2.1000.2.6.5.1050-37 by Apache Hive
0: jdbc:hive2://localhost:10000/default&amp;gt; 
0: jdbc:hive2://localhost:10000/default&amp;gt; show databases;
+----------------+--+
| database_name  |
+----------------+--+
+----------------+--+
No rows selected (0.615 seconds)
0: jdbc:hive2://localhost:10000/default&amp;gt; 
0: jdbc:hive2://localhost:10000/default&amp;gt; use hr;
Error: Error while compiling statement: FAILED: HiveAccessControlException Permission denied: user [vagrant] does not have [USE] privilege on [hr] (state=42000,code=40000)
0: jdbc:hive2://localhost:10000/default&amp;gt; 
0: jdbc:hive2://localhost:10000/default&amp;gt; create database vagrant;
No rows affected (1.756 seconds)
0: jdbc:hive2://localhost:10000/default&amp;gt; 
0: jdbc:hive2://localhost:10000/default&amp;gt; show databases;
+----------------+--+
| database_name  |
+----------------+--+
| vagrant        |
+----------------+--+
1 row selected (1.185 seconds)
0: jdbc:hive2://localhost:10000/default&amp;gt; 
0: jdbc:hive2://localhost:10000/default&amp;gt; use vagrant;
No rows affected (1.537 seconds)
0: jdbc:hive2://localhost:10000/default&amp;gt; 
0: jdbc:hive2://localhost:10000/default&amp;gt; create table test (id int);
No rows affected (1.028 seconds)
0: jdbc:hive2://localhost:10000/default&amp;gt; 
0: jdbc:hive2://localhost:10000/default&amp;gt; select * from test;
+----------+--+
| test.id  |
+----------+--+
+----------+--+
No rows selected (0.804 seconds)
0: jdbc:hive2://localhost:10000/default&amp;gt; 
0: jdbc:hive2://localhost:10000/default&amp;gt; create database vagrant2;
Error: Error while compiling statement: FAILED: HiveAccessControlException Permission denied: user [vagrant] does not have [CREATE] privilege on [vagrant2] (state=42000,code=40000)
0: jdbc:hive2://localhost:10000/default&amp;gt; 

&lt;/pre&gt;&lt;br&gt;&lt;h2&gt; but hive user will have access to vagrant database, because it has more privileges but you can lockout the hive user through policies and kerberos&lt;div style=&quot;font-size: 0.5em; color: blue;&quot;&gt;&lt;a class=&quot;dcTOCTop&quot; title=&quot;Go to top of tiddler&quot; href=&quot;javascript:;&quot;&gt; [top]&lt;/a&gt;&lt;/div&gt;&lt;/h2&gt;&lt;pre&gt;[hive@node1 ~]$ kinit
Password for hive@EXAMPLE.COM: 
[hive@node1 ~]$ 
[hive@node1 ~]$ 
[hive@node1 ~]$ hive
log4j:WARN No such property [maxFileSize] in org.apache.log4j.DailyRollingFileAppender.

Logging initialized using configuration in file:/etc/hive/2.6.5.1050-37/0/hive-log4j.properties
hive&amp;gt; 
    &amp;gt; 
    &amp;gt; 
    &amp;gt; show databases;
OK
default
hr
vagrant
Time taken: 2.56 seconds, Fetched: 3 row(s)
hive&amp;gt; 
    &amp;gt; 
    &amp;gt; 
    &amp;gt; use vagrant;
OK
Time taken: 1.876 seconds
hive&amp;gt; 
    &amp;gt; 
    &amp;gt; 
    &amp;gt; show tables;
OK
test
Time taken: 0.492 seconds, Fetched: 1 row(s)
hive&amp;gt; 
    &amp;gt; 
    &amp;gt; select * from test;
OK
Time taken: 1.141 seconds
hive&amp;gt; 
    &amp;gt; 

&lt;/pre&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;</description>
<category>03 (authorization) hadoop configure ranger</category>
<link>http://karlarao.tiddlyspot.com#%5B%5Bhive%20on%20ranger%5D%5D</link>
<pubDate>Wed, 09 Jan 2019 18:22:00 GMT</pubDate>

</item>
<item>
<title>01 (authentication) hadoop configure kerberos</title>
<description>&lt;div class=&quot;dcTOC&quot;&gt;&lt;a class=&quot;toggleButton&quot; title=&quot;show/collapse table of contents&quot; href=&quot;javascript:;&quot;&gt;/* Table of Contents */&lt;/a&gt;&lt;div&gt;&lt;ul&gt;&lt;li&gt;&lt;span&gt;&lt;a href=&quot;javascript:;&quot; onclick=&quot;window.scrollToHeading('', ' install software on node2', event)&quot;&gt; install software on node2&lt;/a&gt;&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;&lt;a href=&quot;javascript:;&quot; onclick=&quot;window.scrollToHeading('', ' test login ', event)&quot;&gt; test login &lt;/a&gt;&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;&lt;a href=&quot;javascript:;&quot; onclick=&quot;window.scrollToHeading('', ' configure kerberos in ambari ', event)&quot;&gt; configure kerberos in ambari &lt;/a&gt;&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;&lt;a href=&quot;javascript:;&quot; onclick=&quot;window.scrollToHeading('', ' test kerberos from hdfs ', event)&quot;&gt; test kerberos from hdfs &lt;/a&gt;&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;&lt;a href=&quot;javascript:;&quot; onclick=&quot;window.scrollToHeading('', ' from KDC host, add principal on other users ', event)&quot;&gt; from KDC host, add principal on other users &lt;/a&gt;&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;&lt;a href=&quot;javascript:;&quot; onclick=&quot;window.scrollToHeading('', ' test new user principal ', event)&quot;&gt; test new user principal &lt;/a&gt;&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;&lt;a href=&quot;javascript:;&quot; onclick=&quot;window.scrollToHeading('', ' list principals ', event)&quot;&gt; list principals &lt;/a&gt;&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;&lt;a href=&quot;javascript:;&quot; onclick=&quot;window.scrollToHeading('', ' other references ', event)&quot;&gt; other references &lt;/a&gt;&lt;/span&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;/div&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;h1&gt; install software on node2&lt;div style=&quot;font-size: 0.5em; color: blue;&quot;&gt;&lt;a class=&quot;dcTOCTop&quot; title=&quot;Go to top of tiddler&quot; href=&quot;javascript:;&quot;&gt; [top]&lt;/a&gt;&lt;/div&gt;&lt;/h1&gt;&lt;pre&gt;[root@node2 scripts]# ./install_krb5.sh
&lt;/pre&gt;&lt;br&gt;&lt;h1&gt; test login &lt;div style=&quot;font-size: 0.5em; color: blue;&quot;&gt;&lt;a class=&quot;dcTOCTop&quot; title=&quot;Go to top of tiddler&quot; href=&quot;javascript:;&quot;&gt; [top]&lt;/a&gt;&lt;/div&gt;&lt;/h1&gt;&lt;pre&gt;[root@node2 scripts]# kinit admin/admin
Password for admin/admin@EXAMPLE.COM: 
[root@node2 scripts]# 
[root@node2 scripts]# klist
Ticket cache: KEYRING:persistent:0:0
Default principal: admin/admin@EXAMPLE.COM

Valid starting       Expires              Service principal
01/08/2019 17:47:41  01/09/2019 17:47:41  krbtgt/EXAMPLE.COM@EXAMPLE.COM
[root@node2 scripts]# 
&lt;/pre&gt;&lt;br&gt;&lt;h1&gt; configure kerberos in ambari &lt;div style=&quot;font-size: 0.5em; color: blue;&quot;&gt;&lt;a class=&quot;dcTOCTop&quot; title=&quot;Go to top of tiddler&quot; href=&quot;javascript:;&quot;&gt; [top]&lt;/a&gt;&lt;/div&gt;&lt;/h1&gt;&lt;img src=&quot;https://i.imgur.com/GTkXrtL.png&quot; title=&quot;SHIFT-CLICK=show full size, CTRL-CLICK=restore initial size&quot; style=&quot;width: 90%; height: 90%; cursor: move;&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;img src=&quot;https://i.imgur.com/u4opvr0.png&quot; title=&quot;SHIFT-CLICK=show full size, CTRL-CLICK=restore initial size&quot; style=&quot;width: 90%; height: 90%; cursor: move;&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;img src=&quot;https://i.imgur.com/VbQmRUQ.png&quot; title=&quot;SHIFT-CLICK=show full size, CTRL-CLICK=restore initial size&quot; style=&quot;width: 90%; height: 90%; cursor: move;&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;img src=&quot;https://i.imgur.com/oHHdXC1.png&quot; title=&quot;SHIFT-CLICK=show full size, CTRL-CLICK=restore initial size&quot; style=&quot;width: 90%; height: 90%; cursor: move;&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;img src=&quot;https://i.imgur.com/MlbhMgw.png&quot; title=&quot;SHIFT-CLICK=show full size, CTRL-CLICK=restore initial size&quot; style=&quot;width: 90%; height: 90%; cursor: move;&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;img src=&quot;https://i.imgur.com/7i7JRTT.png&quot; title=&quot;SHIFT-CLICK=show full size, CTRL-CLICK=restore initial size&quot; style=&quot;width: 90%; height: 90%; cursor: move;&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;img src=&quot;https://i.imgur.com/o7RhsLh.png&quot; title=&quot;SHIFT-CLICK=show full size, CTRL-CLICK=restore initial size&quot; style=&quot;width: 90%; height: 90%; cursor: move;&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;img src=&quot;https://i.imgur.com/yx6ORX2.png&quot; title=&quot;SHIFT-CLICK=show full size, CTRL-CLICK=restore initial size&quot; style=&quot;width: 90%; height: 90%; cursor: move;&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;ul&gt;&lt;li&gt; restart ambari server&lt;/li&gt;&lt;/ul&gt;&lt;img src=&quot;https://i.imgur.com/dBtX7my.png&quot; title=&quot;SHIFT-CLICK=show full size, CTRL-CLICK=restore initial size&quot; style=&quot;width: 90%; height: 90%; cursor: move;&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;ul&gt;&lt;li&gt; manually restart other services &lt;/li&gt;&lt;/ul&gt;&lt;img src=&quot;https://i.imgur.com/GiWRr6d.png&quot; title=&quot;SHIFT-CLICK=show full size, CTRL-CLICK=restore initial size&quot; style=&quot;width: 90%; height: 90%; cursor: move;&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;h1&gt; test kerberos from hdfs &lt;div style=&quot;font-size: 0.5em; color: blue;&quot;&gt;&lt;a class=&quot;dcTOCTop&quot; title=&quot;Go to top of tiddler&quot; href=&quot;javascript:;&quot;&gt; [top]&lt;/a&gt;&lt;/div&gt;&lt;/h1&gt;&lt;ul&gt;&lt;li&gt; it errors because only admin user is configured or have credentials &lt;/li&gt;&lt;/ul&gt;&lt;pre&gt;
[vagrant@node1 data]$ hadoop fs -ls
19/01/08 18:15:59 WARN ipc.Client: Exception encountered while connecting to the server : javax.security.sasl.SaslException: GSS initiate failed [Caused by GSSException: No valid credentials provided (Mechanism level: Failed to find any Kerberos tgt)]
ls: Failed on local exception: java.io.IOException: javax.security.sasl.SaslException: GSS initiate failed [Caused by GSSException: No valid credentials provided (Mechanism level: Failed to find any Kerberos tgt)]; Host Details : local host is: &quot;node1.example.com/192.168.199.2&quot;; destination host is: &quot;node1.example.com&quot;:8020; 

&lt;/pre&gt;&lt;br&gt;&lt;h1&gt; from KDC host, add principal on other users &lt;div style=&quot;font-size: 0.5em; color: blue;&quot;&gt;&lt;a class=&quot;dcTOCTop&quot; title=&quot;Go to top of tiddler&quot; href=&quot;javascript:;&quot;&gt; [top]&lt;/a&gt;&lt;/div&gt;&lt;/h1&gt;&lt;ul&gt;&lt;li&gt; kerberos can be linked to an existing active directory through TRUST (needs to be configured), so users will automatically be recognized &lt;/li&gt;&lt;li&gt; here we are adding the vagrant user to the principal &lt;/li&gt;&lt;/ul&gt;&lt;pre&gt;
-- summary commands 
sudo su - 
klist
kinit admin/admin
kadmin.local -q &quot;addprinc vagrant&quot;


-- detail 
[root@node2 scripts]# klist
klist: No credentials cache found (filename: /tmp/krb5cc_0)
[root@node2 scripts]# 
[root@node2 scripts]# 
[root@node2 scripts]# kinit admin/admin
Password for admin/admin@EXAMPLE.COM: 
[root@node2 scripts]# 
[root@node2 scripts]# 
[root@node2 scripts]# klist
Ticket cache: FILE:/tmp/krb5cc_0
Default principal: admin/admin@EXAMPLE.COM

Valid starting       Expires              Service principal
01/08/2019 18:34:19  01/09/2019 18:34:19  krbtgt/EXAMPLE.COM@EXAMPLE.COM
[root@node2 scripts]# 
[root@node2 scripts]# 
[root@node2 scripts]# kadmin.local -q &quot;addprinc vagrant&quot;
Authenticating as principal admin/admin@EXAMPLE.COM with password.
WARNING: no policy specified for vagrant@EXAMPLE.COM; defaulting to no policy
Enter password for principal &quot;vagrant@EXAMPLE.COM&quot;: &amp;lt;USE THE VAGRANT USER PASSWORD&amp;gt;
Re-enter password for principal &quot;vagrant@EXAMPLE.COM&quot;: &amp;lt;USE THE VAGRANT USER PASSWORD&amp;gt;
Principal &quot;vagrant@EXAMPLE.COM&quot; created.

&lt;/pre&gt;&lt;br&gt;&lt;br&gt;&lt;h1&gt; test new user principal &lt;div style=&quot;font-size: 0.5em; color: blue;&quot;&gt;&lt;a class=&quot;dcTOCTop&quot; title=&quot;Go to top of tiddler&quot; href=&quot;javascript:;&quot;&gt; [top]&lt;/a&gt;&lt;/div&gt;&lt;/h1&gt;&lt;pre&gt;[vagrant@node1 ~]$ kinit
Password for vagrant@EXAMPLE.COM: 
[vagrant@node1 ~]$ 
[vagrant@node1 ~]$ klist
Ticket cache: FILE:/tmp/krb5cc_1000
Default principal: vagrant@EXAMPLE.COM

Valid starting       Expires              Service principal
01/08/2019 18:35:52  01/09/2019 18:35:52  krbtgt/EXAMPLE.COM@EXAMPLE.COM
[vagrant@node1 ~]$ 
[vagrant@node1 ~]$ hadoop fs -ls
Found 3 items
-rw-r--r--   3 vagrant vagrant   16257213 2019-01-08 06:27 salaries.csv
-rw-r--r--   3 vagrant vagrant   16257213 2019-01-08 06:31 salaries2.csv
drwxr-xr-x   - vagrant vagrant          0 2019-01-08 06:58 test

&lt;/pre&gt;&lt;br&gt;&lt;br&gt;&lt;h1&gt; list principals &lt;div style=&quot;font-size: 0.5em; color: blue;&quot;&gt;&lt;a class=&quot;dcTOCTop&quot; title=&quot;Go to top of tiddler&quot; href=&quot;javascript:;&quot;&gt; [top]&lt;/a&gt;&lt;/div&gt;&lt;/h1&gt;&lt;pre&gt;kadmin.local -q &quot;list_principals&quot;

[root@node2 scripts]# kadmin.local -q &quot;list_principals&quot;
Authenticating as principal admin/admin@EXAMPLE.COM with password.
HTTP/node1.example.com@EXAMPLE.COM
HTTP/node2.example.com@EXAMPLE.COM
HTTP/node3.example.com@EXAMPLE.COM
K/M@EXAMPLE.COM
activity_analyzer/node1.example.com@EXAMPLE.COM
activity_explorer/node1.example.com@EXAMPLE.COM
admin/admin@EXAMPLE.COM
ambari-qa-hadoop@EXAMPLE.COM
ambari-server-hadoop@EXAMPLE.COM
amshbase/node1.example.com@EXAMPLE.COM
amszk/node1.example.com@EXAMPLE.COM
dn/node1.example.com@EXAMPLE.COM
dn/node2.example.com@EXAMPLE.COM
dn/node3.example.com@EXAMPLE.COM
hdfs-hadoop@EXAMPLE.COM
hive/node1.example.com@EXAMPLE.COM
hive/node2.example.com@EXAMPLE.COM
hive/node3.example.com@EXAMPLE.COM
jhs/node2.example.com@EXAMPLE.COM
kadmin/admin@EXAMPLE.COM
kadmin/changepw@EXAMPLE.COM
kadmin/node2.example.com@EXAMPLE.COM
keyadmin@EXAMPLE.COM
kiprop/node2.example.com@EXAMPLE.COM
krbtgt/EXAMPLE.COM@EXAMPLE.COM
nm/node1.example.com@EXAMPLE.COM
nm/node2.example.com@EXAMPLE.COM
nm/node3.example.com@EXAMPLE.COM
nn/node1.example.com@EXAMPLE.COM
nn/node2.example.com@EXAMPLE.COM
nn@EXAMPLE.COM
ranger@EXAMPLE.COM
rangeradmin/node2.example.com@EXAMPLE.COM
rangerlookup/node2.example.com@EXAMPLE.COM
rangertagsync/node1.example.com@EXAMPLE.COM
rangertagsync/node2.example.com@EXAMPLE.COM
rangerusersync/node2.example.com@EXAMPLE.COM
rm/node2.example.com@EXAMPLE.COM
vagrant@EXAMPLE.COM
yarn/node2.example.com@EXAMPLE.COM
zookeeper/node1.example.com@EXAMPLE.COM
zookeeper/node2.example.com@EXAMPLE.COM
zookeeper/node3.example.com@EXAMPLE.COM
&lt;/pre&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;h1&gt; other references &lt;div style=&quot;font-size: 0.5em; color: blue;&quot;&gt;&lt;a class=&quot;dcTOCTop&quot; title=&quot;Go to top of tiddler&quot; href=&quot;javascript:;&quot;&gt; [top]&lt;/a&gt;&lt;/div&gt;&lt;/h1&gt;&lt;a target=&quot;_blank&quot; title=&quot;External link to https://community.pivotal.io/s/article/Kerberos-Cheat-Sheet&quot; href=&quot;https://community.pivotal.io/s/article/Kerberos-Cheat-Sheet&quot; class=&quot;externalLink&quot;&gt;https://community.pivotal.io/s/article/Kerberos-Cheat-Sheet&lt;/a&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;.&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;</description>
<category>hdp security</category>
<link>http://karlarao.tiddlyspot.com#%5B%5B01%20(authentication)%20hadoop%20configure%20kerberos%5D%5D</link>
<pubDate>Wed, 09 Jan 2019 17:04:00 GMT</pubDate>

</item>
</channel>
</rss>